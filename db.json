{"meta":{"version":1,"warehouse":"5.0.1"},"models":{"Asset":[{"_id":"node_modules/hexo-theme-redefine/source/assets/hbe.style.css","path":"assets/hbe.style.css","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/assets/odometer-theme-minimal.css","path":"assets/odometer-theme-minimal.css","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/style.styl","path":"css/style.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/tailwind.source.css","path":"css/tailwind.source.css","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/fontawesome/all.min.css","path":"fontawesome/all.min.css","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/fontawesome/brands.min.css","path":"fontawesome/brands.min.css","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/fontawesome/duotone.min.css","path":"fontawesome/duotone.min.css","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/fontawesome/fontawesome.min.css","path":"fontawesome/fontawesome.min.css","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/fontawesome/light.min.css","path":"fontawesome/light.min.css","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/fontawesome/sharp-solid.min.css","path":"fontawesome/sharp-solid.min.css","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/fontawesome/solid.min.css","path":"fontawesome/solid.min.css","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/fontawesome/svg-with-js.min.css","path":"fontawesome/svg-with-js.min.css","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/fontawesome/regular.min.css","path":"fontawesome/regular.min.css","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/fontawesome/thin.min.css","path":"fontawesome/thin.min.css","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/fontawesome/v4-shims.min.css","path":"fontawesome/v4-shims.min.css","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/fontawesome/v4-font-face.min.css","path":"fontawesome/v4-font-face.min.css","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/fontawesome/v5-font-face.min.css","path":"fontawesome/v5-font-face.min.css","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/images/bookmark-placeholder.svg","path":"images/bookmark-placeholder.svg","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/images/loading.svg","path":"images/loading.svg","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/images/redefine-avatar.svg","path":"images/redefine-avatar.svg","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/images/redefine-favicon.svg","path":"images/redefine-favicon.svg","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/images/redefine-logo.svg","path":"images/redefine-logo.svg","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/images/redefine-logo.webp","path":"images/redefine-logo.webp","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/images/redefine-og.webp","path":"images/redefine-og.webp","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/images/wallhaven-wqery6-dark.webp","path":"images/wallhaven-wqery6-dark.webp","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/images/wallhaven-wqery6-light.webp","path":"images/wallhaven-wqery6-light.webp","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-brands-400.ttf","path":"webfonts/fa-brands-400.ttf","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-brands-400.woff2","path":"webfonts/fa-brands-400.woff2","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-duotone-900.ttf","path":"webfonts/fa-duotone-900.ttf","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-duotone-900.woff2","path":"webfonts/fa-duotone-900.woff2","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-light-300.ttf","path":"webfonts/fa-light-300.ttf","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-regular-400.ttf","path":"webfonts/fa-regular-400.ttf","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-regular-400.woff2","path":"webfonts/fa-regular-400.woff2","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-sharp-solid-900.ttf","path":"webfonts/fa-sharp-solid-900.ttf","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-sharp-solid-900.woff2","path":"webfonts/fa-sharp-solid-900.woff2","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-light-300.woff2","path":"webfonts/fa-light-300.woff2","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-solid-900.ttf","path":"webfonts/fa-solid-900.ttf","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-solid-900.woff2","path":"webfonts/fa-solid-900.woff2","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-thin-100.ttf","path":"webfonts/fa-thin-100.ttf","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-thin-100.woff2","path":"webfonts/fa-thin-100.woff2","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-v4compatibility.ttf","path":"webfonts/fa-v4compatibility.ttf","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-v4compatibility.woff2","path":"webfonts/fa-v4compatibility.woff2","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build.js","path":"js/build.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/main.js","path":"js/main.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/utils.js","path":"js/utils.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/build/tailwind.css","path":"css/build/tailwind.css","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/common/animated.styl","path":"css/common/animated.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/common/basic.styl","path":"css/common/basic.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/common/colors.styl","path":"css/common/colors.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/common/markdown.styl","path":"css/common/markdown.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/common/theme.styl","path":"css/common/theme.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/common/redefine-theme.styl","path":"css/common/redefine-theme.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/common/variables.styl","path":"css/common/variables.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/animations.styl","path":"css/layout/animations.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/article-content.styl","path":"css/layout/article-content.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/bookmarks.styl","path":"css/layout/bookmarks.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/archive-content.styl","path":"css/layout/archive-content.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/category-content.styl","path":"css/layout/category-content.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/category-list.styl","path":"css/layout/category-list.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/home-sidebar.styl","path":"css/layout/home-sidebar.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/home-content.styl","path":"css/layout/home-content.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/page.styl","path":"css/layout/page.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/tag-content.styl","path":"css/layout/tag-content.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/fonts/Geist/GeistVF.ttf","path":"fonts/Geist/GeistVF.ttf","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/fonts/Geist/GeistVF.woff","path":"fonts/Geist/GeistVF.woff","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/fonts/Geist/GeistVF.woff2","path":"fonts/Geist/GeistVF.woff2","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/fonts/Geist/geist.css","path":"fonts/Geist/geist.css","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/fonts/Chillax/Chillax-Variable.eot","path":"fonts/Chillax/Chillax-Variable.eot","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/fonts/Chillax/Chillax-Variable.ttf","path":"fonts/Chillax/Chillax-Variable.ttf","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/fonts/Chillax/Chillax-Variable.woff","path":"fonts/Chillax/Chillax-Variable.woff","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/fonts/Chillax/Chillax-Variable.woff2","path":"fonts/Chillax/Chillax-Variable.woff2","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/fonts/Chillax/chillax.css","path":"fonts/Chillax/chillax.css","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/fonts/GeistMono/GeistMonoVF.ttf","path":"fonts/GeistMono/GeistMonoVF.ttf","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/fonts/GeistMono/GeistMonoVF.woff","path":"fonts/GeistMono/GeistMonoVF.woff","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/fonts/GeistMono/GeistMonoVF.woff2","path":"fonts/GeistMono/GeistMonoVF.woff2","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/fonts/GeistMono/geist-mono.css","path":"fonts/GeistMono/geist-mono.css","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/main.js","path":"js/build/main.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/main.js.map","path":"js/build/main.js.map","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/utils.js","path":"js/build/utils.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/utils.js.map","path":"js/build/utils.js.map","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/APlayer.min.js","path":"js/libs/APlayer.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/APlayer.min.js.map","path":"js/libs/APlayer.min.js.map","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/Swup.min.js","path":"js/libs/Swup.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/Swup.min.js.map","path":"js/libs/Swup.min.js.map","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/SwupPreloadPlugin.min.js","path":"js/libs/SwupPreloadPlugin.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/SwupPreloadPlugin.min.js.map","path":"js/libs/SwupPreloadPlugin.min.js.map","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/SwupProgressPlugin.min.js","path":"js/libs/SwupProgressPlugin.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/SwupScriptsPlugin.min.js","path":"js/libs/SwupScriptsPlugin.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/SwupScrollPlugin.min.js","path":"js/libs/SwupScrollPlugin.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/SwupScrollPlugin.min.js.map","path":"js/libs/SwupScrollPlugin.min.js.map","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/SwupSlideTheme.min.js","path":"js/libs/SwupSlideTheme.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/Typed.min.js","path":"js/libs/Typed.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/anime.min.js","path":"js/libs/anime.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/mermaid.min.js","path":"js/libs/mermaid.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/mermaid.min.js.map","path":"js/libs/mermaid.min.js.map","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/minimasonry.min.js","path":"js/libs/minimasonry.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/moment-with-locales.min.js","path":"js/libs/moment-with-locales.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/moment.min.js","path":"js/libs/moment.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/odometer.min.js","path":"js/libs/odometer.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/pangu.min.js","path":"js/libs/pangu.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/pjax.min.js","path":"js/libs/pjax.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/waline.mjs.map","path":"js/libs/waline.mjs.map","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/waline.mjs","path":"js/libs/waline.mjs","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/layouts/bookmarkNav.js","path":"js/layouts/bookmarkNav.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/layouts/categoryList.js","path":"js/layouts/categoryList.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/layouts/essays.js","path":"js/layouts/essays.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/layouts/lazyload.js","path":"js/layouts/lazyload.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/layouts/navbarShrink.js","path":"js/layouts/navbarShrink.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/layouts/toc.js","path":"js/layouts/toc.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/plugins/aplayer.js","path":"js/plugins/aplayer.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/plugins/hbe.js","path":"js/plugins/hbe.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/plugins/masonry.js","path":"js/plugins/masonry.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/plugins/pangu.js","path":"js/plugins/pangu.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/plugins/tabs.js","path":"js/plugins/tabs.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/plugins/mermaid.js","path":"js/plugins/mermaid.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/plugins/typed.js","path":"js/plugins/typed.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/tools/codeBlock.js","path":"js/tools/codeBlock.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/tools/imageViewer.js","path":"js/tools/imageViewer.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/tools/lightDarkSwitch.js","path":"js/tools/lightDarkSwitch.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/tools/localSearch.js","path":"js/tools/localSearch.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/tools/runtime.js","path":"js/tools/runtime.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/tools/tocToggle.js","path":"js/tools/tocToggle.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/tools/scrollTopBottom.js","path":"js/tools/scrollTopBottom.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/code-block.styl","path":"css/common/codeblock/code-block.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/code-theme.styl","path":"css/common/codeblock/code-theme.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/highlight.styl","path":"css/common/codeblock/highlight.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/layouts/bookmarkNav.js","path":"js/build/layouts/bookmarkNav.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/layouts/bookmarkNav.js.map","path":"js/build/layouts/bookmarkNav.js.map","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/layouts/categoryList.js","path":"js/build/layouts/categoryList.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/layouts/categoryList.js.map","path":"js/build/layouts/categoryList.js.map","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/layouts/essays.js","path":"js/build/layouts/essays.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/layouts/essays.js.map","path":"js/build/layouts/essays.js.map","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/layouts/lazyload.js.map","path":"js/build/layouts/lazyload.js.map","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/layouts/navbarShrink.js","path":"js/build/layouts/navbarShrink.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/layouts/lazyload.js","path":"js/build/layouts/lazyload.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/layouts/navbarShrink.js.map","path":"js/build/layouts/navbarShrink.js.map","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/layouts/toc.js","path":"js/build/layouts/toc.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/layouts/toc.js.map","path":"js/build/layouts/toc.js.map","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/APlayer.min.js","path":"js/build/libs/APlayer.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/Swup.min.js","path":"js/build/libs/Swup.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/SwupPreloadPlugin.min.js","path":"js/build/libs/SwupPreloadPlugin.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/SwupProgressPlugin.min.js","path":"js/build/libs/SwupProgressPlugin.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/SwupScriptsPlugin.min.js","path":"js/build/libs/SwupScriptsPlugin.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/SwupScrollPlugin.min.js","path":"js/build/libs/SwupScrollPlugin.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/SwupSlideTheme.min.js","path":"js/build/libs/SwupSlideTheme.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/Typed.min.js","path":"js/build/libs/Typed.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/anime.min.js","path":"js/build/libs/anime.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/mermaid.min.js","path":"js/build/libs/mermaid.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/minimasonry.min.js","path":"js/build/libs/minimasonry.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/moment-with-locales.min.js","path":"js/build/libs/moment-with-locales.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/moment.min.js","path":"js/build/libs/moment.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/odometer.min.js","path":"js/build/libs/odometer.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/pangu.min.js","path":"js/build/libs/pangu.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/pjax.min.js","path":"js/build/libs/pjax.min.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/plugins/aplayer.js","path":"js/build/plugins/aplayer.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/plugins/aplayer.js.map","path":"js/build/plugins/aplayer.js.map","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/plugins/hbe.js","path":"js/build/plugins/hbe.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/plugins/hbe.js.map","path":"js/build/plugins/hbe.js.map","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/plugins/masonry.js","path":"js/build/plugins/masonry.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/plugins/masonry.js.map","path":"js/build/plugins/masonry.js.map","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/plugins/mermaid.js","path":"js/build/plugins/mermaid.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/plugins/mermaid.js.map","path":"js/build/plugins/mermaid.js.map","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/plugins/pangu.js","path":"js/build/plugins/pangu.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/plugins/pangu.js.map","path":"js/build/plugins/pangu.js.map","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/plugins/tabs.js","path":"js/build/plugins/tabs.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/plugins/tabs.js.map","path":"js/build/plugins/tabs.js.map","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/plugins/typed.js","path":"js/build/plugins/typed.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/plugins/typed.js.map","path":"js/build/plugins/typed.js.map","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/tools/codeBlock.js","path":"js/build/tools/codeBlock.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/tools/codeBlock.js.map","path":"js/build/tools/codeBlock.js.map","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/tools/imageViewer.js","path":"js/build/tools/imageViewer.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/tools/imageViewer.js.map","path":"js/build/tools/imageViewer.js.map","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/tools/lightDarkSwitch.js","path":"js/build/tools/lightDarkSwitch.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/tools/lightDarkSwitch.js.map","path":"js/build/tools/lightDarkSwitch.js.map","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/tools/localSearch.js","path":"js/build/tools/localSearch.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/tools/localSearch.js.map","path":"js/build/tools/localSearch.js.map","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/tools/runtime.js","path":"js/build/tools/runtime.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/tools/runtime.js.map","path":"js/build/tools/runtime.js.map","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/tools/scrollTopBottom.js","path":"js/build/tools/scrollTopBottom.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/tools/scrollTopBottom.js.map","path":"js/build/tools/scrollTopBottom.js.map","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/tools/tocToggle.js","path":"js/build/tools/tocToggle.js","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/js/build/tools/tocToggle.js.map","path":"js/build/tools/tocToggle.js.map","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/hljs-themes/dark/a11y-dark.styl","path":"css/common/codeblock/hljs-themes/dark/a11y-dark.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/hljs-themes/dark/agate.styl","path":"css/common/codeblock/hljs-themes/dark/agate.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/hljs-themes/dark/atom-one-dark.styl","path":"css/common/codeblock/hljs-themes/dark/atom-one-dark.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/hljs-themes/dark/github-dark.styl","path":"css/common/codeblock/hljs-themes/dark/github-dark.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/hljs-themes/dark/monokai-sublime.styl","path":"css/common/codeblock/hljs-themes/dark/monokai-sublime.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/hljs-themes/dark/night-owl.styl","path":"css/common/codeblock/hljs-themes/dark/night-owl.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/hljs-themes/dark/nord.styl","path":"css/common/codeblock/hljs-themes/dark/nord.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/hljs-themes/dark/tokyo-night-dark.styl","path":"css/common/codeblock/hljs-themes/dark/tokyo-night-dark.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/hljs-themes/dark/vs2015.styl","path":"css/common/codeblock/hljs-themes/dark/vs2015.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/hljs-themes/light/atom-one-light.styl","path":"css/common/codeblock/hljs-themes/light/atom-one-light.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/hljs-themes/light/default.styl","path":"css/common/codeblock/hljs-themes/light/default.styl","modified":0,"renderable":1},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/hljs-themes/light/github.styl","path":"css/common/codeblock/hljs-themes/light/github.styl","modified":0,"renderable":1}],"Cache":[{"_id":"source/_posts/hello-world.md","hash":"fbd64e9d382da5dc96c358bb8dabf66da83ffd0b","modified":1743324616893},{"_id":"node_modules/hexo-theme-redefine/.coderabbit.yaml","hash":"ba28a5250f22db9a8eb9cd1ee282285eddd848a8","modified":1742187274000},{"_id":"node_modules/hexo-theme-redefine/CODE_OF_CONDUCT.md","hash":"61a6276ef54989b7a1325f3ecb3183a4dfdf50cb","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/CONTRIBUTING.md","hash":"c6ef834f602b7ae02e2863a2a857e0ce8d392f15","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/DONATION.md","hash":"08e105bad07d733efb98543a034f930c569f5c2f","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/LICENSE","hash":"1de7bacb4fbbd7b6d391a69abfe174c2509ec303","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/README.md","hash":"44578ceb782516967dc0de15fbbc1a78c0986aed","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/README_zh-CN.md","hash":"7f7ced9ebf32ab9561ce5bd54445c9622dda6fb1","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/README_zh-TW.md","hash":"07acc04ccf38f40b5f6be18529c283ab11bec9c3","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/package.json","hash":"1b4d36f90309f4e28b4266ef76f76202d7f38b10","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/tailwind.config.js","hash":"63797b8595e3a59c1cdaad7c9268a292fc9c558c","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/_config.yml","hash":"c2721e3cd69d2308a5e46a84394ebbff6a21555e","modified":1742187274000},{"_id":"node_modules/hexo-theme-redefine/vercel.json","hash":"357c1fd2678f8ae4a9a852a1a6888c8eca774551","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/.husky/pre-commit","hash":"843996b47615c2f8c1037db9183de3006166ac1d","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/languages/en.yml","hash":"4cc09fff6895fd864044d7c11f8638ab92d98453","modified":1742187274000},{"_id":"node_modules/hexo-theme-redefine/languages/ja.yml","hash":"6da103d89685ddf6da4c367efd699c6fc1a15f84","modified":1742187274000},{"_id":"node_modules/hexo-theme-redefine/languages/zh-CN.yml","hash":"67d93982759d79f38afadeef871c80b08c21c7ca","modified":1742187274000},{"_id":"node_modules/hexo-theme-redefine/languages/fr.yml","hash":"a249af0bd206f10ce78b186b8f0ef6c483ddfcad","modified":1742187274000},{"_id":"node_modules/hexo-theme-redefine/languages/zh-TW.yml","hash":"218fcc4db1d2211bd9839895d7ad6b70a5d50897","modified":1742187274000},{"_id":"node_modules/hexo-theme-redefine/layout/404.ejs","hash":"8456f112fc12bbb1c83cd190d0ce83ee474bd297","modified":1742187268299},{"_id":"node_modules/hexo-theme-redefine/layout/archive.ejs","hash":"8456f112fc12bbb1c83cd190d0ce83ee474bd297","modified":1742187268301},{"_id":"node_modules/hexo-theme-redefine/layout/category.ejs","hash":"8456f112fc12bbb1c83cd190d0ce83ee474bd297","modified":1742187268309},{"_id":"node_modules/hexo-theme-redefine/layout/layout.ejs","hash":"ecf818cd11e363c1a33e7105ac415d8c192c1f73","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/index.ejs","hash":"f5fee4e079a9c2c23059ebde4cd89ec723e310c6","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/post.ejs","hash":"f5fee4e079a9c2c23059ebde4cd89ec723e310c6","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/tag.ejs","hash":"8456f112fc12bbb1c83cd190d0ce83ee474bd297","modified":1742187268331},{"_id":"node_modules/hexo-theme-redefine/layout/page.ejs","hash":"3dc83dae73b48b3e6ae65bdaf6106ec711c88ecd","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/tags.ejs","hash":"8456f112fc12bbb1c83cd190d0ce83ee474bd297","modified":1742187268333},{"_id":"node_modules/hexo-theme-redefine/scripts/config-export.js","hash":"b10185069cd3f3fd7873982e259e402d5f146a58","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/scripts/data-handle.js","hash":"c72188b7dd0596d618ecbd3deb1b49ef257014df","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/.github/ISSUE_TEMPLATE/bug-chinese.yml","hash":"73df1f0aabb527a9e3c131d0f0eda0db8b7a1f3b","modified":1742187274000},{"_id":"node_modules/hexo-theme-redefine/.github/ISSUE_TEMPLATE/bug-english.yml","hash":"bf91936a78a2e444dbaf916755f502cc0abe7be3","modified":1742187274000},{"_id":"node_modules/hexo-theme-redefine/.github/ISSUE_TEMPLATE/enhancement-english.yml","hash":"d072e75c10673fb70be74f89dff8b1bae6df0c8f","modified":1742187274000},{"_id":"node_modules/hexo-theme-redefine/.github/ISSUE_TEMPLATE/enhancement-chinese.yml","hash":"1ea9f2b52f53e5d1525bb22709bcf37da5a6da01","modified":1742187274000},{"_id":"node_modules/hexo-theme-redefine/.github/workflows/aliyun-cdn-publish.yml","hash":"18975c5422509b0fb7c3b6ddd788eac65802781a","modified":1742187274000},{"_id":"node_modules/hexo-theme-redefine/.github/workflows/build-and-commit.yml","hash":"6cb6834cd753e38dadb25c6492347ddd247935ea","modified":1742187274000},{"_id":"node_modules/hexo-theme-redefine/.github/workflows/production-deployment.yml","hash":"d411d426c6df79ac7e487401f0f11206c245d1c1","modified":1742187274000},{"_id":"node_modules/hexo-theme-redefine/.github/workflows/npm-publish.yml","hash":"3379098cb32de9ee4f6e69eb91505a4d3a2f37e6","modified":1742187274000},{"_id":"node_modules/hexo-theme-redefine/.github/workflows/stale-issues.yml","hash":"4ae03f0bd4aaf5ccaa08205af07218d406e921da","modified":1742187274000},{"_id":"node_modules/hexo-theme-redefine/.github/workflows/preview-deployment.yml","hash":"7fa8860dd2ba4ffc11fbfa1a7d57140af2a0abf0","modified":1742187274000},{"_id":"node_modules/hexo-theme-redefine/layout/components/scripts.ejs","hash":"373cbbf8fe0a39fc3de14579e0b3ae20cb429998","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/components/swup.ejs","hash":"ac0263cdb945ad99876a246db43801213b45b309","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/pages/page-template.ejs","hash":"75a41b963a4ed3fcae846163bc674d8d185a27a9","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/utils/image-viewer.ejs","hash":"2f31d56e7ed88dadeacffa5af69931461f4fb4f9","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/utils/local-search.ejs","hash":"06ad51a60648100fcf8a750c471a48bd1c9b31b8","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/utils/posts-list.ejs","hash":"80dd9ff9b135b582c32c5506d237db71fa742be5","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/utils/paginator.ejs","hash":"cb0a8fca60575195f65510c1a52a7145c819de14","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/utils/side-tools.ejs","hash":"c915643e05f1038549e353a371d72f5bb38c2040","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/scripts/events/404.js","hash":"169245d7b2af1ff401cf76e718c28b4e38f637c7","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/scripts/events/welcome.js","hash":"7b1e16ef62edfc63ab06b390867aad0ede9589fb","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/scripts/filters/delete-mask-handle.js","hash":"088e205976a09c8ee7afec6445847ed4b3aef71f","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/scripts/filters/encrypt.js","hash":"bf6b90842991a25af590af76f10d7164ea34abcb","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/scripts/filters/img-handle.js","hash":"b396fe7b6cbc331f2952aa7561f96c1f250d8c52","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/scripts/filters/lazyload-handle.js","hash":"f8ae44311e6463e887c07a41910ebade8766bac2","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/scripts/filters/link-handle.js","hash":"d168d78034c5fa5a75978f47185b50fd79ba54cf","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/scripts/filters/stylus-handle.js","hash":"8a8bf069ce096bd7b42952c8e50c3c89758cbc13","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/scripts/filters/table-handle.js","hash":"c500c45cd9221788df1f31939c5399eabb62ebb5","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/scripts/helpers/meta-helpers.js","hash":"5484677eb8064880019642f139e4a29f21cab495","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/scripts/helpers/page-helpers.js","hash":"beaeb760eaa92bb63272d21d0d99ab64b78980e8","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/scripts/helpers/theme-helpers.js","hash":"0674a7bb30878f7eb6e5711e5ac05542d863082b","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/scripts/helpers/recommendation-helpers.js","hash":"b9ede93bfd16af13871625d2d127bf79d99724d1","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/scripts/helpers/waline-helpers.js","hash":"9f2c3d6c4c7cf6212d28be0729816cd66921bd67","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/scripts/modules/btn.js","hash":"aa7a34ff5fb0a624163c38fffe0746cef44d2ea3","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/scripts/modules/btns.js","hash":"a91492e772287114527a3fbc85f0c7c1c1b15eb3","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/scripts/modules/folding.js","hash":"cfa6646c1350c557430149bd52578c6cac59063b","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/scripts/modules/note-large.js","hash":"ed719ca36bcbfbfd86d4ade5825e8adbbecf29fe","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/scripts/modules/note.js","hash":"d3a0c043246adc0082387c9e39908c18e953d858","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/scripts/modules/tabs.js","hash":"74e3b0cdd009206f7b78b04dcb96eccd86e7a996","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/assets/hbe.style.css","hash":"29be8fc47be885e9954e310cbc68dfadd3b4cee6","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/assets/odometer-theme-minimal.css","hash":"793c31feb38e241a5ff6ecc5e65e61751507d728","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/css/style.styl","hash":"0d78bda29a5b0446074ed724f4f9fe772d4b15cc","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/tailwind.source.css","hash":"1dc3152fe841290f3bd56074f726df975ab91b6e","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/fontawesome/brands.min.css","hash":"5119c35bbd273d2ea2501997827f6d644da93164","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/fontawesome/light.min.css","hash":"18a176eb2486db4e938e568083fa578b641ccc83","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/fontawesome/sharp-solid.min.css","hash":"7d1a13c6b8178b29f5bcb1a639a1998fc9de16c4","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/fontawesome/solid.min.css","hash":"e727feabedb171fb0b398151870d7739ef4e2432","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/fontawesome/svg-with-js.min.css","hash":"f4c08e37c4d44b3ed7a3f377d1cb5d7fca4d04bc","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/fontawesome/thin.min.css","hash":"3d46be31379b07ffb24d69c6c915725eaa2e89e9","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/fontawesome/v4-shims.min.css","hash":"96f037860b8e9b59af8e47571ea98791616dbfd8","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/fontawesome/regular.min.css","hash":"d27c4fed54dacff688010e51f611d950dd6e0aca","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/fontawesome/v4-font-face.min.css","hash":"0be987628c8b485b39f064da41c90f15c0596c1f","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/fontawesome/v5-font-face.min.css","hash":"260ea7a5e0b89963a5dcf2600a4decdf0f408f3f","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/images/bookmark-placeholder.svg","hash":"255a1236bab60d2871da31e4f0db947b44931df6","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/images/loading.svg","hash":"938c2a41c8ba18e37ed659e481696e40a4c8f3a4","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/images/redefine-avatar.svg","hash":"d0d20061bda08894a82d7691b660be7c6aaa0608","modified":1742187270449},{"_id":"node_modules/hexo-theme-redefine/source/images/redefine-favicon.svg","hash":"420f930a1df64a3c4391ff80326a8a2d7d5a6418","modified":1742187270450},{"_id":"node_modules/hexo-theme-redefine/source/images/redefine-logo.svg","hash":"472776b6f013aad44706fee6c94201c96ee83932","modified":1742187270450},{"_id":"node_modules/hexo-theme-redefine/source/images/redefine-logo.webp","hash":"0a07e3fb6d9125dee44798c8c110187b16fb42a9","modified":1742187271657},{"_id":"node_modules/hexo-theme-redefine/source/images/redefine-og.webp","hash":"44fb793383da185808ed682d7dd916e10eb65b4d","modified":1742187271677},{"_id":"node_modules/hexo-theme-redefine/source/images/wallhaven-wqery6-dark.webp","hash":"d0066e0b025ae748448a3d6a96165d45a55d2f22","modified":1742187271691},{"_id":"node_modules/hexo-theme-redefine/source/images/wallhaven-wqery6-light.webp","hash":"d25389973d0359b78f1e9c74a850ef425690ba40","modified":1742187271718},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-v4compatibility.ttf","hash":"b54531dd09c5089eb93b12ce8f90ff521855ff8a","modified":1742187271593},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-v4compatibility.woff2","hash":"d02b1adc81fd5bec023e25a7770779b99d6dd742","modified":1742187272827},{"_id":"node_modules/hexo-theme-redefine/source/js/build.js","hash":"61eb4760cefeffa79550f3f7387e701d554a0709","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/main.js","hash":"cee5f0dcb5b1f0f7f952e24d31cce2bd785b29cc","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/utils.js","hash":"5efa4c652a1e7f4852fb8df9bf60de170b4b41db","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/components/comments/comment.ejs","hash":"98c2db06626a82f24886cd8b77118014ef8aa6e2","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/components/comments/giscus.ejs","hash":"afa08ddc80ae3f1c57d9b85d2625f11751801540","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/components/comments/gitalk.ejs","hash":"f94607c4bb12f5c2325e674e25a428dae742e99e","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/components/comments/twikoo.ejs","hash":"49d230c1a732e0f3504a57dfd169738156ed22ba","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/components/comments/waline.ejs","hash":"35239e49743c6b7f40014bd753bff9c415b5fcbb","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/components/footer/footer.ejs","hash":"acb56ecba5c231f5c8c6701de6d54e3d654948a2","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/components/header/navbar.ejs","hash":"e520f72c4d5116bd0f4c65f3efe617e0a494e2fb","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/components/header/head.ejs","hash":"1287e5913f72f6624ff375dc51c939823c55d4da","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/components/header/preloader.ejs","hash":"a450ba1381dd43d348a3f538bb17ffbd1d332cad","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/components/plugins/aplayer.ejs","hash":"2d34a3583ac0b2b08b6ae035e8d3f97c51db070c","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/components/header/progress-bar.ejs","hash":"e552f0f5e6ab6398ab42eef1788f7c0dcb8f4c18","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/pages/archive/archive.ejs","hash":"11fb21fe971157a1a6053ecbd6de9ffbe8ba88a8","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/components/sidebar/author.ejs","hash":"422aed0f3f67529c1ea87ee43f8f680ffc531b45","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/components/sidebar/avatar.ejs","hash":"47cd8318471493c82f5e5983550145d4fd0a2ddc","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/components/sidebar/statistics.ejs","hash":"4329363d232de541e1cb8f24eb59c1a8bacc9b9c","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/pages/bookmarks/bookmarks.ejs","hash":"38ab41cfe2d31ee145af229b3b65ac8743821e0d","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/pages/category/categories.ejs","hash":"fe6e11590c28cc8462a04580868aa6b8b472a9d1","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/pages/category/category-detail.ejs","hash":"ee99263b6761e9865b06d427597435e69b40dda9","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/pages/friends/friends-link.ejs","hash":"c4a8555880ab546a9bc829386c4fc2b43cdcece2","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/pages/home/home-article.ejs","hash":"b54a0df26341fa5f26a6e1eedb91cd11014d50c5","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/pages/home/home-background.ejs","hash":"dd120259ab091b8087d0194ea2291676556efad8","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/pages/home/home-banner.ejs","hash":"0e0a29a652e5063d89bee3037c3410865f6852a7","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/pages/home/home-content.ejs","hash":"6985ec3528866f90ce882564556c30c151050061","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/pages/home/home-sidebar.ejs","hash":"8df645c6e1878187909d749639ecce6edc0ee72c","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/pages/masonry/masonry.ejs","hash":"c45f6faf5ccd4db3bd5533eacb6333744a480e27","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/pages/notfound/notfound.ejs","hash":"5e90d8519d19a31234de10a33983b8d70aed94a2","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/pages/post/article-content.ejs","hash":"8b0b987406057f2eb2ade99f6d68ef5577e14a79","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/pages/post/article-copyright.ejs","hash":"8e97d76ded33d1e334c376451e2f3d5fd177a958","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/pages/post/article-info.ejs","hash":"f42db25cc0f4e3bbce5b8602365025dd37d643d0","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/pages/post/post-tools.ejs","hash":"5336e36394250d2f25d26432262061c752b1868a","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/pages/post/toc.ejs","hash":"c3bd7f4632ded1b59a2479028070fa2b292d8c5e","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/pages/shuoshuo/essays.ejs","hash":"7d9e7de29e1dab92c333affd5c592e2ee2e92293","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/pages/tag/tag-detail.ejs","hash":"8864356337a301a123e85fb3aec6f3d9b1f2197c","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/layout/pages/tag/tags.ejs","hash":"ff59878833eb2a72fda7c78690a36a9c0c522c76","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/scripts/filters/lib/hbe.default.js","hash":"fee2c92011ef007121b992193bbab0f3b196d873","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/css/build/tailwind.css","hash":"298ca1975af73e8101d77491566de03543a56a65","modified":1742187268295},{"_id":"node_modules/hexo-theme-redefine/source/css/common/animated.styl","hash":"1d5a026f3a023031772fdca7d7359bbe7a28548a","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/common/basic.styl","hash":"81bab41a756832a86a6c06df1ea298e4849435f9","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/common/colors.styl","hash":"e4a5336757de7b04c01d8c2a2b4bb1de885c6ae0","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/common/markdown.styl","hash":"b356d00c6c6557cf7708a02080b163dc0b667184","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/common/theme.styl","hash":"0c5eedb57874c91babdb603b1daef35d70a7c150","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/common/redefine-theme.styl","hash":"068b95881387ee2b70ba94a6489ee21171f26bf3","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/common/variables.styl","hash":"961f936e6d08372bdc1e9379e7d1288410e4a319","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/animations.styl","hash":"2c48fec80bd56164bff297727d06ab5c343b3b41","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/article-content.styl","hash":"94771695782abe5e723918a1319a953fbd2031e0","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/bookmarks.styl","hash":"a89f96f73d9f1d51e455b53bbcf13d003d672d33","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/archive-content.styl","hash":"4e329547447c716c986e0b4a4f54afc59fc6b486","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/category-content.styl","hash":"1221a4e0fa2ab5c49e886e0a5bb6dc1d23d969e8","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/category-list.styl","hash":"aaccab4fb21e25086323e7e418e7fea945f551be","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/home-sidebar.styl","hash":"daad28f2c004f7afe335080d67e977660829d63e","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/home-content.styl","hash":"65a5184a667966f5c5387662de77da512faa4e0e","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/page.styl","hash":"ffc2622357f1556a95fc8f138b7e8ac27b0bba2c","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/tag-content.styl","hash":"3d08edcfbd866627f5681c368d5c61270ba2f682","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/fonts/Geist/GeistVF.woff2","hash":"772998a8569a6caa04927d876fbe9e0fb859658b","modified":1742187272875},{"_id":"node_modules/hexo-theme-redefine/source/fonts/Geist/geist.css","hash":"17f37a09d6192f06b2190f8319114238b0a2ec8c","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/fonts/Chillax/Chillax-Variable.woff","hash":"fc0e791429c274c4c9312d810e7ae9503cab34ab","modified":1742187271732},{"_id":"node_modules/hexo-theme-redefine/source/fonts/Chillax/Chillax-Variable.woff2","hash":"fc5d99b40db9deca7d151f9bd16b96ff160828b7","modified":1742187271807},{"_id":"node_modules/hexo-theme-redefine/source/fonts/Chillax/chillax.css","hash":"210179f53c6bce91a12ca6db9129184cc1549c36","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/fonts/GeistMono/GeistMonoVF.woff2","hash":"11e9a061ce255fc4cc45ac3eeb8cab09a49f5ccc","modified":1742187272854},{"_id":"node_modules/hexo-theme-redefine/source/fonts/GeistMono/geist-mono.css","hash":"b89d5af7e04df579c8ad62c0ea445ff7d16eec11","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/main.js","hash":"2fcd1ce192bb34997c2e962d9c98a389573969ac","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/main.js.map","hash":"b089351e96e8f99395ac9b44aea257364a475dca","modified":1742187269378},{"_id":"node_modules/hexo-theme-redefine/source/js/build/utils.js","hash":"5a3707671ffb8544ef6e90c3713c4da785f06488","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/utils.js.map","hash":"d9a1eed23a96de49c30ebccb52620e24204ea10e","modified":1742187270262},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/APlayer.min.js","hash":"22caa28ff6b41a16ff40f15d38f1739e22359478","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/Swup.min.js","hash":"cc054d34e74a1feecfae75064f6a4d6107607396","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/SwupPreloadPlugin.min.js","hash":"d911512891ecbe1935203bcd3d93427ad75e45c8","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/SwupPreloadPlugin.min.js.map","hash":"40513fec1323b601667876a97a9ef8a0c88bff63","modified":1742187270258},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/SwupProgressPlugin.min.js","hash":"fd30fe1c43072017f67bbaac18b962a5ac218711","modified":1742187269349},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/SwupScriptsPlugin.min.js","hash":"b17f3434035f1339d6f9cd5c8a055d2a1b6602e9","modified":1742187269351},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/SwupScrollPlugin.min.js","hash":"6c3afca9bb98f79d14516c093f27e3e50a3fd82e","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/SwupScrollPlugin.min.js.map","hash":"63cf04ba556b256379e103ef7d3ba12d629449a4","modified":1742187270259},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/SwupSlideTheme.min.js","hash":"e9d143780e879d958164b1356b7f918ec25e838a","modified":1742187269353},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/Typed.min.js","hash":"e8ce2b674a637b0c0396a3106c1aedf10186249c","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/anime.min.js","hash":"47cb482a8a488620a793d50ba8f6752324b46af3","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/minimasonry.min.js","hash":"9681cc509cb8aa733d36aad032e6e8acdb33c08c","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/moment.min.js","hash":"20bd76acf8e950e5cf7243f60e1192705dacca7d","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/odometer.min.js","hash":"fe5beb60997c84ab2f91b54535c4221443cdd21f","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/pangu.min.js","hash":"ebc25ecdbf464407c5886f024d13f1f6da51ec85","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/pjax.min.js","hash":"3d796e5be9cdd4067c94e190ea2482d7fdb4856c","modified":1742187269341},{"_id":"node_modules/hexo-theme-redefine/source/js/layouts/bookmarkNav.js","hash":"3155ed3e6e2aa2e32dbd9e4e06b863e63c2a9b9d","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/layouts/categoryList.js","hash":"eb1af2cd0726f56ff7861222ea543315fe295a17","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/layouts/essays.js","hash":"df82365c7287710dd876e452f8ef4e1d87b8c09e","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/layouts/lazyload.js","hash":"c06323d68bbdebbb685db5010e7655b8ed0caf42","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/layouts/navbarShrink.js","hash":"3e80bf9ef719b2ddb2d1c4b67eb169d2ef52dbb8","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/layouts/toc.js","hash":"7a768982f6cb1f40552cce063d5743fe862db762","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/plugins/aplayer.js","hash":"f2818445cfbdbf936f136c3d0f983583c581d77e","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/plugins/masonry.js","hash":"92734a30a21f8b16f20aa75208f6c082890275fb","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/plugins/hbe.js","hash":"f7bd9258359dc8f70c6faec3f4fe22a1852d9bf1","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/plugins/pangu.js","hash":"25af6a33c9176a00f21f45cf5cfad0eb7d473841","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/plugins/tabs.js","hash":"964ec5c25a8d78763ba2ba9bfbd5b1b49ed05381","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/plugins/mermaid.js","hash":"303254d382869ed618025fcb328426bd10314583","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/plugins/typed.js","hash":"f46f636a32e7569a9ff8b8b301bf860e598bd4fe","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/tools/imageViewer.js","hash":"33c4e4a28cf66be0cb3f181acae082a5a5404a89","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/tools/codeBlock.js","hash":"344e6c83e6ffda22f6e5bc724d603066b49a7d8b","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/tools/lightDarkSwitch.js","hash":"97b7e68f871dc218fceca77b85ac051c7c6306af","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/tools/localSearch.js","hash":"f6e59f65c676457198c2cf5d78bd06052499ee38","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/tools/runtime.js","hash":"eb0374b6f033f7ac25f49b1b079aa163e14b0fcd","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/tools/tocToggle.js","hash":"c2224ff0370fcf109e94194613b9480a3913c82d","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/tools/scrollTopBottom.js","hash":"9e54fa4310bb98ea5ba61780a9ef56d05d475203","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/code-block.styl","hash":"e6a793c6b2c54549db8226fcb13ee3c4b3a1c45d","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/code-theme.styl","hash":"79d13151f771a7a967fbf18eab955354466335a8","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/_modules/aplayer.styl","hash":"5d9b58f0d5226ef2a2a67502577539115ae29942","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/highlight.styl","hash":"35cfa277f1f2ea3c3876e50ac56c7401e1b8a4c7","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/_modules/buttons.styl","hash":"32be9cf72f19b588b6e0db6b6e23146293b64268","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/_modules/notes.styl","hash":"37b2a4a0669414c74498ed0ecae873c90b15fe6e","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/_modules/tabs.styl","hash":"fb5f2f223f7d4ed86d3693fdc0977362f456212e","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/_modules/folding.styl","hash":"b5e5c2407eb83ae4b3ee4ed73490dcd41edef705","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/_partials/404.styl","hash":"16215f6fe664d1ddc5744a626405bc774dc30f70","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/_partials/archive-list.styl","hash":"d57516e1723b807d38cb7955a9a1422dd03ac820","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/_partials/article-copyright-info.styl","hash":"12fad2f674e8a7ad009cabecf4e98b65d5ed8b1e","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/_partials/article-meta-info.styl","hash":"141ae2639ac760ced89887cce139adbc76c18cea","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/_partials/footer.styl","hash":"0dc8796e312215e45e1daf566a495c00480b68e3","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/_partials/image-viewer.styl","hash":"6c8eeb7a96cae110cd9a684a3a5076148b8154d8","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/_partials/home-banner.styl","hash":"9f0fb6bd26e73bf07c556a3c1f552997234cb81c","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/_partials/local-search.styl","hash":"45e7580258bc2d85cc12313abcc24cba9e531e00","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/_partials/navbar.styl","hash":"b95efbade2b4cfd8000fd8238bdbd3de522b319e","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/_partials/page-template.styl","hash":"e2e1826427e1fc5f88d4c31ddd508818a0b0d87d","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/_partials/paginator.styl","hash":"53421b731f3d7ed34a3a4c87405e06ae3d6519e0","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/_partials/post-tools.styl","hash":"d602c2fe191d2c639f7cd8c4d0ee618f8c80f5c1","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/_partials/progress-bar.styl","hash":"d3715280d9b62d89ccd1b79ab5e5f030669f4d88","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/_partials/side-tools.styl","hash":"995982b8c228f7386d352042f64587d06663716e","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/_partials/tagcloud.styl","hash":"cb12c8ef44b5e597eb971d3341919fe9569da709","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/_partials/toc.styl","hash":"13949981a5afa2b0483da1836af5999d992961f9","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/layouts/bookmarkNav.js","hash":"a92d80fb49180a2700e069451c3ee9fde3f7cde0","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/layouts/bookmarkNav.js.map","hash":"ba215231cccf6495570205bf974a83142592a22b","modified":1742187269372},{"_id":"node_modules/hexo-theme-redefine/source/js/build/layouts/categoryList.js","hash":"cd8e7825b6dce79cac97e6047f9a80f0fb893213","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/layouts/categoryList.js.map","hash":"fb9f8f83a1d0510eaa510fe58891de555d4839a8","modified":1742187269372},{"_id":"node_modules/hexo-theme-redefine/source/js/build/layouts/essays.js","hash":"fbd5599508c60dc20fa90a9f37db27770e3773d5","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/layouts/essays.js.map","hash":"60c58a3fc229cd497ad782e6f2b642e6be600e4c","modified":1742187269373},{"_id":"node_modules/hexo-theme-redefine/source/js/build/layouts/lazyload.js.map","hash":"d365d984dfa37411397b36c69e24e4d5d0b32bee","modified":1742187269375},{"_id":"node_modules/hexo-theme-redefine/source/js/build/layouts/navbarShrink.js","hash":"181c0c7e45f0c3a099d272b7c531559cd0d4fdbf","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/layouts/lazyload.js","hash":"eacb006bd852a3c9881438b75d45e72d87914ad7","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/layouts/navbarShrink.js.map","hash":"275dbb4ded89c2d2d805edbbf678475139bcc442","modified":1742187270252},{"_id":"node_modules/hexo-theme-redefine/source/js/build/layouts/toc.js","hash":"892929c5bb2293804f4c5f911dd901969f08ef67","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/layouts/toc.js.map","hash":"9a413e8dbc2ff2a6fc21eb2899e59d5af75942a3","modified":1742187270261},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/APlayer.min.js","hash":"22caa28ff6b41a16ff40f15d38f1739e22359478","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/Swup.min.js","hash":"cc054d34e74a1feecfae75064f6a4d6107607396","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/SwupPreloadPlugin.min.js","hash":"d911512891ecbe1935203bcd3d93427ad75e45c8","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/SwupScriptsPlugin.min.js","hash":"b17f3434035f1339d6f9cd5c8a055d2a1b6602e9","modified":1742187269350},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/SwupProgressPlugin.min.js","hash":"fd30fe1c43072017f67bbaac18b962a5ac218711","modified":1742187269349},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/SwupScrollPlugin.min.js","hash":"6c3afca9bb98f79d14516c093f27e3e50a3fd82e","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/SwupSlideTheme.min.js","hash":"e9d143780e879d958164b1356b7f918ec25e838a","modified":1742187269353},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/Typed.min.js","hash":"e8ce2b674a637b0c0396a3106c1aedf10186249c","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/anime.min.js","hash":"47cb482a8a488620a793d50ba8f6752324b46af3","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/minimasonry.min.js","hash":"9681cc509cb8aa733d36aad032e6e8acdb33c08c","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/moment.min.js","hash":"20bd76acf8e950e5cf7243f60e1192705dacca7d","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/odometer.min.js","hash":"fe5beb60997c84ab2f91b54535c4221443cdd21f","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/pangu.min.js","hash":"ebc25ecdbf464407c5886f024d13f1f6da51ec85","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/pjax.min.js","hash":"3d796e5be9cdd4067c94e190ea2482d7fdb4856c","modified":1742187269340},{"_id":"node_modules/hexo-theme-redefine/source/js/build/plugins/aplayer.js","hash":"bef8536cb25306f78f80c1744c07544a46dac970","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/plugins/aplayer.js.map","hash":"daefe65fb99e2f7699f3fd25ec90b7f38469da5d","modified":1742187269367},{"_id":"node_modules/hexo-theme-redefine/source/js/build/plugins/hbe.js","hash":"383a946a2be735bc30c0bb331bbee335fe5b6942","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/plugins/masonry.js","hash":"b5b44a6d4b74beea1938334b3558bd3d1caec07a","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/plugins/hbe.js.map","hash":"53deed7e9b802b964ff90d3303f957238f2b1421","modified":1742187269374},{"_id":"node_modules/hexo-theme-redefine/source/js/build/plugins/masonry.js.map","hash":"b2d93754a64f84ef67528d320de69561fc763525","modified":1742187269378},{"_id":"node_modules/hexo-theme-redefine/source/js/build/plugins/mermaid.js","hash":"2deee4201b637c54c1be0e1b686a97050fb37cce","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/plugins/mermaid.js.map","hash":"5a8b4e15316517af607d3c12cf4a6e3447cfec22","modified":1742187269379},{"_id":"node_modules/hexo-theme-redefine/source/js/build/plugins/pangu.js","hash":"e96959eb39ca702242aca08c75f2230aa1bda7e4","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/plugins/pangu.js.map","hash":"27d5318b81541274c3026e4892ee43ba2c410951","modified":1742187270252},{"_id":"node_modules/hexo-theme-redefine/source/js/build/plugins/tabs.js","hash":"b14b70e316e3151d591f03cbaf3c70c11ae5aad5","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/plugins/tabs.js.map","hash":"218abee3893ecdee6f6c633b9fd13520a4eefabf","modified":1742187270260},{"_id":"node_modules/hexo-theme-redefine/source/js/build/plugins/typed.js","hash":"d8999de0b92fe1e1c9061040d6e95a9b607caa23","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/plugins/typed.js.map","hash":"4840c94f7639cee4615916ce2cabd172a565a71c","modified":1742187270262},{"_id":"node_modules/hexo-theme-redefine/source/js/build/tools/codeBlock.js","hash":"8aa8e62cdc3891c9c608c1f52866aeab8cef0457","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/tools/codeBlock.js.map","hash":"fe609e1f8c1d028eca5e131b6a98cd71547be39c","modified":1742187269373},{"_id":"node_modules/hexo-theme-redefine/source/js/build/tools/imageViewer.js","hash":"310f06d38245235e1a65a5a7f1a6f673647faa6f","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/tools/imageViewer.js.map","hash":"6bf89edc74bc48b0e6f616d1ac0b0bb52df09353","modified":1742187269375},{"_id":"node_modules/hexo-theme-redefine/source/js/build/tools/lightDarkSwitch.js","hash":"dee772cad8a9ab42d54b6ea99599534524c47f18","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/tools/lightDarkSwitch.js.map","hash":"0fd195af186727b3b6f8a7d29035f35f7375e5a1","modified":1742187269376},{"_id":"node_modules/hexo-theme-redefine/source/js/build/tools/localSearch.js","hash":"4ddb3808f9216b848a14e66c813ae883d0f883b1","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/tools/localSearch.js.map","hash":"86630e1b406ad10fe0450ccc49fbf07154fab9e5","modified":1742187269377},{"_id":"node_modules/hexo-theme-redefine/source/js/build/tools/runtime.js","hash":"99d9fbc2022a12dd7f9bab4f88384f563f3f51e8","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/tools/runtime.js.map","hash":"43ed778e985cbf71e7d62c5960da98a431ad43e3","modified":1742187270253},{"_id":"node_modules/hexo-theme-redefine/source/js/build/tools/scrollTopBottom.js","hash":"037720022f64622f244682c176c5f0ab8f1efb54","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/tools/scrollTopBottom.js.map","hash":"76a041bbbd0d49426322c4fc1ee05bf327ffb7bd","modified":1742187270253},{"_id":"node_modules/hexo-theme-redefine/source/js/build/tools/tocToggle.js.map","hash":"6fd262220a32c784f194d21c7e514f21122bde2f","modified":1742187270261},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/_partials/comments/comment.styl","hash":"71529ec72f356c78f75a752e5400c1197aa5ea96","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/_partials/comments/twikoo.styl","hash":"448cbc045bcffa2d666094b81dd99eb980676fff","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/tools/tocToggle.js","hash":"978bc1a31f8026ac9522198bca3c892ebf3551bc","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/_partials/comments/gitalk.styl","hash":"85f26189ec6dee13a0a743687e7b5391f170c33f","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/layout/_partials/comments/waline.styl","hash":"0663e8e50eff65afb4dbcbc7c4758d8acdd1d368","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/hljs-themes/dark/a11y-dark.styl","hash":"457e0df301f4dc1cc96371e65173b94bec0161fe","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/hljs-themes/dark/agate.styl","hash":"a33ce49622c788e5d8bba32573e0b701e4cb7ead","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/hljs-themes/dark/atom-one-dark.styl","hash":"8802725310cf86c4a179d874072188f31d10b224","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/hljs-themes/dark/github-dark.styl","hash":"fab5f7f62407b66f8b5f2837b178ef5b09a4badc","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/hljs-themes/dark/monokai-sublime.styl","hash":"803773d8c6dd5ecf957596ca57584a6618f373ac","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/hljs-themes/dark/night-owl.styl","hash":"07c331a0c45051e93d24e10688425f1e30f0e99f","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/hljs-themes/dark/nord.styl","hash":"9b88c9e8bca2b8995fdc71519c01a9c80121161c","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/hljs-themes/dark/tokyo-night-dark.styl","hash":"2ae8e43a87b18bb899ac9c802d3774232160b8e7","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/hljs-themes/dark/vs2015.styl","hash":"c54d91bf767efe0671c4dfbe874fac678cfde117","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/hljs-themes/light/atom-one-light.styl","hash":"99de67d507bd6ffed5993097a6ce2be6422480b1","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/hljs-themes/light/default.styl","hash":"c2b8d16ba4dffdd3bae4db4f817bc18cdd7c1d60","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/css/common/codeblock/hljs-themes/light/github.styl","hash":"a2a15ed938b319c369569845bf35d00c6624d136","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-brands-400.woff2","hash":"a358912d781e6249a8d291e4ce9ebd0a9ab9452e","modified":1742187271861},{"_id":"node_modules/hexo-theme-redefine/source/fonts/Geist/GeistVF.ttf","hash":"9a531509e4e768e9102d11f5d7d293e3f04d9c64","modified":1742187271651},{"_id":"node_modules/hexo-theme-redefine/source/fonts/Geist/GeistVF.woff","hash":"d06c767b3837999a8b98426e4eb16ca0a8080880","modified":1742187271787},{"_id":"node_modules/hexo-theme-redefine/source/fonts/GeistMono/GeistMonoVF.ttf","hash":"d72ec9d729305fc24f38e1ba69174e93b700cd69","modified":1742187271624},{"_id":"node_modules/hexo-theme-redefine/source/fonts/GeistMono/GeistMonoVF.woff","hash":"fd8c986a8767d59a36e2d194299466720c916ee2","modified":1742187271759},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/Swup.min.js.map","hash":"f74755d9318a86939791027767f631472b876207","modified":1742187270257},{"_id":"node_modules/hexo-theme-redefine/source/fontawesome/fontawesome.min.css","hash":"44e6d666b45a6875e4fce11159876129e7a1cceb","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-brands-400.ttf","hash":"ba9322d66c19f635e15e458cc39fcb509818332f","modified":1742187270493},{"_id":"node_modules/hexo-theme-redefine/source/fonts/Chillax/Chillax-Variable.eot","hash":"50a4e2ab17155fe7449e0ee488a6242180f3b256","modified":1742187268351},{"_id":"node_modules/hexo-theme-redefine/source/fonts/Chillax/Chillax-Variable.ttf","hash":"01aafadc0ca4ace59127a5594a8f534e83b84879","modified":1742187270454},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/APlayer.min.js.map","hash":"31a19da0f0cb6b00ec212eafa847f31af86788df","modified":1742187269371},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/waline.mjs","hash":"d94e0f396776a003b603d6e90a732a548c2fda33","modified":1742187272000},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-sharp-solid-900.woff2","hash":"74d0af1108ab8157993ca03cef80e89e35e2408d","modified":1742187272566},{"_id":"node_modules/hexo-theme-redefine/source/fontawesome/duotone.min.css","hash":"0becc4b085bd9d377a8ff4b5160f8e19c8ec27a0","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-solid-900.woff2","hash":"e73d164db2aff2c91d18c07da03e8db9d0c5dfd4","modified":1742187272629},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/moment-with-locales.min.js","hash":"dd1c67b36c800c00b7901f17af6200b26f2bb42c","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/moment-with-locales.min.js","hash":"dd1c67b36c800c00b7901f17af6200b26f2bb42c","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-duotone-900.woff2","hash":"2cc24434345b80a844a6bda1139539fe41e4df53","modified":1742187272038},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-regular-400.woff2","hash":"486fed640153de1de84f460834c73daef060ed20","modified":1742187272557},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-light-300.woff2","hash":"def760895375328ccdcf62b2b9b9001a21947acd","modified":1742187272545},{"_id":"node_modules/hexo-theme-redefine/source/fontawesome/all.min.css","hash":"630bf0e29410ec27622f65d1270c6bc435cdff21","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-thin-100.woff2","hash":"e0a4482c20f6b67784df54965539a317a3bd681b","modified":1742187272826},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-sharp-solid-900.ttf","hash":"0d710cd7bd1b7ff574e88bb812de82babe45e415","modified":1742187271208},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-solid-900.ttf","hash":"40b536c3667547db70ee9ca6f3c94fbc33e0cab7","modified":1742187271359},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-regular-400.ttf","hash":"cdec068700dc440530e5bbeff7e8bb33a01b4132","modified":1742187271092},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/waline.mjs.map","hash":"37c5b3e6aa5e1b70358426345a1a1329d6b896d3","modified":1742187270368},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-light-300.ttf","hash":"cc5d9f4f994c82e23f58cdde1eec8792d81633c7","modified":1742187270911},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-thin-100.ttf","hash":"c1fee6e6986b14533ce022afada5fbe10c0f6562","modified":1742187271590},{"_id":"node_modules/hexo-theme-redefine/source/webfonts/fa-duotone-900.ttf","hash":"e0313a772ea710cb5ea4bd08f5dedb0a0025f8ca","modified":1742187270712},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/mermaid.min.js","hash":"22eeb45e4dfff78a42bc8dad60d3a8ff64968a9d","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/build/libs/mermaid.min.js","hash":"22eeb45e4dfff78a42bc8dad60d3a8ff64968a9d","modified":1742187270000},{"_id":"node_modules/hexo-theme-redefine/source/js/libs/mermaid.min.js.map","hash":"2e1a632f0588c4370188887d79a10ff8b38a49b5","modified":1742187272000},{"_id":"public/404.html","hash":"c35bb3d29bbd5a1f757f0e6b00d598b6d20a3b3a","modified":1749829814973},{"_id":"public/2025/03/17/hello-world/index.html","hash":"9c4eeb09db81a76e513fd00c6460457eb0bac5ad","modified":1742723400159},{"_id":"public/archives/index.html","hash":"ea06f438a6d2fa03569d03929bb6dbbf5ebc8945","modified":1749829814973},{"_id":"public/archives/2025/index.html","hash":"af12e3dd70629eff35541de0f85b0efc00affc23","modified":1749829814973},{"_id":"public/archives/2025/03/index.html","hash":"b40a535d3cfa7654b77dcc483487a4e428ac44da","modified":1749829814973},{"_id":"public/index.html","hash":"288ac0cdb5bd8e51f855b0a19001a015df1dee1a","modified":1749829814973},{"_id":"public/images/bookmark-placeholder.svg","hash":"255a1236bab60d2871da31e4f0db947b44931df6","modified":1742906620828},{"_id":"public/images/loading.svg","hash":"938c2a41c8ba18e37ed659e481696e40a4c8f3a4","modified":1742906620828},{"_id":"public/images/redefine-avatar.svg","hash":"d0d20061bda08894a82d7691b660be7c6aaa0608","modified":1745133981639},{"_id":"public/images/redefine-logo.svg","hash":"472776b6f013aad44706fee6c94201c96ee83932","modified":1745133981639},{"_id":"public/images/redefine-favicon.svg","hash":"420f930a1df64a3c4391ff80326a8a2d7d5a6418","modified":1745133981639},{"_id":"public/images/redefine-logo.webp","hash":"0a07e3fb6d9125dee44798c8c110187b16fb42a9","modified":1745133981639},{"_id":"public/images/redefine-og.webp","hash":"44fb793383da185808ed682d7dd916e10eb65b4d","modified":1744989517328},{"_id":"public/images/wallhaven-wqery6-dark.webp","hash":"d0066e0b025ae748448a3d6a96165d45a55d2f22","modified":1742187338606},{"_id":"public/images/wallhaven-wqery6-light.webp","hash":"d25389973d0359b78f1e9c74a850ef425690ba40","modified":1742187338606},{"_id":"public/webfonts/fa-v4compatibility.ttf","hash":"b54531dd09c5089eb93b12ce8f90ff521855ff8a","modified":1742187338606},{"_id":"public/webfonts/fa-v4compatibility.woff2","hash":"d02b1adc81fd5bec023e25a7770779b99d6dd742","modified":1742187338606},{"_id":"public/fonts/Geist/GeistVF.woff2","hash":"772998a8569a6caa04927d876fbe9e0fb859658b","modified":1742187338606},{"_id":"public/fonts/Chillax/Chillax-Variable.woff","hash":"fc0e791429c274c4c9312d810e7ae9503cab34ab","modified":1742187338606},{"_id":"public/fonts/Chillax/Chillax-Variable.woff2","hash":"fc5d99b40db9deca7d151f9bd16b96ff160828b7","modified":1742187338606},{"_id":"public/fonts/GeistMono/GeistMonoVF.woff2","hash":"11e9a061ce255fc4cc45ac3eeb8cab09a49f5ccc","modified":1742187338606},{"_id":"public/js/build/main.js.map","hash":"b089351e96e8f99395ac9b44aea257364a475dca","modified":1742187338606},{"_id":"public/js/build/utils.js.map","hash":"d9a1eed23a96de49c30ebccb52620e24204ea10e","modified":1742187338606},{"_id":"public/js/libs/SwupPreloadPlugin.min.js.map","hash":"40513fec1323b601667876a97a9ef8a0c88bff63","modified":1742187338606},{"_id":"public/js/libs/SwupScrollPlugin.min.js.map","hash":"63cf04ba556b256379e103ef7d3ba12d629449a4","modified":1742187338606},{"_id":"public/js/build/layouts/bookmarkNav.js.map","hash":"ba215231cccf6495570205bf974a83142592a22b","modified":1742187338606},{"_id":"public/js/build/layouts/categoryList.js.map","hash":"fb9f8f83a1d0510eaa510fe58891de555d4839a8","modified":1742187338606},{"_id":"public/js/plugins/hbe.js","hash":"f7bd9258359dc8f70c6faec3f4fe22a1852d9bf1","modified":1743239473498},{"_id":"public/js/build/layouts/navbarShrink.js.map","hash":"275dbb4ded89c2d2d805edbbf678475139bcc442","modified":1742187338606},{"_id":"public/js/build/plugins/aplayer.js.map","hash":"daefe65fb99e2f7699f3fd25ec90b7f38469da5d","modified":1742187338606},{"_id":"public/js/build/layouts/essays.js.map","hash":"60c58a3fc229cd497ad782e6f2b642e6be600e4c","modified":1742187338606},{"_id":"public/js/build/plugins/hbe.js.map","hash":"53deed7e9b802b964ff90d3303f957238f2b1421","modified":1742187338606},{"_id":"public/js/build/plugins/mermaid.js.map","hash":"5a8b4e15316517af607d3c12cf4a6e3447cfec22","modified":1742187338606},{"_id":"public/js/build/plugins/masonry.js.map","hash":"b2d93754a64f84ef67528d320de69561fc763525","modified":1742187338606},{"_id":"public/js/build/plugins/pangu.js.map","hash":"27d5318b81541274c3026e4892ee43ba2c410951","modified":1742187338606},{"_id":"public/js/build/plugins/tabs.js.map","hash":"218abee3893ecdee6f6c633b9fd13520a4eefabf","modified":1742187338606},{"_id":"public/js/build/layouts/toc.js.map","hash":"9a413e8dbc2ff2a6fc21eb2899e59d5af75942a3","modified":1742187338606},{"_id":"public/js/build/layouts/lazyload.js.map","hash":"d365d984dfa37411397b36c69e24e4d5d0b32bee","modified":1742187338606},{"_id":"public/js/build/plugins/typed.js.map","hash":"4840c94f7639cee4615916ce2cabd172a565a71c","modified":1742187338606},{"_id":"public/js/build/tools/codeBlock.js.map","hash":"fe609e1f8c1d028eca5e131b6a98cd71547be39c","modified":1742187338606},{"_id":"public/js/build/tools/imageViewer.js.map","hash":"6bf89edc74bc48b0e6f616d1ac0b0bb52df09353","modified":1742187338606},{"_id":"public/js/build/tools/lightDarkSwitch.js.map","hash":"0fd195af186727b3b6f8a7d29035f35f7375e5a1","modified":1742187338606},{"_id":"public/js/build/tools/runtime.js.map","hash":"43ed778e985cbf71e7d62c5960da98a431ad43e3","modified":1742187338606},{"_id":"public/js/build/tools/scrollTopBottom.js.map","hash":"76a041bbbd0d49426322c4fc1ee05bf327ffb7bd","modified":1742187338606},{"_id":"public/js/build/tools/tocToggle.js.map","hash":"6fd262220a32c784f194d21c7e514f21122bde2f","modified":1742187338606},{"_id":"public/js/build/tools/localSearch.js.map","hash":"86630e1b406ad10fe0450ccc49fbf07154fab9e5","modified":1742187338606},{"_id":"public/css/hbe.style.css","hash":"29be8fc47be885e9954e310cbc68dfadd3b4cee6","modified":1743239473498},{"_id":"public/webfonts/fa-brands-400.woff2","hash":"a358912d781e6249a8d291e4ce9ebd0a9ab9452e","modified":1742187338606},{"_id":"public/fonts/Geist/GeistVF.ttf","hash":"9a531509e4e768e9102d11f5d7d293e3f04d9c64","modified":1742187338606},{"_id":"public/fonts/Geist/GeistVF.woff","hash":"d06c767b3837999a8b98426e4eb16ca0a8080880","modified":1742187338606},{"_id":"public/fonts/GeistMono/GeistMonoVF.ttf","hash":"d72ec9d729305fc24f38e1ba69174e93b700cd69","modified":1742187338606},{"_id":"public/fonts/GeistMono/GeistMonoVF.woff","hash":"fd8c986a8767d59a36e2d194299466720c916ee2","modified":1742187338606},{"_id":"public/js/libs/Swup.min.js.map","hash":"f74755d9318a86939791027767f631472b876207","modified":1742187338606},{"_id":"public/css/style.css","hash":"1b0981a67491d563f89733b37e8d584e8871ae31","modified":1742187338606},{"_id":"public/assets/odometer-theme-minimal.css","hash":"793c31feb38e241a5ff6ecc5e65e61751507d728","modified":1742187338606},{"_id":"public/css/tailwind.source.css","hash":"1dc3152fe841290f3bd56074f726df975ab91b6e","modified":1742187338606},{"_id":"public/assets/hbe.style.css","hash":"29be8fc47be885e9954e310cbc68dfadd3b4cee6","modified":1742187338606},{"_id":"public/fontawesome/brands.min.css","hash":"5119c35bbd273d2ea2501997827f6d644da93164","modified":1742187338606},{"_id":"public/fontawesome/light.min.css","hash":"18a176eb2486db4e938e568083fa578b641ccc83","modified":1742187338606},{"_id":"public/fontawesome/sharp-solid.min.css","hash":"7d1a13c6b8178b29f5bcb1a639a1998fc9de16c4","modified":1742187338606},{"_id":"public/fontawesome/solid.min.css","hash":"e727feabedb171fb0b398151870d7739ef4e2432","modified":1742187338606},{"_id":"public/fontawesome/svg-with-js.min.css","hash":"f4c08e37c4d44b3ed7a3f377d1cb5d7fca4d04bc","modified":1742187338606},{"_id":"public/fontawesome/regular.min.css","hash":"d27c4fed54dacff688010e51f611d950dd6e0aca","modified":1742187338606},{"_id":"public/fontawesome/thin.min.css","hash":"3d46be31379b07ffb24d69c6c915725eaa2e89e9","modified":1742187338606},{"_id":"public/fontawesome/v4-shims.min.css","hash":"96f037860b8e9b59af8e47571ea98791616dbfd8","modified":1742187338606},{"_id":"public/fontawesome/fontawesome.min.css","hash":"44e6d666b45a6875e4fce11159876129e7a1cceb","modified":1742187338606},{"_id":"public/fontawesome/v4-font-face.min.css","hash":"0be987628c8b485b39f064da41c90f15c0596c1f","modified":1742187338606},{"_id":"public/fontawesome/v5-font-face.min.css","hash":"260ea7a5e0b89963a5dcf2600a4decdf0f408f3f","modified":1742187338606},{"_id":"public/js/build.js","hash":"61eb4760cefeffa79550f3f7387e701d554a0709","modified":1742187338606},{"_id":"public/js/main.js","hash":"cee5f0dcb5b1f0f7f952e24d31cce2bd785b29cc","modified":1742187338606},{"_id":"public/js/utils.js","hash":"5efa4c652a1e7f4852fb8df9bf60de170b4b41db","modified":1742187338606},{"_id":"public/css/common/animated.css","hash":"ba9249b8bc0f2220620c552e215d1c3bdb1640e0","modified":1742187338606},{"_id":"public/css/build/tailwind.css","hash":"298ca1975af73e8101d77491566de03543a56a65","modified":1742187338606},{"_id":"public/css/common/basic.css","hash":"2537387462a69b6628fec0e629c20538b2009e2f","modified":1742187338606},{"_id":"public/css/common/markdown.css","hash":"881de2418975ebe1a11385d43fa5b99ea17717a2","modified":1742187338606},{"_id":"public/css/common/theme.css","hash":"03417a86860f60f803d2a424c96effdd91f77de5","modified":1742187338606},{"_id":"public/css/common/colors.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1742187338606},{"_id":"public/css/common/redefine-theme.css","hash":"9f4f241b990fea4fb6a5dd8bbcce42bb1ab23017","modified":1742187338606},{"_id":"public/css/common/variables.css","hash":"03417a86860f60f803d2a424c96effdd91f77de5","modified":1742187338606},{"_id":"public/fontawesome/duotone.min.css","hash":"0becc4b085bd9d377a8ff4b5160f8e19c8ec27a0","modified":1742187338606},{"_id":"public/css/layout/animations.css","hash":"aaffd18490f8be21e8bf8f9e1867a05bdc443801","modified":1742187338606},{"_id":"public/fontawesome/all.min.css","hash":"630bf0e29410ec27622f65d1270c6bc435cdff21","modified":1742187338606},{"_id":"public/css/layout/article-content.css","hash":"ae931250312a82492c9d883a364eb3400515b702","modified":1742187338606},{"_id":"public/css/layout/bookmarks.css","hash":"4f8097c9909cfc13723e30b55af0fcb4bd439a97","modified":1742187338606},{"_id":"public/css/layout/archive-content.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1742187338606},{"_id":"public/css/layout/category-content.css","hash":"5214491354fdd48584b0f82924c1d2f87e330d85","modified":1742187338606},{"_id":"public/css/layout/category-list.css","hash":"207173ef7a7835c0aee5cf72d85567dd413998c5","modified":1742187338606},{"_id":"public/css/layout/home-sidebar.css","hash":"3aaa5ea1c594ec908235892baea29b50fd232a1f","modified":1742187338606},{"_id":"public/css/layout/home-content.css","hash":"ce0494b2bb99ee9b0226a75f1872938992763dcb","modified":1742187338606},{"_id":"public/css/layout/page.css","hash":"44a6fdb35e6fac9cbe9d8b57ea693d8d9f9dfee8","modified":1742187338606},{"_id":"public/css/layout/tag-content.css","hash":"b2389fbfd0da531feb8164e6c88209c8122b6bd7","modified":1742187338606},{"_id":"public/fonts/Geist/geist.css","hash":"17f37a09d6192f06b2190f8319114238b0a2ec8c","modified":1742187338606},{"_id":"public/fonts/Chillax/chillax.css","hash":"210179f53c6bce91a12ca6db9129184cc1549c36","modified":1742187338606},{"_id":"public/fonts/GeistMono/geist-mono.css","hash":"b89d5af7e04df579c8ad62c0ea445ff7d16eec11","modified":1742187338606},{"_id":"public/js/build/main.js","hash":"2fcd1ce192bb34997c2e962d9c98a389573969ac","modified":1742187338606},{"_id":"public/js/build/utils.js","hash":"5a3707671ffb8544ef6e90c3713c4da785f06488","modified":1742187338606},{"_id":"public/js/libs/APlayer.min.js","hash":"22caa28ff6b41a16ff40f15d38f1739e22359478","modified":1742187338606},{"_id":"public/js/libs/Swup.min.js","hash":"cc054d34e74a1feecfae75064f6a4d6107607396","modified":1742187338606},{"_id":"public/js/libs/SwupPreloadPlugin.min.js","hash":"d911512891ecbe1935203bcd3d93427ad75e45c8","modified":1742187338606},{"_id":"public/js/libs/SwupProgressPlugin.min.js","hash":"fd30fe1c43072017f67bbaac18b962a5ac218711","modified":1742187338606},{"_id":"public/js/libs/SwupScriptsPlugin.min.js","hash":"b17f3434035f1339d6f9cd5c8a055d2a1b6602e9","modified":1742187338606},{"_id":"public/js/libs/SwupScrollPlugin.min.js","hash":"6c3afca9bb98f79d14516c093f27e3e50a3fd82e","modified":1742187338606},{"_id":"public/js/libs/SwupSlideTheme.min.js","hash":"e9d143780e879d958164b1356b7f918ec25e838a","modified":1742187338606},{"_id":"public/js/libs/Typed.min.js","hash":"e8ce2b674a637b0c0396a3106c1aedf10186249c","modified":1742187338606},{"_id":"public/js/libs/anime.min.js","hash":"47cb482a8a488620a793d50ba8f6752324b46af3","modified":1742187338606},{"_id":"public/js/libs/minimasonry.min.js","hash":"9681cc509cb8aa733d36aad032e6e8acdb33c08c","modified":1742187338606},{"_id":"public/js/libs/moment.min.js","hash":"20bd76acf8e950e5cf7243f60e1192705dacca7d","modified":1742187338606},{"_id":"public/js/libs/odometer.min.js","hash":"fe5beb60997c84ab2f91b54535c4221443cdd21f","modified":1742187338606},{"_id":"public/js/libs/pangu.min.js","hash":"ebc25ecdbf464407c5886f024d13f1f6da51ec85","modified":1742187338606},{"_id":"public/js/layouts/bookmarkNav.js","hash":"3155ed3e6e2aa2e32dbd9e4e06b863e63c2a9b9d","modified":1742187338606},{"_id":"public/js/libs/pjax.min.js","hash":"3d796e5be9cdd4067c94e190ea2482d7fdb4856c","modified":1742187338606},{"_id":"public/js/layouts/categoryList.js","hash":"eb1af2cd0726f56ff7861222ea543315fe295a17","modified":1742187338606},{"_id":"public/js/layouts/essays.js","hash":"df82365c7287710dd876e452f8ef4e1d87b8c09e","modified":1742187338606},{"_id":"public/js/layouts/lazyload.js","hash":"c06323d68bbdebbb685db5010e7655b8ed0caf42","modified":1742187338606},{"_id":"public/js/layouts/navbarShrink.js","hash":"3e80bf9ef719b2ddb2d1c4b67eb169d2ef52dbb8","modified":1742187338606},{"_id":"public/js/layouts/toc.js","hash":"7a768982f6cb1f40552cce063d5743fe862db762","modified":1742187338606},{"_id":"public/js/plugins/aplayer.js","hash":"f2818445cfbdbf936f136c3d0f983583c581d77e","modified":1742187338606},{"_id":"public/js/plugins/masonry.js","hash":"92734a30a21f8b16f20aa75208f6c082890275fb","modified":1742187338606},{"_id":"public/js/plugins/pangu.js","hash":"25af6a33c9176a00f21f45cf5cfad0eb7d473841","modified":1742187338606},{"_id":"public/js/plugins/tabs.js","hash":"964ec5c25a8d78763ba2ba9bfbd5b1b49ed05381","modified":1742187338606},{"_id":"public/js/plugins/mermaid.js","hash":"303254d382869ed618025fcb328426bd10314583","modified":1742187338606},{"_id":"public/js/plugins/typed.js","hash":"f46f636a32e7569a9ff8b8b301bf860e598bd4fe","modified":1742187338606},{"_id":"public/js/tools/codeBlock.js","hash":"344e6c83e6ffda22f6e5bc724d603066b49a7d8b","modified":1742187338606},{"_id":"public/js/tools/imageViewer.js","hash":"33c4e4a28cf66be0cb3f181acae082a5a5404a89","modified":1742187338606},{"_id":"public/js/tools/lightDarkSwitch.js","hash":"97b7e68f871dc218fceca77b85ac051c7c6306af","modified":1742187338606},{"_id":"public/js/tools/localSearch.js","hash":"f6e59f65c676457198c2cf5d78bd06052499ee38","modified":1742187338606},{"_id":"public/js/tools/runtime.js","hash":"eb0374b6f033f7ac25f49b1b079aa163e14b0fcd","modified":1742187338606},{"_id":"public/js/tools/tocToggle.js","hash":"c2224ff0370fcf109e94194613b9480a3913c82d","modified":1742187338606},{"_id":"public/js/libs/moment-with-locales.min.js","hash":"dd1c67b36c800c00b7901f17af6200b26f2bb42c","modified":1742187338606},{"_id":"public/js/tools/scrollTopBottom.js","hash":"9e54fa4310bb98ea5ba61780a9ef56d05d475203","modified":1742187338606},{"_id":"public/css/common/codeblock/code-block.css","hash":"b3f8ad7bab043ff05546ee596ea9fa25c71b28e9","modified":1742187338606},{"_id":"public/css/common/codeblock/code-theme.css","hash":"c0ffb280f57f23804329e1d9c3e51de3ccd93275","modified":1742187338606},{"_id":"public/css/common/codeblock/highlight.css","hash":"a081e1d23b7f54c79649d17609f6271c762cff17","modified":1742187338606},{"_id":"public/js/build/layouts/bookmarkNav.js","hash":"a92d80fb49180a2700e069451c3ee9fde3f7cde0","modified":1742187338606},{"_id":"public/js/build/layouts/categoryList.js","hash":"cd8e7825b6dce79cac97e6047f9a80f0fb893213","modified":1742187338606},{"_id":"public/js/build/layouts/essays.js","hash":"fbd5599508c60dc20fa90a9f37db27770e3773d5","modified":1742187338606},{"_id":"public/js/build/layouts/navbarShrink.js","hash":"181c0c7e45f0c3a099d272b7c531559cd0d4fdbf","modified":1742187338606},{"_id":"public/js/build/layouts/lazyload.js","hash":"eacb006bd852a3c9881438b75d45e72d87914ad7","modified":1742187338606},{"_id":"public/js/build/layouts/toc.js","hash":"892929c5bb2293804f4c5f911dd901969f08ef67","modified":1742187338606},{"_id":"public/js/build/libs/Swup.min.js","hash":"cc054d34e74a1feecfae75064f6a4d6107607396","modified":1742187338606},{"_id":"public/js/build/libs/APlayer.min.js","hash":"22caa28ff6b41a16ff40f15d38f1739e22359478","modified":1742187338606},{"_id":"public/js/build/libs/SwupPreloadPlugin.min.js","hash":"d911512891ecbe1935203bcd3d93427ad75e45c8","modified":1742187338606},{"_id":"public/js/build/libs/SwupProgressPlugin.min.js","hash":"fd30fe1c43072017f67bbaac18b962a5ac218711","modified":1742187338606},{"_id":"public/js/build/libs/SwupScriptsPlugin.min.js","hash":"b17f3434035f1339d6f9cd5c8a055d2a1b6602e9","modified":1742187338606},{"_id":"public/js/build/libs/SwupScrollPlugin.min.js","hash":"6c3afca9bb98f79d14516c093f27e3e50a3fd82e","modified":1742187338606},{"_id":"public/js/build/libs/SwupSlideTheme.min.js","hash":"e9d143780e879d958164b1356b7f918ec25e838a","modified":1742187338606},{"_id":"public/js/build/libs/Typed.min.js","hash":"e8ce2b674a637b0c0396a3106c1aedf10186249c","modified":1742187338606},{"_id":"public/js/build/libs/minimasonry.min.js","hash":"9681cc509cb8aa733d36aad032e6e8acdb33c08c","modified":1742187338606},{"_id":"public/js/build/libs/moment.min.js","hash":"20bd76acf8e950e5cf7243f60e1192705dacca7d","modified":1742187338606},{"_id":"public/js/build/libs/pangu.min.js","hash":"ebc25ecdbf464407c5886f024d13f1f6da51ec85","modified":1742187338606},{"_id":"public/js/build/libs/anime.min.js","hash":"47cb482a8a488620a793d50ba8f6752324b46af3","modified":1742187338606},{"_id":"public/js/build/libs/odometer.min.js","hash":"fe5beb60997c84ab2f91b54535c4221443cdd21f","modified":1742187338606},{"_id":"public/js/build/libs/pjax.min.js","hash":"3d796e5be9cdd4067c94e190ea2482d7fdb4856c","modified":1742187338606},{"_id":"public/js/build/plugins/aplayer.js","hash":"bef8536cb25306f78f80c1744c07544a46dac970","modified":1742187338606},{"_id":"public/js/build/plugins/hbe.js","hash":"383a946a2be735bc30c0bb331bbee335fe5b6942","modified":1742187338606},{"_id":"public/js/build/plugins/masonry.js","hash":"b5b44a6d4b74beea1938334b3558bd3d1caec07a","modified":1742187338606},{"_id":"public/js/build/plugins/mermaid.js","hash":"2deee4201b637c54c1be0e1b686a97050fb37cce","modified":1742187338606},{"_id":"public/js/build/plugins/pangu.js","hash":"e96959eb39ca702242aca08c75f2230aa1bda7e4","modified":1742187338606},{"_id":"public/js/build/plugins/tabs.js","hash":"b14b70e316e3151d591f03cbaf3c70c11ae5aad5","modified":1742187338606},{"_id":"public/js/build/plugins/typed.js","hash":"d8999de0b92fe1e1c9061040d6e95a9b607caa23","modified":1742187338606},{"_id":"public/js/build/tools/codeBlock.js","hash":"8aa8e62cdc3891c9c608c1f52866aeab8cef0457","modified":1742187338606},{"_id":"public/js/build/tools/imageViewer.js","hash":"310f06d38245235e1a65a5a7f1a6f673647faa6f","modified":1742187338606},{"_id":"public/js/build/tools/lightDarkSwitch.js","hash":"dee772cad8a9ab42d54b6ea99599534524c47f18","modified":1742187338606},{"_id":"public/js/build/tools/localSearch.js","hash":"4ddb3808f9216b848a14e66c813ae883d0f883b1","modified":1742187338606},{"_id":"public/js/build/tools/runtime.js","hash":"99d9fbc2022a12dd7f9bab4f88384f563f3f51e8","modified":1742187338606},{"_id":"public/js/build/tools/scrollTopBottom.js","hash":"037720022f64622f244682c176c5f0ab8f1efb54","modified":1742187338606},{"_id":"public/js/build/tools/tocToggle.js","hash":"978bc1a31f8026ac9522198bca3c892ebf3551bc","modified":1742187338606},{"_id":"public/css/common/codeblock/hljs-themes/dark/a11y-dark.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1742187338606},{"_id":"public/css/common/codeblock/hljs-themes/dark/agate.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1742187338606},{"_id":"public/js/build/libs/moment-with-locales.min.js","hash":"dd1c67b36c800c00b7901f17af6200b26f2bb42c","modified":1742187338606},{"_id":"public/css/common/codeblock/hljs-themes/dark/atom-one-dark.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1742187338606},{"_id":"public/css/common/codeblock/hljs-themes/dark/github-dark.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1742187338606},{"_id":"public/css/common/codeblock/hljs-themes/dark/monokai-sublime.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1742187338606},{"_id":"public/css/common/codeblock/hljs-themes/dark/night-owl.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1742187338606},{"_id":"public/css/common/codeblock/hljs-themes/dark/nord.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1742187338606},{"_id":"public/css/common/codeblock/hljs-themes/dark/tokyo-night-dark.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1742187338606},{"_id":"public/css/common/codeblock/hljs-themes/dark/vs2015.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1742187338606},{"_id":"public/css/common/codeblock/hljs-themes/light/atom-one-light.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1742187338606},{"_id":"public/css/common/codeblock/hljs-themes/light/default.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1742187338606},{"_id":"public/css/common/codeblock/hljs-themes/light/github.css","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1742187338606},{"_id":"public/webfonts/fa-brands-400.ttf","hash":"ba9322d66c19f635e15e458cc39fcb509818332f","modified":1742187338606},{"_id":"public/fonts/Chillax/Chillax-Variable.eot","hash":"50a4e2ab17155fe7449e0ee488a6242180f3b256","modified":1742187338606},{"_id":"public/fonts/Chillax/Chillax-Variable.ttf","hash":"01aafadc0ca4ace59127a5594a8f534e83b84879","modified":1742187338606},{"_id":"public/js/libs/APlayer.min.js.map","hash":"31a19da0f0cb6b00ec212eafa847f31af86788df","modified":1742187338606},{"_id":"public/js/libs/waline.mjs","hash":"d94e0f396776a003b603d6e90a732a548c2fda33","modified":1742906620828},{"_id":"public/webfonts/fa-sharp-solid-900.woff2","hash":"74d0af1108ab8157993ca03cef80e89e35e2408d","modified":1742187338606},{"_id":"public/webfonts/fa-solid-900.woff2","hash":"e73d164db2aff2c91d18c07da03e8db9d0c5dfd4","modified":1742187338606},{"_id":"public/js/libs/mermaid.min.js","hash":"22eeb45e4dfff78a42bc8dad60d3a8ff64968a9d","modified":1742187338606},{"_id":"public/js/build/libs/mermaid.min.js","hash":"22eeb45e4dfff78a42bc8dad60d3a8ff64968a9d","modified":1742187338606},{"_id":"public/webfonts/fa-duotone-900.woff2","hash":"2cc24434345b80a844a6bda1139539fe41e4df53","modified":1742187338606},{"_id":"public/webfonts/fa-light-300.woff2","hash":"def760895375328ccdcf62b2b9b9001a21947acd","modified":1742187338606},{"_id":"public/webfonts/fa-regular-400.woff2","hash":"486fed640153de1de84f460834c73daef060ed20","modified":1742187338606},{"_id":"public/webfonts/fa-thin-100.woff2","hash":"e0a4482c20f6b67784df54965539a317a3bd681b","modified":1742187338606},{"_id":"public/webfonts/fa-sharp-solid-900.ttf","hash":"0d710cd7bd1b7ff574e88bb812de82babe45e415","modified":1742187338606},{"_id":"public/webfonts/fa-solid-900.ttf","hash":"40b536c3667547db70ee9ca6f3c94fbc33e0cab7","modified":1742187338606},{"_id":"public/webfonts/fa-regular-400.ttf","hash":"cdec068700dc440530e5bbeff7e8bb33a01b4132","modified":1742187338606},{"_id":"public/js/libs/waline.mjs.map","hash":"37c5b3e6aa5e1b70358426345a1a1329d6b896d3","modified":1742187338606},{"_id":"public/webfonts/fa-light-300.ttf","hash":"cc5d9f4f994c82e23f58cdde1eec8792d81633c7","modified":1742187338606},{"_id":"public/webfonts/fa-thin-100.ttf","hash":"c1fee6e6986b14533ce022afada5fbe10c0f6562","modified":1742187338606},{"_id":"public/webfonts/fa-duotone-900.ttf","hash":"e0313a772ea710cb5ea4bd08f5dedb0a0025f8ca","modified":1742187338606},{"_id":"public/js/libs/mermaid.min.js.map","hash":"2e1a632f0588c4370188887d79a10ff8b38a49b5","modified":1742906620828},{"_id":"node_modules/hexo-theme-redefine/.DS_Store","hash":"76f3b109edd5455cbfecb23dcdc4ab3199433c89","modified":1749722181926},{"_id":"public/2025/03/19/hello-world/index.html","hash":"d05ac9a57f8bccbb83dd4acb570fc51eebe5ecdb","modified":1744525491016},{"_id":"source/March/index.md","hash":"68bd3b0eb7f3332f3131cdfeb5791ed809365ac0","modified":1742874340917},{"_id":"source/_data/March.yml","hash":"d424e7ab0527d92f3bc8b15f729500eb6c176521","modified":1742874340918},{"_id":"source/.DS_Store","hash":"1d25d1948e2474dc884d4eba7ccedbed86d5d4a4","modified":1749725929370},{"_id":"public/March/index.html","hash":"c3e17050496ab28d9c21bf04db91da682a7ca713","modified":1742875234239},{"_id":"source/tags/index.md","hash":"610ade3d8305a2ea059a7c304fcba080c6489bad","modified":1742906426289},{"_id":"public/tags/index.html","hash":"65764af99b363078a98aa606aac89ee8875217ca","modified":1749829814973},{"_id":"source/categories/index.md","hash":"409e3ea192e6729f001bd81ecdb16937bed8244e","modified":1742906426289},{"_id":"public/categories/index.html","hash":"7ab89c8a4fab8e94d1e347bc1226aea80e91445f","modified":1749829814973},{"_id":"public/2025/03/25/hello-world/index.html","hash":"f4f7c97f9411746c268cd521d9cc0e0b48001c2f","modified":1742968838013},{"_id":"source/_posts/docker.md","hash":"f8081522832353a96291117e0cd0df4f74f6601b","modified":1743390680071},{"_id":"public/2025/03/25/docker/index.html","hash":"547d6f01f6bc0c4e93324c0e77cd9d0a2825415b","modified":1743241521407},{"_id":"public/categories//index.html","hash":"3bab46cbc71da3c668cd72677f5ec6c1d31f72b2","modified":1749829814973},{"_id":"public/categories//docker/index.html","hash":"771fa64785ac40aded8072b84dfb863f6ae0e1f4","modified":1749829814973},{"_id":"public/tags/docker/index.html","hash":"69fdad4b7bd46ee50fd65a72143af52a3396055b","modified":1743241521407},{"_id":"source/Album/index.md","hash":"c3584f81736fd907874b0a1edef74a2d169c3e6d","modified":1742910923573},{"_id":"source/_data/Album.yml","hash":"fa4ea99d0167dca288f3caa8eb4f89f46462fd79","modified":1742910791380},{"_id":"public/Album/index.html","hash":"2c7bec1766029d2ba60bb592c8b316ddb65662a4","modified":1749829814973},{"_id":"source/_data/masonry.yml","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1742910612325},{"_id":"source/bookmarks/index.md","hash":"da1384268adb6b7a8089c2752ee9fc6bcf754576","modified":1742913456790},{"_id":"source/_data/bookmarks.yml","hash":"a293698caa646bc5c51c2b03918f26887a8c9423","modified":1744528754021},{"_id":"public/bookmarks/index.html","hash":"56be6a5ae6d6313901e2363e84e89542fff8afa2","modified":1749829814973},{"_id":"source/_posts/Python.md","hash":"613c07a487ff803b7a738d4ddcb531cab8386458","modified":1749829784957},{"_id":"public/2025/03/26/Python/index.html","hash":"89defa81e54c6aade222e89f7eaa12930cc215ea","modified":1749829814973},{"_id":"public/categories//Python/index.html","hash":"429d1450daab9253441e92bfa31f6d475c1e5f45","modified":1749725875574},{"_id":"public/tags/Python/index.html","hash":"b820db2e3a8f91608b2f6d659e64d6b8568c8174","modified":1749725875574},{"_id":"source/_posts/Shell.md","hash":"8befd0db4c603d5f2bfdec700ea83272450289c0","modified":1749829784957},{"_id":"public/2025/03/26/Shell/index.html","hash":"553f85de82a968383f7f44421c7f4d3a0bf2bbf5","modified":1749829814973},{"_id":"public/categories//Shell/index.html","hash":"fbefedc350a864d1968edbbbf1976b8a3ec71247","modified":1749829814973},{"_id":"public/tags/Shell/index.html","hash":"59770b283cf67136a0cb25b42ffc1ec4022c3e86","modified":1743241521407},{"_id":"source/_posts/.md","hash":"95bf13fed8b151ff64e9a3b6f7c0efbcd0b97aad","modified":1743477632993},{"_id":"source/_posts/docker.md","hash":"66e56b36fb19eacf353c064af8afc78b24c3247c","modified":1744526461140},{"_id":"source/_posts/moniter.md","hash":"2731f439db90d815669005bbb3f60b0b4d4ced3f","modified":1746430847406},{"_id":"source/_posts/author.md","hash":"f04455776cfe8dab37049246aadfe2fa9f7c328c","modified":1743754943802},{"_id":"public/search.json","hash":"724bafee36269ef80f75f0810fa05385938f7c4f","modified":1749829814973},{"_id":"public/2025/04/04/author/index.html","hash":"b8b8541f2245dc21db4cea9f21fa66609fbd2ba9","modified":1744338639620},{"_id":"public/2025/03/30/moniter/index.html","hash":"12ac5ccf1679be5d59b80700ca3b5eff7529a271","modified":1749829814973},{"_id":"public/2025/03/25/docker/index.html","hash":"3d8bd34e29bd220743c479076906009b333956a8","modified":1749829814973},{"_id":"public/categories//index.html","hash":"51e02f005894f13f3760c00c5ed5db618fb3267c","modified":1749829814973},{"_id":"public/categories///index.html","hash":"1c0b5e8513a32eaee4e1629088117b80fd394692","modified":1749829814973},{"_id":"public/categories///Prometheus-Grafana/index.html","hash":"7ed332d56f479fadcb45fd17347dd49da71652ba","modified":1749829814973},{"_id":"public/archives/2025/04/index.html","hash":"5eea0479a13c5c6016a4657ca20f1df91763b659","modified":1749829814973},{"_id":"public/tags//index.html","hash":"bd9c49dc85ff0afae4b1cd48304f5813079b6d38","modified":1749829814973},{"_id":"public/tags//index.html","hash":"c060e491ece093ecedffee0306fb3ac28819252e","modified":1749829814973},{"_id":"public/tags//index.html","hash":"9a7a1bb20ee073c3a999afffcd51266518166502","modified":1749829814973},{"_id":"public/tags/docker/index.html","hash":"b9b25aa56ff4630af8f0994b9c21d9874d64aa26","modified":1749829814973},{"_id":"public/tags/Shell/index.html","hash":"b741752fa5207ac618403c39e59e85ca5e466fdc","modified":1749829814973},{"_id":"source/_posts/CI-CD.md","hash":"afcb97b0fc7b58f88f59eb100c45774a10f9506d","modified":1746439676276},{"_id":"public/2025/04/13/CI-CD/index.html","hash":"c4d8c55657db4c0286e15b3813e847d27de96ed4","modified":1749829814973},{"_id":"source/_posts/Kubernetes.md","hash":"0b19e4f173b515c0dea68f443ad0f784336c3a5f","modified":1749725930173},{"_id":"public/2025/04/13/Kubernetes/index.html","hash":"ded048e9ea62ac8534b03a513127ebad1cc26f11","modified":1749829814973},{"_id":"public/categories//k8s/index.html","hash":"f4e84daa3d24e409687b7e3e2e551a6fe5873ead","modified":1749829814973},{"_id":"public/tags/k8s/index.html","hash":"536bf06b58bfe0bfd500ef9a6349aa4dde571750","modified":1749829814973},{"_id":"source/_posts/Ansible.md","hash":"3ef382e970e5d1d94e8a789cd768f2bf83dfeee7","modified":1746094370219},{"_id":"public/2025/04/23/Ansible/index.html","hash":"7c9682cb89a1556106d6132e24cfcf6cfb4d58e2","modified":1749829814973},{"_id":"public/categories//Ansible/index.html","hash":"450ed68d57f462eecd1378e4d4c4c4900afbfa85","modified":1749829814973},{"_id":"public/tags/Ansible/index.html","hash":"8487858cffebda0843586e9c6a9c09992d38cabf","modified":1749829814973},{"_id":"source/_posts/issuer.md","hash":"1d3b9f2aff2a2ad2c54fd7bad305bb077bf71794","modified":1748077846171},{"_id":"source/_posts/image.png","hash":"8518ed1642ecbaffc5143ba2c0f3b23a7290accd","modified":1747916564582},{"_id":"public/2025/05/24/issuer/index.html","hash":"83db35e2d65390bf60c9fe563a895c8dc744cdb4","modified":1749829814973},{"_id":"public/archives/2025/05/index.html","hash":"85b8815391ba9f9270faedaa2073a66f53268ad9","modified":1749829814973},{"_id":"source/_posts/MCP.md","hash":"d1c1f6466224ed58962ad9587237684e5b6481ed","modified":1749797932146},{"_id":"public/2025/06/12/MCP/index.html","hash":"00b9c0e56f7fd2b9c3de0ffdb74a709d462da8ab","modified":1749829814973},{"_id":"public/archives/2025/06/index.html","hash":"b188e41e98dd377e05032f834f46371b17699753","modified":1749829814973},{"_id":"public/categories/AI/index.html","hash":"e815c01fd02e4f9cda29d85e30a8738d12cbf2dd","modified":1749829814973},{"_id":"public/categories/AI/MCP/index.html","hash":"3325c33bd82ca6b46bb3dd5c3e2d615fed6d4413","modified":1749829814973},{"_id":"public/tags//index.html","hash":"885c01e74fffcba1de004b250a5029517ff124cd","modified":1749829814973},{"_id":"public/tags//index.html","hash":"35050e78b853b28999b44be211a36c87d03b718d","modified":1749829814973},{"_id":"public/categories//Python/index.html","hash":"c76d9da8ec413ffc9ee877053e813d6f4db127d0","modified":1749829814973},{"_id":"public/tags/Python/index.html","hash":"7d39111046f3abccecd99fad0b10fcb0f5f73264","modified":1749829814973},{"_id":"public/tags//index.html","hash":"4ba6b811f32fdf5aa05f5ec62dd4499cb51c5a81","modified":1749829814973}],"Category":[{"name":"1","_id":"cm8nyux3t0001xor2e3s1hw0n"},{"name":"","parent":"cm8nyux3t0001xor2e3s1hw0n","_id":"cm8nyux3u0004xor26ftg6fi3"},{"name":"","_id":"cm8nyva6v0007xor237sk83s3"},{"name":"docker","parent":"cm8nyva6v0007xor237sk83s3","_id":"cm8nyva6v0008xor2dfjn47hf"},{"name":"Python","parent":"cm8nyva6v0007xor237sk83s3","_id":"cm8phvfvg00010gr21nt13zms"},{"name":"Shell","parent":"cm8nyva6v0007xor237sk83s3","_id":"cm8pikep200054sr29fvs0b0c"},{"name":"","_id":"cm8vd0kfo0001we0zau3wc88h"},{"name":"","parent":"cm8vd0kfo0001we0zau3wc88h","_id":"cm8vd0kfp0004we0z1droe9kb"},{"name":" Prometheus+Grafana","_id":"cm8veek7g0007we0z897t4rez"},{"name":" docker","_id":"cm8veeqlc000bwe0z0u9t1msx"},{"name":"Prometheus+Grafana","parent":"cm8vd0kfp0004we0z1droe9kb","_id":"cm8vefyu1000ewe0z5yt89372"},{"name":"k8s","parent":"cm8vd0kfo0001we0zau3wc88h","_id":"cm9m8tcds0001ho0z76tc2sfd"},{"name":"Ansible","parent":"cm8vd0kfo0001we0zau3wc88h","_id":"cm9vbmlxa0007zrs61cjt06nk"},{"name":"AI","_id":"cmbt8lei10000ft0z3zieebjd"},{"name":"MCP","parent":"cmbt8lei10000ft0z3zieebjd","_id":"cmbt8lei30003ft0zg5xebkki"},{"name":"Python","parent":"cm8vd0kfo0001we0zau3wc88h","_id":"cmbuzhqht00010kgn8unw7r0d"}],"Data":[{"_id":"Album","data":[{"image":"https://picsum.photos/id/12/2500/1800","title":"Lorem ipsum","description":"Lorem ipsum dolor sit amet"}]},{"_id":"bookmarks","data":[{"category":"AI","icon":"fa-tools","items":[{"name":"Deepseek","link":"https://chat.deepseek.com","description":"","image":"https://chat.deepseek.com/favicon.svg"},{"name":"ChatGPT","link":"https://chat.openai.com","description":"OpenAI  AI DALL3,,","image":"/images/openai.png"},{"name":"Claude","link":"https://www.anthropic.com/","description":"Anthropic  AI ","image":"https://www.anthropic.com/favicon.ico"},{"name":"Gemini","link":"https://gemini.google.com/","description":"Google  AI  ","image":"/images/gemini.png"},{"name":"Grok","link":"https://grok.com/","description":" AI ","image":"/images/grok.png"},{"name":"","link":"https://www.doubao.com/","description":"  AI ","image":"https://lf-flow-web-cdn.doubao.com/obj/flow-doubao/doubao/logo-doubao-overflow.png"},{"name":"Kimi","link":"https://kimi.moonshot.cn/","description":"  AI ","image":"https://statics.moonshot.cn/kimi-chat/favicon.ico"},{"name":"Coze","link":"https://www.coze.cn/","description":"AI","image":"https://lf-coze-web-cdn.coze.cn/obj/coze-web-cn/obric/coze/favicon.1970.png"}]}]}],"Page":[{"title":"","date":"2025-03-23T15:35:15.000Z","template":"tags","_content":"","source":"tags/index.md","raw":"---\ntitle: \ndate: 2025-03-23 23:35:15\ntemplate: tags\n---\n","updated":"2025-03-25T12:40:26.289Z","path":"tags/index.html","_id":"cm8lsulen0000mh0z6smt8yhs","comments":1,"layout":"page","content":"","excerpt":"","more":"","_processedHighlight":true},{"title":"","date":"2025-03-24T13:55:10.000Z","template":"categories","_content":"","source":"categories/index.md","raw":"---\ntitle: \ndate: 2025-03-24 21:55:10\ntemplate: categories\n---","updated":"2025-03-25T12:40:26.289Z","path":"categories/index.html","_id":"cm8n4rbaj00009x0zfsb1ecsz","comments":1,"layout":"page","content":"","excerpt":"","more":"","_processedHighlight":true},{"title":"album","date":"2025-03-25T05:22:20.000Z","template":"Album","_content":"","source":"Album/index.md","raw":"---\ntitle: album\ndate: 2025-03-25 13:22:20\ntemplate: Album\n---\n","updated":"2025-03-25T13:55:23.573Z","path":"Album/index.html","_id":"cm8o1u3lt0000owr2el7jc2jo","comments":1,"layout":"page","content":"","excerpt":"","more":"","_processedHighlight":true},{"title":"bookmarks","date":"2025-03-25T14:34:11.000Z","template":"bookmarks","_content":"","source":"bookmarks/index.md","raw":"---\ntitle: bookmarks\ndate: 2025-03-25 22:34:11\ntemplate: bookmarks\n---\n","updated":"2025-03-25T14:37:36.790Z","path":"bookmarks/index.html","_id":"cm8oljrze00006w0z1xdl5z75","comments":1,"layout":"page","content":"","excerpt":"","more":"","_processedHighlight":true}],"Post":[{"title":"Python  Linux ","date":"2025-03-26T05:38:15.000Z","cover":"/images/python.png","_content":"\n## Python \nPython  ShellPython \n\n- ****\n- ****\n- ****\n\n Linux  Python \n\n## \n\n Linux  Python `python3 --version` \n Debian/Ubuntu \n```bash\nsudo apt update && sudo apt install -y python3 python3-pip\n```\n Python \n1. `python3 your_script.py`\n2.  **shebang** \n   ```bash\n   #!/usr/bin/env python3\n   print(\"Hello, world!\")\n   ```\n    `chmod +x your_script.py` `./your_script.py` \n\n## \n\n```python\n# \nname = \"Tom\"\nage = 18\nis_admin = False\n\n# \nif age >= 18:\n    print(\"\")\nelse:\n    print(\"\")\n\n# \nfor i in range(3):\n    print(i)\n\n# \ndef greet(user):\n    return f\"Hello, {user}!\"\n\nprint(greet(name))\n```\n\n\n\n## \n\n- ****Python \n- **** `#` \n- ****\n- ****`.py`  `import`\n- **** `if __name__ == '__main__':` \n\n## \nPython ****\n\n- `os`\n- `sys` Python \n- `subprocess` `os.system`\n- `shutil`\n- `pathlib`\n- `logging`\n- `argparse` CLI \n- `json` JSON \n- `re`\n- `socket`\n\n `subprocess`  `ls` \n```python\nimport subprocess\n\nres = subprocess.run(['ls', '-l', '/var/log'], capture_output=True, text=True)\nprint(res.stdout)\n```\n\n## \n\n- ****`[x * x for x in range(5)]` \n- **with **\n- **** `f\": {name}\"` \n\n## \nLinux  `pip`  `pip3` \n```bash\npip3 install requests\n```\n ****\n```bash\npython3 -m venv venv\nsource venv/bin/activate\n```\n `venv`  `deactivate` \n\n\n- **paramiko** SSH \n- **fabric** paramiko \n- **psutil** CPU\n- **schedule** Python \n- **requests** HTTP \n- **Flask** Web \n- **PyYAML** YAML \n\n paramiko \n```python\nimport paramiko\n\nssh = paramiko.SSHClient()\nssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())\nssh.connect('192.168.1.10', username='root', password='yourpass')\nstdin, stdout, stderr = ssh.exec_command('systemctl restart nginx')\nprint(stdout.read().decode())\nssh.close()\n```\n\n## \n\n### 1. \n\n```python\nhosts = ['192.168.1.10', '192.168.1.11']\nfor h in hosts:\n    ssh = paramiko.SSHClient()\n    ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())\n    ssh.connect(h, username='root')\n    ssh.exec_command('apt update && apt upgrade -y')\n    ssh.close()\n```\n\n### 2. \n `psutil` \n```python\nimport psutil\n\ncpu = psutil.cpu_percent(interval=1)\nmem = psutil.virtual_memory().percent\nif cpu > 80 or mem > 80:\n    print(' ')\n```\n\n### 3. \n Linux  `crontab` `schedule`  Pythonic \n```python\nimport schedule\nimport time\n\ndef job():\n    print('')\n\nschedule.every().day.at('02:00').do(job)\n\nwhile True:\n    schedule.run_pending()\n    time.sleep(1)\n```\n\n## \n\nPython \n- **Ansible** YAML  Playbook  Python \n- **SaltStack**\n- **Fabric**\n\n Python  Python \n\n## \nPython  `logging` \n```python\nimport logging\n\nlogging.basicConfig(\n    filename='/var/log/myapp.log',\n    level=logging.INFO,\n    format='%(asctime)s %(levelname)s %(message)s'\n)\n\ntry:\n    # \n    logging.info('')\nexcept Exception as e:\n    logging.error(': %s', e)\n```\n\n\n```python\ntry:\n    risky_operation()\nexcept Exception as err:\n    print('', err)\n```\n\n## \n\n```python\n#!/usr/bin/env python3\nimport shutil\nimport smtplib\nfrom email.mime.text import MIMEText\n\nthreshold = 80\nusage = shutil.disk_usage('/')\npercent = usage.used / usage.total * 100\n\nif percent > threshold:\n    msg = MIMEText(f'Disk usage is {percent:.1f}%!')\n    msg['Subject'] = 'Disk Alert'\n    msg['From'] = 'monitor@example.com'\n    msg['To'] = 'admin@example.com'\n    with smtplib.SMTP('smtp.example.com') as s:\n        s.login('user', 'pass')\n        s.send_message(msg)\n```\n `crontab`\n\n## \n- ****Python \n- ****\n- ****Stack Overflow\n- ****\n\n Python \n","source":"_posts/Python.md","raw":"---\ntitle: Python  Linux \n# For a new blog file keep date same as other posts to maintain style\n# We'll use 2025-03-26 13:38:15 same as Python.md to maintain style.\ndate: 2025-03-26 13:38:15\ntags: [, Python, ]\ncategories: [, Python]\ncover: /images/python.png\n---\n\n## Python \nPython  ShellPython \n\n- ****\n- ****\n- ****\n\n Linux  Python \n\n## \n\n Linux  Python `python3 --version` \n Debian/Ubuntu \n```bash\nsudo apt update && sudo apt install -y python3 python3-pip\n```\n Python \n1. `python3 your_script.py`\n2.  **shebang** \n   ```bash\n   #!/usr/bin/env python3\n   print(\"Hello, world!\")\n   ```\n    `chmod +x your_script.py` `./your_script.py` \n\n## \n\n```python\n# \nname = \"Tom\"\nage = 18\nis_admin = False\n\n# \nif age >= 18:\n    print(\"\")\nelse:\n    print(\"\")\n\n# \nfor i in range(3):\n    print(i)\n\n# \ndef greet(user):\n    return f\"Hello, {user}!\"\n\nprint(greet(name))\n```\n\n\n\n## \n\n- ****Python \n- **** `#` \n- ****\n- ****`.py`  `import`\n- **** `if __name__ == '__main__':` \n\n## \nPython ****\n\n- `os`\n- `sys` Python \n- `subprocess` `os.system`\n- `shutil`\n- `pathlib`\n- `logging`\n- `argparse` CLI \n- `json` JSON \n- `re`\n- `socket`\n\n `subprocess`  `ls` \n```python\nimport subprocess\n\nres = subprocess.run(['ls', '-l', '/var/log'], capture_output=True, text=True)\nprint(res.stdout)\n```\n\n## \n\n- ****`[x * x for x in range(5)]` \n- **with **\n- **** `f\": {name}\"` \n\n## \nLinux  `pip`  `pip3` \n```bash\npip3 install requests\n```\n ****\n```bash\npython3 -m venv venv\nsource venv/bin/activate\n```\n `venv`  `deactivate` \n\n\n- **paramiko** SSH \n- **fabric** paramiko \n- **psutil** CPU\n- **schedule** Python \n- **requests** HTTP \n- **Flask** Web \n- **PyYAML** YAML \n\n paramiko \n```python\nimport paramiko\n\nssh = paramiko.SSHClient()\nssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())\nssh.connect('192.168.1.10', username='root', password='yourpass')\nstdin, stdout, stderr = ssh.exec_command('systemctl restart nginx')\nprint(stdout.read().decode())\nssh.close()\n```\n\n## \n\n### 1. \n\n```python\nhosts = ['192.168.1.10', '192.168.1.11']\nfor h in hosts:\n    ssh = paramiko.SSHClient()\n    ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())\n    ssh.connect(h, username='root')\n    ssh.exec_command('apt update && apt upgrade -y')\n    ssh.close()\n```\n\n### 2. \n `psutil` \n```python\nimport psutil\n\ncpu = psutil.cpu_percent(interval=1)\nmem = psutil.virtual_memory().percent\nif cpu > 80 or mem > 80:\n    print(' ')\n```\n\n### 3. \n Linux  `crontab` `schedule`  Pythonic \n```python\nimport schedule\nimport time\n\ndef job():\n    print('')\n\nschedule.every().day.at('02:00').do(job)\n\nwhile True:\n    schedule.run_pending()\n    time.sleep(1)\n```\n\n## \n\nPython \n- **Ansible** YAML  Playbook  Python \n- **SaltStack**\n- **Fabric**\n\n Python  Python \n\n## \nPython  `logging` \n```python\nimport logging\n\nlogging.basicConfig(\n    filename='/var/log/myapp.log',\n    level=logging.INFO,\n    format='%(asctime)s %(levelname)s %(message)s'\n)\n\ntry:\n    # \n    logging.info('')\nexcept Exception as e:\n    logging.error(': %s', e)\n```\n\n\n```python\ntry:\n    risky_operation()\nexcept Exception as err:\n    print('', err)\n```\n\n## \n\n```python\n#!/usr/bin/env python3\nimport shutil\nimport smtplib\nfrom email.mime.text import MIMEText\n\nthreshold = 80\nusage = shutil.disk_usage('/')\npercent = usage.used / usage.total * 100\n\nif percent > threshold:\n    msg = MIMEText(f'Disk usage is {percent:.1f}%!')\n    msg['Subject'] = 'Disk Alert'\n    msg['From'] = 'monitor@example.com'\n    msg['To'] = 'admin@example.com'\n    with smtplib.SMTP('smtp.example.com') as s:\n        s.login('user', 'pass')\n        s.send_message(msg)\n```\n `crontab`\n\n## \n- ****Python \n- ****\n- ****Stack Overflow\n- ****\n\n Python \n","slug":"Python","published":1,"updated":"2025-06-13T15:49:44.957Z","_id":"cm8phujp7000070r22z040kuz","comments":1,"layout":"post","photos":[],"content":"<h2 id=\"Python-\"><a href=\"#Python-\" class=\"headerlink\" title=\"Python \"></a>Python </h2><p>Python  ShellPython </p>\n<ul>\n<li><strong></strong></li>\n<li><strong></strong></li>\n<li><strong></strong></li>\n</ul>\n<p> Linux  Python </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Linux  Python <code>python3 --version</code> <br> Debian&#x2F;Ubuntu </p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> apt update &amp;&amp; <span class=\"built_in\">sudo</span> apt install -y python3 python3-pip</span><br></pre></td></tr></table></figure></div>\n<p> Python </p>\n<ol>\n<li><code>python3 your_script.py</code></li>\n<li> <strong>shebang</strong> <div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/usr/bin/env python3</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;Hello, world!&quot;</span>)</span><br></pre></td></tr></table></figure></div>\n <code>chmod +x your_script.py</code> <code>./your_script.py</code> </li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><div class=\"code-container\" data-rel=\"Python\"><figure class=\"iseeu highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">name = <span class=\"string\">&quot;Tom&quot;</span></span><br><span class=\"line\">age = <span class=\"number\">18</span></span><br><span class=\"line\">is_admin = <span class=\"literal\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"keyword\">if</span> age &gt;= <span class=\"number\">18</span>:</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&quot;&quot;</span>)</span><br><span class=\"line\"><span class=\"keyword\">else</span>:</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&quot;&quot;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">3</span>):</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(i)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">greet</span>(<span class=\"params\">user</span>):</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">f&quot;Hello, <span class=\"subst\">&#123;user&#125;</span>!&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(greet(name))</span><br></pre></td></tr></table></figure></div>\n\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><strong></strong>Python </li>\n<li><strong></strong> <code>#</code> </li>\n<li><strong></strong></li>\n<li><strong></strong><code>.py</code>  <code>import</code></li>\n<li><strong></strong> <code>if __name__ == &#39;__main__&#39;:</code> </li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Python <strong></strong></p>\n<ul>\n<li><code>os</code></li>\n<li><code>sys</code> Python </li>\n<li><code>subprocess</code> <code>os.system</code></li>\n<li><code>shutil</code></li>\n<li><code>pathlib</code></li>\n<li><code>logging</code></li>\n<li><code>argparse</code> CLI </li>\n<li><code>json</code> JSON </li>\n<li><code>re</code></li>\n<li><code>socket</code></li>\n</ul>\n<p> <code>subprocess</code>  <code>ls</code> </p>\n<div class=\"code-container\" data-rel=\"Python\"><figure class=\"iseeu highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> subprocess</span><br><span class=\"line\"></span><br><span class=\"line\">res = subprocess.run([<span class=\"string\">&#x27;ls&#x27;</span>, <span class=\"string\">&#x27;-l&#x27;</span>, <span class=\"string\">&#x27;/var/log&#x27;</span>], capture_output=<span class=\"literal\">True</span>, text=<span class=\"literal\">True</span>)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(res.stdout)</span><br></pre></td></tr></table></figure></div>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><strong></strong><code>[x * x for x in range(5)]</code> </li>\n<li><strong>with </strong></li>\n<li><strong></strong> <code>f&quot;: &#123;name&#125;&quot;</code> </li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Linux  <code>pip</code>  <code>pip3</code> </p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip3 install requests</span><br></pre></td></tr></table></figure></div>\n<p> <strong></strong></p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python3 -m venv venv</span><br><span class=\"line\"><span class=\"built_in\">source</span> venv/bin/activate</span><br></pre></td></tr></table></figure></div>\n<p> <code>venv</code>  <code>deactivate</code> </p>\n<p></p>\n<ul>\n<li><strong>paramiko</strong> SSH </li>\n<li><strong>fabric</strong> paramiko </li>\n<li><strong>psutil</strong> CPU</li>\n<li><strong>schedule</strong> Python </li>\n<li><strong>requests</strong> HTTP </li>\n<li><strong>Flask</strong> Web </li>\n<li><strong>PyYAML</strong> YAML </li>\n</ul>\n<p> paramiko </p>\n<div class=\"code-container\" data-rel=\"Python\"><figure class=\"iseeu highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> paramiko</span><br><span class=\"line\"></span><br><span class=\"line\">ssh = paramiko.SSHClient()</span><br><span class=\"line\">ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())</span><br><span class=\"line\">ssh.connect(<span class=\"string\">&#x27;192.168.1.10&#x27;</span>, username=<span class=\"string\">&#x27;root&#x27;</span>, password=<span class=\"string\">&#x27;yourpass&#x27;</span>)</span><br><span class=\"line\">stdin, stdout, stderr = ssh.exec_command(<span class=\"string\">&#x27;systemctl restart nginx&#x27;</span>)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(stdout.read().decode())</span><br><span class=\"line\">ssh.close()</span><br></pre></td></tr></table></figure></div>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h3><p></p>\n<div class=\"code-container\" data-rel=\"Python\"><figure class=\"iseeu highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hosts = [<span class=\"string\">&#x27;192.168.1.10&#x27;</span>, <span class=\"string\">&#x27;192.168.1.11&#x27;</span>]</span><br><span class=\"line\"><span class=\"keyword\">for</span> h <span class=\"keyword\">in</span> hosts:</span><br><span class=\"line\">    ssh = paramiko.SSHClient()</span><br><span class=\"line\">    ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())</span><br><span class=\"line\">    ssh.connect(h, username=<span class=\"string\">&#x27;root&#x27;</span>)</span><br><span class=\"line\">    ssh.exec_command(<span class=\"string\">&#x27;apt update &amp;&amp; apt upgrade -y&#x27;</span>)</span><br><span class=\"line\">    ssh.close()</span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2. \"></a>2. </h3><p> <code>psutil</code> </p>\n<div class=\"code-container\" data-rel=\"Python\"><figure class=\"iseeu highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> psutil</span><br><span class=\"line\"></span><br><span class=\"line\">cpu = psutil.cpu_percent(interval=<span class=\"number\">1</span>)</span><br><span class=\"line\">mem = psutil.virtual_memory().percent</span><br><span class=\"line\"><span class=\"keyword\">if</span> cpu &gt; <span class=\"number\">80</span> <span class=\"keyword\">or</span> mem &gt; <span class=\"number\">80</span>:</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27; &#x27;</span>)</span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3. \"></a>3. </h3><p> Linux  <code>crontab</code> <code>schedule</code>  Pythonic </p>\n<div class=\"code-container\" data-rel=\"Python\"><figure class=\"iseeu highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> schedule</span><br><span class=\"line\"><span class=\"keyword\">import</span> time</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">job</span>():</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">schedule.every().day.at(<span class=\"string\">&#x27;02:00&#x27;</span>).do(job)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">while</span> <span class=\"literal\">True</span>:</span><br><span class=\"line\">    schedule.run_pending()</span><br><span class=\"line\">    time.sleep(<span class=\"number\">1</span>)</span><br></pre></td></tr></table></figure></div>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Python </p>\n<ul>\n<li><strong>Ansible</strong> YAML  Playbook  Python </li>\n<li><strong>SaltStack</strong></li>\n<li><strong>Fabric</strong></li>\n</ul>\n<p> Python  Python </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Python  <code>logging</code> </p>\n<div class=\"code-container\" data-rel=\"Python\"><figure class=\"iseeu highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> logging</span><br><span class=\"line\"></span><br><span class=\"line\">logging.basicConfig(</span><br><span class=\"line\">    filename=<span class=\"string\">&#x27;/var/log/myapp.log&#x27;</span>,</span><br><span class=\"line\">    level=logging.INFO,</span><br><span class=\"line\">    <span class=\"built_in\">format</span>=<span class=\"string\">&#x27;%(asctime)s %(levelname)s %(message)s&#x27;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">try</span>:</span><br><span class=\"line\">    <span class=\"comment\"># </span></span><br><span class=\"line\">    logging.info(<span class=\"string\">&#x27;&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">except</span> Exception <span class=\"keyword\">as</span> e:</span><br><span class=\"line\">    logging.error(<span class=\"string\">&#x27;: %s&#x27;</span>, e)</span><br></pre></td></tr></table></figure></div>\n\n<p></p>\n<div class=\"code-container\" data-rel=\"Python\"><figure class=\"iseeu highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">try</span>:</span><br><span class=\"line\">    risky_operation()</span><br><span class=\"line\"><span class=\"keyword\">except</span> Exception <span class=\"keyword\">as</span> err:</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;&#x27;</span>, err)</span><br></pre></td></tr></table></figure></div>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<div class=\"code-container\" data-rel=\"Python\"><figure class=\"iseeu highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/env python3</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> shutil</span><br><span class=\"line\"><span class=\"keyword\">import</span> smtplib</span><br><span class=\"line\"><span class=\"keyword\">from</span> email.mime.text <span class=\"keyword\">import</span> MIMEText</span><br><span class=\"line\"></span><br><span class=\"line\">threshold = <span class=\"number\">80</span></span><br><span class=\"line\">usage = shutil.disk_usage(<span class=\"string\">&#x27;/&#x27;</span>)</span><br><span class=\"line\">percent = usage.used / usage.total * <span class=\"number\">100</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> percent &gt; threshold:</span><br><span class=\"line\">    msg = MIMEText(<span class=\"string\">f&#x27;Disk usage is <span class=\"subst\">&#123;percent:<span class=\"number\">.1</span>f&#125;</span>%!&#x27;</span>)</span><br><span class=\"line\">    msg[<span class=\"string\">&#x27;Subject&#x27;</span>] = <span class=\"string\">&#x27;Disk Alert&#x27;</span></span><br><span class=\"line\">    msg[<span class=\"string\">&#x27;From&#x27;</span>] = <span class=\"string\">&#x27;monitor@example.com&#x27;</span></span><br><span class=\"line\">    msg[<span class=\"string\">&#x27;To&#x27;</span>] = <span class=\"string\">&#x27;admin@example.com&#x27;</span></span><br><span class=\"line\">    <span class=\"keyword\">with</span> smtplib.SMTP(<span class=\"string\">&#x27;smtp.example.com&#x27;</span>) <span class=\"keyword\">as</span> s:</span><br><span class=\"line\">        s.login(<span class=\"string\">&#x27;user&#x27;</span>, <span class=\"string\">&#x27;pass&#x27;</span>)</span><br><span class=\"line\">        s.send_message(msg)</span><br></pre></td></tr></table></figure></div>\n<p> <code>crontab</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><strong></strong>Python </li>\n<li><strong></strong></li>\n<li><strong></strong>Stack Overflow</li>\n<li><strong></strong></li>\n</ul>\n<p> Python </p>\n","excerpt":"","more":"<h2 id=\"Python-\"><a href=\"#Python-\" class=\"headerlink\" title=\"Python \"></a>Python </h2><p>Python  ShellPython </p>\n<ul>\n<li><strong></strong></li>\n<li><strong></strong></li>\n<li><strong></strong></li>\n</ul>\n<p> Linux  Python </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Linux  Python <code>python3 --version</code> <br> Debian&#x2F;Ubuntu </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> apt update &amp;&amp; <span class=\"built_in\">sudo</span> apt install -y python3 python3-pip</span><br></pre></td></tr></table></figure>\n<p> Python </p>\n<ol>\n<li><code>python3 your_script.py</code></li>\n<li> <strong>shebang</strong> <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/usr/bin/env python3</span></span><br><span class=\"line\"><span class=\"built_in\">print</span>(<span class=\"string\">&quot;Hello, world!&quot;</span>)</span><br></pre></td></tr></table></figure>\n <code>chmod +x your_script.py</code> <code>./your_script.py</code> </li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">name = <span class=\"string\">&quot;Tom&quot;</span></span><br><span class=\"line\">age = <span class=\"number\">18</span></span><br><span class=\"line\">is_admin = <span class=\"literal\">False</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"keyword\">if</span> age &gt;= <span class=\"number\">18</span>:</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&quot;&quot;</span>)</span><br><span class=\"line\"><span class=\"keyword\">else</span>:</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&quot;&quot;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"keyword\">for</span> i <span class=\"keyword\">in</span> <span class=\"built_in\">range</span>(<span class=\"number\">3</span>):</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(i)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">greet</span>(<span class=\"params\">user</span>):</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">f&quot;Hello, <span class=\"subst\">&#123;user&#125;</span>!&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">print</span>(greet(name))</span><br></pre></td></tr></table></figure>\n\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><strong></strong>Python </li>\n<li><strong></strong> <code>#</code> </li>\n<li><strong></strong></li>\n<li><strong></strong><code>.py</code>  <code>import</code></li>\n<li><strong></strong> <code>if __name__ == &#39;__main__&#39;:</code> </li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Python <strong></strong></p>\n<ul>\n<li><code>os</code></li>\n<li><code>sys</code> Python </li>\n<li><code>subprocess</code> <code>os.system</code></li>\n<li><code>shutil</code></li>\n<li><code>pathlib</code></li>\n<li><code>logging</code></li>\n<li><code>argparse</code> CLI </li>\n<li><code>json</code> JSON </li>\n<li><code>re</code></li>\n<li><code>socket</code></li>\n</ul>\n<p> <code>subprocess</code>  <code>ls</code> </p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> subprocess</span><br><span class=\"line\"></span><br><span class=\"line\">res = subprocess.run([<span class=\"string\">&#x27;ls&#x27;</span>, <span class=\"string\">&#x27;-l&#x27;</span>, <span class=\"string\">&#x27;/var/log&#x27;</span>], capture_output=<span class=\"literal\">True</span>, text=<span class=\"literal\">True</span>)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(res.stdout)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><strong></strong><code>[x * x for x in range(5)]</code> </li>\n<li><strong>with </strong></li>\n<li><strong></strong> <code>f&quot;: &#123;name&#125;&quot;</code> </li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Linux  <code>pip</code>  <code>pip3</code> </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pip3 install requests</span><br></pre></td></tr></table></figure>\n<p> <strong></strong></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">python3 -m venv venv</span><br><span class=\"line\"><span class=\"built_in\">source</span> venv/bin/activate</span><br></pre></td></tr></table></figure>\n<p> <code>venv</code>  <code>deactivate</code> </p>\n<p></p>\n<ul>\n<li><strong>paramiko</strong> SSH </li>\n<li><strong>fabric</strong> paramiko </li>\n<li><strong>psutil</strong> CPU</li>\n<li><strong>schedule</strong> Python </li>\n<li><strong>requests</strong> HTTP </li>\n<li><strong>Flask</strong> Web </li>\n<li><strong>PyYAML</strong> YAML </li>\n</ul>\n<p> paramiko </p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> paramiko</span><br><span class=\"line\"></span><br><span class=\"line\">ssh = paramiko.SSHClient()</span><br><span class=\"line\">ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())</span><br><span class=\"line\">ssh.connect(<span class=\"string\">&#x27;192.168.1.10&#x27;</span>, username=<span class=\"string\">&#x27;root&#x27;</span>, password=<span class=\"string\">&#x27;yourpass&#x27;</span>)</span><br><span class=\"line\">stdin, stdout, stderr = ssh.exec_command(<span class=\"string\">&#x27;systemctl restart nginx&#x27;</span>)</span><br><span class=\"line\"><span class=\"built_in\">print</span>(stdout.read().decode())</span><br><span class=\"line\">ssh.close()</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h3><p></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hosts = [<span class=\"string\">&#x27;192.168.1.10&#x27;</span>, <span class=\"string\">&#x27;192.168.1.11&#x27;</span>]</span><br><span class=\"line\"><span class=\"keyword\">for</span> h <span class=\"keyword\">in</span> hosts:</span><br><span class=\"line\">    ssh = paramiko.SSHClient()</span><br><span class=\"line\">    ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())</span><br><span class=\"line\">    ssh.connect(h, username=<span class=\"string\">&#x27;root&#x27;</span>)</span><br><span class=\"line\">    ssh.exec_command(<span class=\"string\">&#x27;apt update &amp;&amp; apt upgrade -y&#x27;</span>)</span><br><span class=\"line\">    ssh.close()</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2. \"></a>2. </h3><p> <code>psutil</code> </p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> psutil</span><br><span class=\"line\"></span><br><span class=\"line\">cpu = psutil.cpu_percent(interval=<span class=\"number\">1</span>)</span><br><span class=\"line\">mem = psutil.virtual_memory().percent</span><br><span class=\"line\"><span class=\"keyword\">if</span> cpu &gt; <span class=\"number\">80</span> <span class=\"keyword\">or</span> mem &gt; <span class=\"number\">80</span>:</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27; &#x27;</span>)</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3. \"></a>3. </h3><p> Linux  <code>crontab</code> <code>schedule</code>  Pythonic </p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> schedule</span><br><span class=\"line\"><span class=\"keyword\">import</span> time</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">job</span>():</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;&#x27;</span>)</span><br><span class=\"line\"></span><br><span class=\"line\">schedule.every().day.at(<span class=\"string\">&#x27;02:00&#x27;</span>).do(job)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">while</span> <span class=\"literal\">True</span>:</span><br><span class=\"line\">    schedule.run_pending()</span><br><span class=\"line\">    time.sleep(<span class=\"number\">1</span>)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Python </p>\n<ul>\n<li><strong>Ansible</strong> YAML  Playbook  Python </li>\n<li><strong>SaltStack</strong></li>\n<li><strong>Fabric</strong></li>\n</ul>\n<p> Python  Python </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Python  <code>logging</code> </p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> logging</span><br><span class=\"line\"></span><br><span class=\"line\">logging.basicConfig(</span><br><span class=\"line\">    filename=<span class=\"string\">&#x27;/var/log/myapp.log&#x27;</span>,</span><br><span class=\"line\">    level=logging.INFO,</span><br><span class=\"line\">    <span class=\"built_in\">format</span>=<span class=\"string\">&#x27;%(asctime)s %(levelname)s %(message)s&#x27;</span></span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">try</span>:</span><br><span class=\"line\">    <span class=\"comment\"># </span></span><br><span class=\"line\">    logging.info(<span class=\"string\">&#x27;&#x27;</span>)</span><br><span class=\"line\"><span class=\"keyword\">except</span> Exception <span class=\"keyword\">as</span> e:</span><br><span class=\"line\">    logging.error(<span class=\"string\">&#x27;: %s&#x27;</span>, e)</span><br></pre></td></tr></table></figure>\n\n<p></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">try</span>:</span><br><span class=\"line\">    risky_operation()</span><br><span class=\"line\"><span class=\"keyword\">except</span> Exception <span class=\"keyword\">as</span> err:</span><br><span class=\"line\">    <span class=\"built_in\">print</span>(<span class=\"string\">&#x27;&#x27;</span>, err)</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p></p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#!/usr/bin/env python3</span></span><br><span class=\"line\"><span class=\"keyword\">import</span> shutil</span><br><span class=\"line\"><span class=\"keyword\">import</span> smtplib</span><br><span class=\"line\"><span class=\"keyword\">from</span> email.mime.text <span class=\"keyword\">import</span> MIMEText</span><br><span class=\"line\"></span><br><span class=\"line\">threshold = <span class=\"number\">80</span></span><br><span class=\"line\">usage = shutil.disk_usage(<span class=\"string\">&#x27;/&#x27;</span>)</span><br><span class=\"line\">percent = usage.used / usage.total * <span class=\"number\">100</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> percent &gt; threshold:</span><br><span class=\"line\">    msg = MIMEText(<span class=\"string\">f&#x27;Disk usage is <span class=\"subst\">&#123;percent:<span class=\"number\">.1</span>f&#125;</span>%!&#x27;</span>)</span><br><span class=\"line\">    msg[<span class=\"string\">&#x27;Subject&#x27;</span>] = <span class=\"string\">&#x27;Disk Alert&#x27;</span></span><br><span class=\"line\">    msg[<span class=\"string\">&#x27;From&#x27;</span>] = <span class=\"string\">&#x27;monitor@example.com&#x27;</span></span><br><span class=\"line\">    msg[<span class=\"string\">&#x27;To&#x27;</span>] = <span class=\"string\">&#x27;admin@example.com&#x27;</span></span><br><span class=\"line\">    <span class=\"keyword\">with</span> smtplib.SMTP(<span class=\"string\">&#x27;smtp.example.com&#x27;</span>) <span class=\"keyword\">as</span> s:</span><br><span class=\"line\">        s.login(<span class=\"string\">&#x27;user&#x27;</span>, <span class=\"string\">&#x27;pass&#x27;</span>)</span><br><span class=\"line\">        s.send_message(msg)</span><br></pre></td></tr></table></figure>\n<p> <code>crontab</code></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><strong></strong>Python </li>\n<li><strong></strong></li>\n<li><strong></strong>Stack Overflow</li>\n<li><strong></strong></li>\n</ul>\n<p> Python </p>\n","_processedHighlight":true},{"title":"Shell","date":"2025-03-26T05:58:05.000Z","cover":"https://img0.baidu.com/it/u=279259354,2980670496&fm=253&fmt=auto&app=138&f=JPEG?w=1387&h=500","_content":"\n##  Shell\nShell  Linux  Unix  \"\" Bash \n\n###  Shell\n- ****\n- ****\n- ****\n- **** Linux \n\n## \n```bash\n#!/bin/bash\necho \"Hello World\"\n```\n `hello.sh`\n```bash\nchmod +x hello.sh\n./hello.sh\n```\n\n## \n### \n```bash\nname=\"Bob\"\necho \"Hello, $name\"\n```\n-  `$(command)` \n```bash\nfiles=$(ls /etc | wc -l)\n```\n\n### \n```bash\nif [ -f /etc/passwd ]; then\n  echo \"\"\nelse\n  echo \"\"\nfi\n```\n `-f` ()`-d` () \n\n### \n#### for\n```bash\nfor user in alice bob carol; do\n  echo \" $user\"\ndone\n```\n#### while\n```bash\ncounter=0\nwhile [ $counter -lt 5 ]; do\n  echo \": $counter\"\n  counter=$((counter+1))\ndone\n```\n\n### \n```bash\nbackup_file() {\n  src=$1\n  dest=$2\n  cp \"$src\" \"$dest\"\n}\nbackup_file /etc/hosts /tmp/hosts.bak\n```\n\n\n## \n### \n `for`  `ssh` \n```bash\nservers=\"192.168.1.10 192.168.1.11\"\nfor host in $servers; do\n  ssh root@$host \"systemctl restart nginx\"\ndone\n```\n\n### \n `tail -f` \n```bash\ntail -f /var/log/nginx/access.log | while read line; do\n  echo \"$line\" | grep \"500\" && echo \" 500 \"\ndone\n```\n\n### \n```bash\n#!/bin/bash\nsrc=/data\nbak=/backup/$(date +%F)\nmkdir -p \"$bak\"\ncp -r \"$src\" \"$bak\"\n```\n `crontab` \n\n## \n1. ** crontab **\n   ```bash\n   #  2 \n   0 2 * * * /usr/local/bin/backup.sh\n   ```\n2. **** `export`  `.env` \n3. ****`exec >>/var/log/myscript.log 2>&1` \n4. ** set -euo pipefail **\n   ```bash\n   #!/bin/bash\n   set -euo pipefail\n   ```\n\n##  Web \n```bash\n#!/bin/bash\nset -e\napp_src=/opt/app\nweb_root=/var/www/html\n\n# \napt update && apt install -y nginx git\n\n# \nif [ ! -d \"$app_src\" ]; then\n  git clone https://example.com/repo.git \"$app_src\"\nelse\n  git -C \"$app_src\" pull\nfi\ncp -r \"$app_src\"/* \"$web_root\"/\n\n# \nsystemctl restart nginx\n```\n\n## \n- \n- \n- \n\nShell  Linux \n\n\n## \n- **Shell ** (Terminal) Shell  Shell  BashZsh \n- **Shebang** `#!/bin/bash` \n- ****\n- **** `|` `>`  `>>` \n\n## \n### 1. \n```bash\n#!/bin/bash\nurl=\"https://example.com/health\"\nstatus=$(curl -s -o /dev/null -w \"%{http_code}\" \"$url\")\nif [ \"$status\" != \"200\" ]; then\n  echo \"[]  $status\" | mail -s \"Health Check\" admin@example.com\nfi\n```\n\n### 2. \n```bash\n#!/bin/bash\nlogdir=/var/log/myapp\nfind \"$logdir\" -name \"*.log\" -mtime +7 -delete\n```\n\n### 3. \n```bash\nservers=\"srv1 srv2 srv3\"\nfor h in $servers; do\n  ssh $h \"cd /opt/app && git pull && systemctl restart app\"\ndone\n```\n\n### 4. \n```bash\n#!/bin/bash\nsrc=/data\nremote=user@backup:/data\nrsync -avz \"$src\" \"$remote\"\n```\n\n\n\n","source":"_posts/Shell.md","raw":"---\ntitle: Shell\ndate: 2025-03-26 13:58:05\ntags: [,Shell]\ncategories: [, Shell]\ncover: https://img0.baidu.com/it/u=279259354,2980670496&fm=253&fmt=auto&app=138&f=JPEG?w=1387&h=500\n---\n\n##  Shell\nShell  Linux  Unix  \"\" Bash \n\n###  Shell\n- ****\n- ****\n- ****\n- **** Linux \n\n## \n```bash\n#!/bin/bash\necho \"Hello World\"\n```\n `hello.sh`\n```bash\nchmod +x hello.sh\n./hello.sh\n```\n\n## \n### \n```bash\nname=\"Bob\"\necho \"Hello, $name\"\n```\n-  `$(command)` \n```bash\nfiles=$(ls /etc | wc -l)\n```\n\n### \n```bash\nif [ -f /etc/passwd ]; then\n  echo \"\"\nelse\n  echo \"\"\nfi\n```\n `-f` ()`-d` () \n\n### \n#### for\n```bash\nfor user in alice bob carol; do\n  echo \" $user\"\ndone\n```\n#### while\n```bash\ncounter=0\nwhile [ $counter -lt 5 ]; do\n  echo \": $counter\"\n  counter=$((counter+1))\ndone\n```\n\n### \n```bash\nbackup_file() {\n  src=$1\n  dest=$2\n  cp \"$src\" \"$dest\"\n}\nbackup_file /etc/hosts /tmp/hosts.bak\n```\n\n\n## \n### \n `for`  `ssh` \n```bash\nservers=\"192.168.1.10 192.168.1.11\"\nfor host in $servers; do\n  ssh root@$host \"systemctl restart nginx\"\ndone\n```\n\n### \n `tail -f` \n```bash\ntail -f /var/log/nginx/access.log | while read line; do\n  echo \"$line\" | grep \"500\" && echo \" 500 \"\ndone\n```\n\n### \n```bash\n#!/bin/bash\nsrc=/data\nbak=/backup/$(date +%F)\nmkdir -p \"$bak\"\ncp -r \"$src\" \"$bak\"\n```\n `crontab` \n\n## \n1. ** crontab **\n   ```bash\n   #  2 \n   0 2 * * * /usr/local/bin/backup.sh\n   ```\n2. **** `export`  `.env` \n3. ****`exec >>/var/log/myscript.log 2>&1` \n4. ** set -euo pipefail **\n   ```bash\n   #!/bin/bash\n   set -euo pipefail\n   ```\n\n##  Web \n```bash\n#!/bin/bash\nset -e\napp_src=/opt/app\nweb_root=/var/www/html\n\n# \napt update && apt install -y nginx git\n\n# \nif [ ! -d \"$app_src\" ]; then\n  git clone https://example.com/repo.git \"$app_src\"\nelse\n  git -C \"$app_src\" pull\nfi\ncp -r \"$app_src\"/* \"$web_root\"/\n\n# \nsystemctl restart nginx\n```\n\n## \n- \n- \n- \n\nShell  Linux \n\n\n## \n- **Shell ** (Terminal) Shell  Shell  BashZsh \n- **Shebang** `#!/bin/bash` \n- ****\n- **** `|` `>`  `>>` \n\n## \n### 1. \n```bash\n#!/bin/bash\nurl=\"https://example.com/health\"\nstatus=$(curl -s -o /dev/null -w \"%{http_code}\" \"$url\")\nif [ \"$status\" != \"200\" ]; then\n  echo \"[]  $status\" | mail -s \"Health Check\" admin@example.com\nfi\n```\n\n### 2. \n```bash\n#!/bin/bash\nlogdir=/var/log/myapp\nfind \"$logdir\" -name \"*.log\" -mtime +7 -delete\n```\n\n### 3. \n```bash\nservers=\"srv1 srv2 srv3\"\nfor h in $servers; do\n  ssh $h \"cd /opt/app && git pull && systemctl restart app\"\ndone\n```\n\n### 4. \n```bash\n#!/bin/bash\nsrc=/data\nremote=user@backup:/data\nrsync -avz \"$src\" \"$remote\"\n```\n\n\n\n","slug":"Shell","published":1,"updated":"2025-06-13T15:49:44.957Z","_id":"cm8pijwzn00004sr25r4sffyf","comments":1,"layout":"post","photos":[],"content":"<h2 id=\"-Shell\"><a href=\"#-Shell\" class=\"headerlink\" title=\" Shell\"></a> Shell</h2><p>Shell  Linux  Unix   Bash </p>\n<h3 id=\"-Shell\"><a href=\"#-Shell\" class=\"headerlink\" title=\" Shell\"></a> Shell</h3><ul>\n<li><strong></strong></li>\n<li><strong></strong></li>\n<li><strong></strong></li>\n<li><strong></strong> Linux </li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">&quot;Hello World&quot;</span></span><br></pre></td></tr></table></figure></div>\n<p> <code>hello.sh</code></p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">chmod</span> +x hello.sh</span><br><span class=\"line\">./hello.sh</span><br></pre></td></tr></table></figure></div>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">name=<span class=\"string\">&quot;Bob&quot;</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">&quot;Hello, <span class=\"variable\">$name</span>&quot;</span></span><br></pre></td></tr></table></figure></div>\n<ul>\n<li> <code>$(command)</code> <div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">files=$(<span class=\"built_in\">ls</span> /etc | <span class=\"built_in\">wc</span> -l)</span><br></pre></td></tr></table></figure></div></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> [ -f /etc/passwd ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br></pre></td></tr></table></figure></div>\n<p> <code>-f</code> ()<code>-d</code> () </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"for\"><a href=\"#for\" class=\"headerlink\" title=\"for\"></a>for</h4><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> user <span class=\"keyword\">in</span> alice bob carol; <span class=\"keyword\">do</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> <span class=\"string\">&quot; <span class=\"variable\">$user</span>&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br></pre></td></tr></table></figure></div>\n<h4 id=\"while\"><a href=\"#while\" class=\"headerlink\" title=\"while\"></a>while</h4><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">counter=0</span><br><span class=\"line\"><span class=\"keyword\">while</span> [ <span class=\"variable\">$counter</span> -lt 5 ]; <span class=\"keyword\">do</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> <span class=\"string\">&quot;: <span class=\"variable\">$counter</span>&quot;</span></span><br><span class=\"line\">  counter=$((counter+<span class=\"number\">1</span>))</span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">backup_file</span></span>() &#123;</span><br><span class=\"line\">  src=<span class=\"variable\">$1</span></span><br><span class=\"line\">  dest=<span class=\"variable\">$2</span></span><br><span class=\"line\">  <span class=\"built_in\">cp</span> <span class=\"string\">&quot;<span class=\"variable\">$src</span>&quot;</span> <span class=\"string\">&quot;<span class=\"variable\">$dest</span>&quot;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">backup_file /etc/hosts /tmp/hosts.bak</span><br></pre></td></tr></table></figure></div>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>for</code>  <code>ssh</code> </p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">servers=<span class=\"string\">&quot;192.168.1.10 192.168.1.11&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> host <span class=\"keyword\">in</span> <span class=\"variable\">$servers</span>; <span class=\"keyword\">do</span></span><br><span class=\"line\">  ssh root@<span class=\"variable\">$host</span> <span class=\"string\">&quot;systemctl restart nginx&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>tail -f</code> </p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">tail</span> -f /var/log/nginx/access.log | <span class=\"keyword\">while</span> <span class=\"built_in\">read</span> line; <span class=\"keyword\">do</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> <span class=\"string\">&quot;<span class=\"variable\">$line</span>&quot;</span> | grep <span class=\"string\">&quot;500&quot;</span> &amp;&amp; <span class=\"built_in\">echo</span> <span class=\"string\">&quot; 500 &quot;</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\">src=/data</span><br><span class=\"line\">bak=/backup/$(<span class=\"built_in\">date</span> +%F)</span><br><span class=\"line\"><span class=\"built_in\">mkdir</span> -p <span class=\"string\">&quot;<span class=\"variable\">$bak</span>&quot;</span></span><br><span class=\"line\"><span class=\"built_in\">cp</span> -r <span class=\"string\">&quot;<span class=\"variable\">$src</span>&quot;</span> <span class=\"string\">&quot;<span class=\"variable\">$bak</span>&quot;</span></span><br></pre></td></tr></table></figure></div>\n<p> <code>crontab</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li><strong> crontab </strong><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#  2 </span></span><br><span class=\"line\">0 2 * * * /usr/local/bin/backup.sh</span><br></pre></td></tr></table></figure></div></li>\n<li><strong></strong> <code>export</code>  <code>.env</code> </li>\n<li><strong></strong><code>exec &gt;&gt;/var/log/myscript.log 2&gt;&amp;1</code> </li>\n<li><strong> set -euo pipefail </strong><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"built_in\">set</span> -euo pipefail</span><br></pre></td></tr></table></figure></div></li>\n</ol>\n<h2 id=\"-Web-\"><a href=\"#-Web-\" class=\"headerlink\" title=\" Web \"></a> Web </h2><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"built_in\">set</span> -e</span><br><span class=\"line\">app_src=/opt/app</span><br><span class=\"line\">web_root=/var/www/html</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">apt update &amp;&amp; apt install -y nginx git</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"keyword\">if</span> [ ! -d <span class=\"string\">&quot;<span class=\"variable\">$app_src</span>&quot;</span> ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">  git <span class=\"built_in\">clone</span> https://example.com/repo.git <span class=\"string\">&quot;<span class=\"variable\">$app_src</span>&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">  git -C <span class=\"string\">&quot;<span class=\"variable\">$app_src</span>&quot;</span> pull</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br><span class=\"line\"><span class=\"built_in\">cp</span> -r <span class=\"string\">&quot;<span class=\"variable\">$app_src</span>&quot;</span>/* <span class=\"string\">&quot;<span class=\"variable\">$web_root</span>&quot;</span>/</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">systemctl restart nginx</span><br></pre></td></tr></table></figure></div>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p>Shell  Linux </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><strong>Shell </strong> (Terminal) Shell  Shell  BashZsh </li>\n<li><strong>Shebang</strong> <code>#!/bin/bash</code> </li>\n<li><strong></strong></li>\n<li><strong></strong> <code>|</code> <code>&gt;</code>  <code>&gt;&gt;</code> </li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h3><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\">url=<span class=\"string\">&quot;https://example.com/health&quot;</span></span><br><span class=\"line\">status=$(curl -s -o /dev/null -w <span class=\"string\">&quot;%&#123;http_code&#125;&quot;</span> <span class=\"string\">&quot;<span class=\"variable\">$url</span>&quot;</span>)</span><br><span class=\"line\"><span class=\"keyword\">if</span> [ <span class=\"string\">&quot;<span class=\"variable\">$status</span>&quot;</span> != <span class=\"string\">&quot;200&quot;</span> ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> <span class=\"string\">&quot;[]  <span class=\"variable\">$status</span>&quot;</span> | mail -s <span class=\"string\">&quot;Health Check&quot;</span> admin@example.com</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2. \"></a>2. </h3><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\">logdir=/var/log/myapp</span><br><span class=\"line\">find <span class=\"string\">&quot;<span class=\"variable\">$logdir</span>&quot;</span> -name <span class=\"string\">&quot;*.log&quot;</span> -mtime +7 -delete</span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3. \"></a>3. </h3><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">servers=<span class=\"string\">&quot;srv1 srv2 srv3&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> h <span class=\"keyword\">in</span> <span class=\"variable\">$servers</span>; <span class=\"keyword\">do</span></span><br><span class=\"line\">  ssh <span class=\"variable\">$h</span> <span class=\"string\">&quot;cd /opt/app &amp;&amp; git pull &amp;&amp; systemctl restart app&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"4-\"><a href=\"#4-\" class=\"headerlink\" title=\"4. \"></a>4. </h3><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\">src=/data</span><br><span class=\"line\">remote=user@backup:/data</span><br><span class=\"line\">rsync -avz <span class=\"string\">&quot;<span class=\"variable\">$src</span>&quot;</span> <span class=\"string\">&quot;<span class=\"variable\">$remote</span>&quot;</span></span><br></pre></td></tr></table></figure></div>\n\n<p></p>\n","excerpt":"","more":"<h2 id=\"-Shell\"><a href=\"#-Shell\" class=\"headerlink\" title=\" Shell\"></a> Shell</h2><p>Shell  Linux  Unix   Bash </p>\n<h3 id=\"-Shell\"><a href=\"#-Shell\" class=\"headerlink\" title=\" Shell\"></a> Shell</h3><ul>\n<li><strong></strong></li>\n<li><strong></strong></li>\n<li><strong></strong></li>\n<li><strong></strong> Linux </li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">&quot;Hello World&quot;</span></span><br></pre></td></tr></table></figure>\n<p> <code>hello.sh</code></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">chmod</span> +x hello.sh</span><br><span class=\"line\">./hello.sh</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">name=<span class=\"string\">&quot;Bob&quot;</span></span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">&quot;Hello, <span class=\"variable\">$name</span>&quot;</span></span><br></pre></td></tr></table></figure>\n<ul>\n<li> <code>$(command)</code> <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">files=$(<span class=\"built_in\">ls</span> /etc | <span class=\"built_in\">wc</span> -l)</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> [ -f /etc/passwd ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br></pre></td></tr></table></figure>\n<p> <code>-f</code> ()<code>-d</code> () </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"for\"><a href=\"#for\" class=\"headerlink\" title=\"for\"></a>for</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> user <span class=\"keyword\">in</span> alice bob carol; <span class=\"keyword\">do</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> <span class=\"string\">&quot; <span class=\"variable\">$user</span>&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"while\"><a href=\"#while\" class=\"headerlink\" title=\"while\"></a>while</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">counter=0</span><br><span class=\"line\"><span class=\"keyword\">while</span> [ <span class=\"variable\">$counter</span> -lt 5 ]; <span class=\"keyword\">do</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> <span class=\"string\">&quot;: <span class=\"variable\">$counter</span>&quot;</span></span><br><span class=\"line\">  counter=$((counter+<span class=\"number\">1</span>))</span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"function\"><span class=\"title\">backup_file</span></span>() &#123;</span><br><span class=\"line\">  src=<span class=\"variable\">$1</span></span><br><span class=\"line\">  dest=<span class=\"variable\">$2</span></span><br><span class=\"line\">  <span class=\"built_in\">cp</span> <span class=\"string\">&quot;<span class=\"variable\">$src</span>&quot;</span> <span class=\"string\">&quot;<span class=\"variable\">$dest</span>&quot;</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\">backup_file /etc/hosts /tmp/hosts.bak</span><br></pre></td></tr></table></figure>\n<p></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>for</code>  <code>ssh</code> </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">servers=<span class=\"string\">&quot;192.168.1.10 192.168.1.11&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> host <span class=\"keyword\">in</span> <span class=\"variable\">$servers</span>; <span class=\"keyword\">do</span></span><br><span class=\"line\">  ssh root@<span class=\"variable\">$host</span> <span class=\"string\">&quot;systemctl restart nginx&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p> <code>tail -f</code> </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">tail</span> -f /var/log/nginx/access.log | <span class=\"keyword\">while</span> <span class=\"built_in\">read</span> line; <span class=\"keyword\">do</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> <span class=\"string\">&quot;<span class=\"variable\">$line</span>&quot;</span> | grep <span class=\"string\">&quot;500&quot;</span> &amp;&amp; <span class=\"built_in\">echo</span> <span class=\"string\">&quot; 500 &quot;</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\">src=/data</span><br><span class=\"line\">bak=/backup/$(<span class=\"built_in\">date</span> +%F)</span><br><span class=\"line\"><span class=\"built_in\">mkdir</span> -p <span class=\"string\">&quot;<span class=\"variable\">$bak</span>&quot;</span></span><br><span class=\"line\"><span class=\"built_in\">cp</span> -r <span class=\"string\">&quot;<span class=\"variable\">$src</span>&quot;</span> <span class=\"string\">&quot;<span class=\"variable\">$bak</span>&quot;</span></span><br></pre></td></tr></table></figure>\n<p> <code>crontab</code> </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ol>\n<li><strong> crontab </strong><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#  2 </span></span><br><span class=\"line\">0 2 * * * /usr/local/bin/backup.sh</span><br></pre></td></tr></table></figure></li>\n<li><strong></strong> <code>export</code>  <code>.env</code> </li>\n<li><strong></strong><code>exec &gt;&gt;/var/log/myscript.log 2&gt;&amp;1</code> </li>\n<li><strong> set -euo pipefail </strong><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"built_in\">set</span> -euo pipefail</span><br></pre></td></tr></table></figure></li>\n</ol>\n<h2 id=\"-Web-\"><a href=\"#-Web-\" class=\"headerlink\" title=\" Web \"></a> Web </h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"built_in\">set</span> -e</span><br><span class=\"line\">app_src=/opt/app</span><br><span class=\"line\">web_root=/var/www/html</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">apt update &amp;&amp; apt install -y nginx git</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"keyword\">if</span> [ ! -d <span class=\"string\">&quot;<span class=\"variable\">$app_src</span>&quot;</span> ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">  git <span class=\"built_in\">clone</span> https://example.com/repo.git <span class=\"string\">&quot;<span class=\"variable\">$app_src</span>&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">else</span></span><br><span class=\"line\">  git -C <span class=\"string\">&quot;<span class=\"variable\">$app_src</span>&quot;</span> pull</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br><span class=\"line\"><span class=\"built_in\">cp</span> -r <span class=\"string\">&quot;<span class=\"variable\">$app_src</span>&quot;</span>/* <span class=\"string\">&quot;<span class=\"variable\">$web_root</span>&quot;</span>/</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">systemctl restart nginx</span><br></pre></td></tr></table></figure>\n\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li></li>\n<li></li>\n<li></li>\n</ul>\n<p>Shell  Linux </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><ul>\n<li><strong>Shell </strong> (Terminal) Shell  Shell  BashZsh </li>\n<li><strong>Shebang</strong> <code>#!/bin/bash</code> </li>\n<li><strong></strong></li>\n<li><strong></strong> <code>|</code> <code>&gt;</code>  <code>&gt;&gt;</code> </li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"1-\"><a href=\"#1-\" class=\"headerlink\" title=\"1. \"></a>1. </h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\">url=<span class=\"string\">&quot;https://example.com/health&quot;</span></span><br><span class=\"line\">status=$(curl -s -o /dev/null -w <span class=\"string\">&quot;%&#123;http_code&#125;&quot;</span> <span class=\"string\">&quot;<span class=\"variable\">$url</span>&quot;</span>)</span><br><span class=\"line\"><span class=\"keyword\">if</span> [ <span class=\"string\">&quot;<span class=\"variable\">$status</span>&quot;</span> != <span class=\"string\">&quot;200&quot;</span> ]; <span class=\"keyword\">then</span></span><br><span class=\"line\">  <span class=\"built_in\">echo</span> <span class=\"string\">&quot;[]  <span class=\"variable\">$status</span>&quot;</span> | mail -s <span class=\"string\">&quot;Health Check&quot;</span> admin@example.com</span><br><span class=\"line\"><span class=\"keyword\">fi</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"2-\"><a href=\"#2-\" class=\"headerlink\" title=\"2. \"></a>2. </h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\">logdir=/var/log/myapp</span><br><span class=\"line\">find <span class=\"string\">&quot;<span class=\"variable\">$logdir</span>&quot;</span> -name <span class=\"string\">&quot;*.log&quot;</span> -mtime +7 -delete</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3-\"><a href=\"#3-\" class=\"headerlink\" title=\"3. \"></a>3. </h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">servers=<span class=\"string\">&quot;srv1 srv2 srv3&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">for</span> h <span class=\"keyword\">in</span> <span class=\"variable\">$servers</span>; <span class=\"keyword\">do</span></span><br><span class=\"line\">  ssh <span class=\"variable\">$h</span> <span class=\"string\">&quot;cd /opt/app &amp;&amp; git pull &amp;&amp; systemctl restart app&quot;</span></span><br><span class=\"line\"><span class=\"keyword\">done</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"4-\"><a href=\"#4-\" class=\"headerlink\" title=\"4. \"></a>4. </h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">#!/bin/bash</span></span><br><span class=\"line\">src=/data</span><br><span class=\"line\">remote=user@backup:/data</span><br><span class=\"line\">rsync -avz <span class=\"string\">&quot;<span class=\"variable\">$src</span>&quot;</span> <span class=\"string\">&quot;<span class=\"variable\">$remote</span>&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p></p>\n","_processedHighlight":true},{"title":"Docker","date":"2025-03-25T03:57:28.000Z","cover":"/images/docker.webp","_content":"Docker  Go  Apache2.0\nDocker  Linux \n iPhone  app,\n\n## \n\ndockerdockerdocker\n\n\ndockerdockerInfrastructure as code\n\ndocker\n\n\n\ndocker  dockerCP\n\n## docker\n### Docker\n20246dockerDocker\nDocker\nGithub Action/Release\n\n\n[](https://github.com/tech-shrimp/me)\nBYoutube\n``` Bash Linux\nsudo curl -fsSL https://get.docker.com| bash -s docker --mirror Aliyun \n#\n\nsudo curl -fsSL https://github.com/tech-shrimp/docker_installer/releases/download/latest/linux.sh| bash -s docker --mirror Aliyun\n# \n\nsudo curl -fsSL https://gitee.com/tech-shrimp/docker_installer/releases/download/latest/linux.sh| bash -s docker --mirror Aliyun\n# 2 githubgitee\n\nsudo service docker start #Docker\n```\n\n### Centosdocker\nCentOS 7\nCentOS Extras \noverlay2\nDockerdockerdocker-engine\n``` Bash centOS\nsudo yum remove docker \\\ndocker-client \\\ndocker-client-latest \\\ndocker-common \\\ndocker-latest \\\ndocker-latest-logrotate \\\ndocker-logrotate \\\ndocker-engine\n```\ndocker/var/lib/docker/\n\n#### \n1.()\n\n``` Bash centOS\ncurl -fsSL https://get.docker.com -o get-docker.sh\nsudo sh get-docker.sh\n```\n<!--                                                      -->\n2.()\n2.1docker\n``` Bash centOS\nsudo yum install -y yum-utils \\\ndevice-mapper-persistent-data\nlvm2\nsudo yum-config-manager \\\n--add-repo \\\nhttps://download.docker.com/linux/centos/docker-ce.repo\n```\n2.2docker CE\n``` Bash centOS\nsudo yum install docker-ce docker-ce-cli container.io\n # Docker CE\nyum list docker-ce --showduplicates | sort -r\nsudo yum install docker-ce-<VERSION_STRING> docker-ce-cli-<VERSION_STRING> container.io\n#<VERSION_STRING>-18.09.618.06.2.ce\n```\n<!--                                                         -->\n3.RPM\n3.1Docker\n https://download.docker.com/linux/centos/7/x86_64/stable/Packages/\n``` Bash centOS\nsudo yum install /path/to/package.rpm\n# /path/to/package.rpm,rpm\nsudo systemctl start docker\n# Docker\nsudo docker run hello-world\n# \n```\n: [Centosdocker](https://www.coonote.com/docker/centos-install-docker.html)\n\n\n\n\n### Ubuntudocker\nDocker 64Ubuntu Ubuntu  3.103.10 \n\n``` Bash Ubuntu\nuname -r \n3.11.0-15-generic\n```\n\n``` Bash Ubuntu\nwhich wget # wget\n\nsudo apt-get update \nsudo apt-get install wget \n# wget\n\nwget -qO- https://get.docker.com/ | sh  \n#  Docker \n\nsudo docker run hello-world  #  Docker \n # \n```\n: [Ubuntudocker](https://www.coonote.com/docker/ubuntu-install-docker.html)\n\n\n\n\n### Macosdocker\nHomebrew  Cask  Docker for Mac\n``` Bash Macos\nbrew cask install docker\n```\n Docker app  Next macOS  Docker \n\n: [Macosadocker](https://www.coonote.com/docker/macos-intall-docker.html)\n\n\n\n\n## docker\n### Pull\n####  \ngithub ActionDocker\nDockerHub, gcr.io, k8s.io, ghcr.io\n40GB\n\n: [Github](https://github.com/tech-shrimp/docker_image_pusher)\n\n####  \n\n,\n\n|    |                                       |                           |\n| :--------- | :------------------------------------------- | :------------------------------- |\n| 1Panel     | https://github.com/1Panel-dev/1Panel/        | https://docker.1panel.live       |\n| Daocloud   | https://github.com/DaoCloud/public-image-mirror | https://docker.m.daocloud.io     |\n|    | https://github.com/TheTNB/panel              | https://hub.rat.dev              |\n\nlinux\n``` bash Linux\nsudo vi /etc/docker/daemon.json #/daemon\n\n{\n    \"registry-mirrors\": [\n        \"https://docker.m.daocloud.io\",\n        \"https://docker.1panel.live\",\n        \"https://hub.rat.dev\"\n    ]\n}\n# viesc:wq  nanoctrl+x\n\nsudo service docker restart # docker\n```\n\n####  \nGithub Actiondocker https://github.com/wukongdaily/DockerTarBuilder\n####  \n``` bash docker\nbash -c \"$(curl -sSLf https://xy.ggbond.org/xy/docker_pull.sh)\" -s \n```\n####  Cloudflare worker \nhttps://github.com/cmliu/CF-Workers-docker.io\n#### \nhttps://docker.fxxk.dedyn.io/\n\n: [Github Action](https://github.com/tech-shrimp/docker_installer?tab=readme-ov-file)\n\n### \n####  \n|                                 |                                       |\n|-------------------------------------|-------------------------------------------|\n| docker images                       |                           |\n| docker pull [:tag]            | nginx:latest   |\n| docker rmi ID/                |                               |\n| docker build -t  .            |  Dockerfile                   |\n| docker tag                  | mynginx:v1         |\n| docker save -o xx.tar         |                           |\n| docker load -i xx.tar               |                           |\n\n####  \n|                                               |                                       |\n|---------------------------------------------------|-------------------------------------------|\n| docker ps                                         |                         |\n| docker ps -a                                     |                 |\n| docker run                                  |             |\n| docker run -it  /bin/bash                   |                     |\n| docker run -d                               | detached                  |\n| docker run -p :             | -p 8080:80                |\n| docker run -v :             | -v /mydata:/data          |\n| docker start/stop/restart ID                  |  /  /                     |\n| docker exec -it ID bash                       |                   |\n| docker logs ID                                |                               |\n| docker rm ID                                  |                                   |\n| docker rm $(docker ps -aq)                        |                   |\n\n####  Volume\n|                                |                            |\n|------------------------------------|--------------------------------|\n| docker volume ls                   |                  |\n| docker volume create           |                      |\n| docker volume inspect          |              |\n| docker volume rm               |          |\n\n####  \n|                                                  |                        |\n|------------------------------------------------------|----------------------------|\n| docker network ls                                    |                    |\n| docker network create                            |                    |\n| docker network inspect                           |                |\n| docker network connect                   |          |\n| docker run --network                       |              |\n\n####  \n|                           |                                         |\n|-------------------------------|---------------------------------------------|\n| docker info                   |  Docker                         |\n| docker version                |  Docker                             |\n| docker system df              |               |\n| docker system prune           |     |\n## Docker Dockerfile\n###  Dockerfile\nDockerfile  Docker \n\n\t\t PythonNodeNginx\n\t\t\n\t\t\n\t\t\n\t\t\n### Dockerfile \n``` Dockerfile\n# 1. \nFROM [:tag]\n\n# 2. \nWORKDIR /app\n\n# 3. \nCOPY ..\n\n# 4. RUN\nRUN \n\n# 5. \nENV =\n\n# 6. \nCMD [\"\",\"\"]\n\n# 7. \nEXPOSE \n```\n###  + \n|      |                           |                              |\n|----------|-------------------------------|----------------------------------|\n| FROM     | FROM node:18                  |                          |\n| WORKDIR  | WORKDIR /app                  |  cd              |\n| COPY     | COPY . .                      |            |\n| RUN      | RUN npm install              |                  |\n| CMD      | CMD [\"npm\", \"start\"]         |      |\n| EXPOSE   | EXPOSE 3000                   |  |\n### Flask Web App\n \n``` bash\nmy-flask-app/\n app.py\n requirements.txt\n Dockerfile\n```\n app.py\n``` python\nfrom flask import Flask\napp = Flask(__name__)\n\n@app.route(\"/\")\ndef home():\n    return \"Hello,Docker!\"\n\nif __name__ == \"__main__\":\n    app.run(host=\"0.0.0.0\",port=5000)\n```\n requirements.txt\n``` bash\nflask\n```\n Dockerfile\n``` Dockerfile\nFROM python:3.9-slim\nWORKDIR /app\nCOPY ..\nRUN pip install -r requirements.txt\nEXPOSE 5000\nCMD [\"python\",\"app.py\"]\n```\n \n``` bash\ndocker build -t my-flask-app .\ndocker run -d -p 5000:5000 my-flask-app\n```\nhttp://localhost:5000\n \n### \n|            |                                                |\n|----------------|--------------------------------------------------------------|\n|  | CMD                                          |\n|          |  `-slim``-alpine`                                  |\n|      | COPY `.dockerignore`                     |\n|            |  `.dockerignore`  `node_modules` |\n\n### Dockerfile \n``` Dockerfile\n# \nFROM node:18 as build\nWORKDIR /app\nCOPY ..\nRUN nom install && npm run build\n\n# nginx\nFROM nginx\nCOPY --from=build /app/dist /usr/share/nginx/html\n\n#\nENV PORT=8080\n```\n###  \n<b>FROM WORKDIR COPY RUN CMD </b>\n\n\n\n## Docker Compose\n### Docker Compose\ndocker-compose.yml\n\t\t webdbredis\n\t\t\n\t\tdocker-compose up\n### \n```Yaml\nversion: '3'    #Compose,33.8\n\nservices:       #\n    1:\n        image:   buld\n        ports:\n            - \"\"\n        volumes:\n            - \"\"\n        environment:\n            - \"=\"\n        depends_on:\n            - \n\n    2:\n        ....\n```\n###  Nginx\n```Yaml\nmy-compose-project/\n docker-compose.yml\n html/\n    index.html\n nginx.conf\n```\n docker-compose.yml \n```Yaml\nversion: '3'\nservices:\n  web:\n    image: nginx\n    ports:\n      - \"8080:80\"\n    volumes:\n      - ./html:/usr/share/nginx/html:ro\n      - ./nginx.conf:/etc/nginx/nginx.conf:ro\n```\n\n\t\t8080  80\n\t\t ./html  nginx \n\t\t nginx \n \n```bash Ubuntu\ndocker-compose up -d #  docker compose up -d\n```\n \n```bash Ubuntu\ndocker-compose down -v #  docker compose down -v\n```\n### Node.js + MongoDB\n```Yaml\nversion: '3'\n\nservices:\n    app:\n        build: .\n        ports:\n            - \"3000:3000\"\n        environment:\n            - MONGO_URL=mongodb://mongo:27017/mydb\n        depends_on:\n            - mongo\n    \n    mongo:\n        image: mongo\n        ports:\n            - \"27017:27017\"\n```\n\n\t\tapp  Dockerfile \n\t\t Mongo  mongo \n### \n|            |                                               |\n|----------------|---------------------------------------------------|\n| image:         |                                       |\n| build:         |  Dockerfile                             |\n| ports:         | :                                 |\n| volumes:       | :                                 |\n| environment:   |                                       |\n| depends_on:    |                                   |\n| restart:       |  alwayson-failure  |\n| networks:      |                   |\n\n### \n```bash Ubuntu\n# \ndocker-compose up -d #  docker compose up -d\n\n# \ndocker-compose down #  docker compose down\n\n# \ndocker-compose logs #  docker compose logs\n\n# \ndocker-compose ps #  docker compose ps\n\n# \ndocker-compose exec  bash #  docker compose exec  bash\n```\n\n\n","source":"_posts/docker.md","raw":"---\ntitle: Docker\ndate: 2025-03-25 11:57:28\ntags: [,docker]\ncategories: [, docker]\ncover: /images/docker.webp\n---\nDocker  Go  Apache2.0\nDocker  Linux \n iPhone  app,\n\n## \n\ndockerdockerdocker\n\n\ndockerdockerInfrastructure as code\n\ndocker\n\n\n\ndocker  dockerCP\n\n## docker\n### Docker\n20246dockerDocker\nDocker\nGithub Action/Release\n\n\n[](https://github.com/tech-shrimp/me)\nBYoutube\n``` Bash Linux\nsudo curl -fsSL https://get.docker.com| bash -s docker --mirror Aliyun \n#\n\nsudo curl -fsSL https://github.com/tech-shrimp/docker_installer/releases/download/latest/linux.sh| bash -s docker --mirror Aliyun\n# \n\nsudo curl -fsSL https://gitee.com/tech-shrimp/docker_installer/releases/download/latest/linux.sh| bash -s docker --mirror Aliyun\n# 2 githubgitee\n\nsudo service docker start #Docker\n```\n\n### Centosdocker\nCentOS 7\nCentOS Extras \noverlay2\nDockerdockerdocker-engine\n``` Bash centOS\nsudo yum remove docker \\\ndocker-client \\\ndocker-client-latest \\\ndocker-common \\\ndocker-latest \\\ndocker-latest-logrotate \\\ndocker-logrotate \\\ndocker-engine\n```\ndocker/var/lib/docker/\n\n#### \n1.()\n\n``` Bash centOS\ncurl -fsSL https://get.docker.com -o get-docker.sh\nsudo sh get-docker.sh\n```\n<!--                                                      -->\n2.()\n2.1docker\n``` Bash centOS\nsudo yum install -y yum-utils \\\ndevice-mapper-persistent-data\nlvm2\nsudo yum-config-manager \\\n--add-repo \\\nhttps://download.docker.com/linux/centos/docker-ce.repo\n```\n2.2docker CE\n``` Bash centOS\nsudo yum install docker-ce docker-ce-cli container.io\n # Docker CE\nyum list docker-ce --showduplicates | sort -r\nsudo yum install docker-ce-<VERSION_STRING> docker-ce-cli-<VERSION_STRING> container.io\n#<VERSION_STRING>-18.09.618.06.2.ce\n```\n<!--                                                         -->\n3.RPM\n3.1Docker\n https://download.docker.com/linux/centos/7/x86_64/stable/Packages/\n``` Bash centOS\nsudo yum install /path/to/package.rpm\n# /path/to/package.rpm,rpm\nsudo systemctl start docker\n# Docker\nsudo docker run hello-world\n# \n```\n: [Centosdocker](https://www.coonote.com/docker/centos-install-docker.html)\n\n\n\n\n### Ubuntudocker\nDocker 64Ubuntu Ubuntu  3.103.10 \n\n``` Bash Ubuntu\nuname -r \n3.11.0-15-generic\n```\n\n``` Bash Ubuntu\nwhich wget # wget\n\nsudo apt-get update \nsudo apt-get install wget \n# wget\n\nwget -qO- https://get.docker.com/ | sh  \n#  Docker \n\nsudo docker run hello-world  #  Docker \n # \n```\n: [Ubuntudocker](https://www.coonote.com/docker/ubuntu-install-docker.html)\n\n\n\n\n### Macosdocker\nHomebrew  Cask  Docker for Mac\n``` Bash Macos\nbrew cask install docker\n```\n Docker app  Next macOS  Docker \n\n: [Macosadocker](https://www.coonote.com/docker/macos-intall-docker.html)\n\n\n\n\n## docker\n### Pull\n####  \ngithub ActionDocker\nDockerHub, gcr.io, k8s.io, ghcr.io\n40GB\n\n: [Github](https://github.com/tech-shrimp/docker_image_pusher)\n\n####  \n\n,\n\n|    |                                       |                           |\n| :--------- | :------------------------------------------- | :------------------------------- |\n| 1Panel     | https://github.com/1Panel-dev/1Panel/        | https://docker.1panel.live       |\n| Daocloud   | https://github.com/DaoCloud/public-image-mirror | https://docker.m.daocloud.io     |\n|    | https://github.com/TheTNB/panel              | https://hub.rat.dev              |\n\nlinux\n``` bash Linux\nsudo vi /etc/docker/daemon.json #/daemon\n\n{\n    \"registry-mirrors\": [\n        \"https://docker.m.daocloud.io\",\n        \"https://docker.1panel.live\",\n        \"https://hub.rat.dev\"\n    ]\n}\n# viesc:wq  nanoctrl+x\n\nsudo service docker restart # docker\n```\n\n####  \nGithub Actiondocker https://github.com/wukongdaily/DockerTarBuilder\n####  \n``` bash docker\nbash -c \"$(curl -sSLf https://xy.ggbond.org/xy/docker_pull.sh)\" -s \n```\n####  Cloudflare worker \nhttps://github.com/cmliu/CF-Workers-docker.io\n#### \nhttps://docker.fxxk.dedyn.io/\n\n: [Github Action](https://github.com/tech-shrimp/docker_installer?tab=readme-ov-file)\n\n### \n####  \n|                                 |                                       |\n|-------------------------------------|-------------------------------------------|\n| docker images                       |                           |\n| docker pull [:tag]            | nginx:latest   |\n| docker rmi ID/                |                               |\n| docker build -t  .            |  Dockerfile                   |\n| docker tag                  | mynginx:v1         |\n| docker save -o xx.tar         |                           |\n| docker load -i xx.tar               |                           |\n\n####  \n|                                               |                                       |\n|---------------------------------------------------|-------------------------------------------|\n| docker ps                                         |                         |\n| docker ps -a                                     |                 |\n| docker run                                  |             |\n| docker run -it  /bin/bash                   |                     |\n| docker run -d                               | detached                  |\n| docker run -p :             | -p 8080:80                |\n| docker run -v :             | -v /mydata:/data          |\n| docker start/stop/restart ID                  |  /  /                     |\n| docker exec -it ID bash                       |                   |\n| docker logs ID                                |                               |\n| docker rm ID                                  |                                   |\n| docker rm $(docker ps -aq)                        |                   |\n\n####  Volume\n|                                |                            |\n|------------------------------------|--------------------------------|\n| docker volume ls                   |                  |\n| docker volume create           |                      |\n| docker volume inspect          |              |\n| docker volume rm               |          |\n\n####  \n|                                                  |                        |\n|------------------------------------------------------|----------------------------|\n| docker network ls                                    |                    |\n| docker network create                            |                    |\n| docker network inspect                           |                |\n| docker network connect                   |          |\n| docker run --network                       |              |\n\n####  \n|                           |                                         |\n|-------------------------------|---------------------------------------------|\n| docker info                   |  Docker                         |\n| docker version                |  Docker                             |\n| docker system df              |               |\n| docker system prune           |     |\n## Docker Dockerfile\n###  Dockerfile\nDockerfile  Docker \n\n\t\t PythonNodeNginx\n\t\t\n\t\t\n\t\t\n\t\t\n### Dockerfile \n``` Dockerfile\n# 1. \nFROM [:tag]\n\n# 2. \nWORKDIR /app\n\n# 3. \nCOPY ..\n\n# 4. RUN\nRUN \n\n# 5. \nENV =\n\n# 6. \nCMD [\"\",\"\"]\n\n# 7. \nEXPOSE \n```\n###  + \n|      |                           |                              |\n|----------|-------------------------------|----------------------------------|\n| FROM     | FROM node:18                  |                          |\n| WORKDIR  | WORKDIR /app                  |  cd              |\n| COPY     | COPY . .                      |            |\n| RUN      | RUN npm install              |                  |\n| CMD      | CMD [\"npm\", \"start\"]         |      |\n| EXPOSE   | EXPOSE 3000                   |  |\n### Flask Web App\n \n``` bash\nmy-flask-app/\n app.py\n requirements.txt\n Dockerfile\n```\n app.py\n``` python\nfrom flask import Flask\napp = Flask(__name__)\n\n@app.route(\"/\")\ndef home():\n    return \"Hello,Docker!\"\n\nif __name__ == \"__main__\":\n    app.run(host=\"0.0.0.0\",port=5000)\n```\n requirements.txt\n``` bash\nflask\n```\n Dockerfile\n``` Dockerfile\nFROM python:3.9-slim\nWORKDIR /app\nCOPY ..\nRUN pip install -r requirements.txt\nEXPOSE 5000\nCMD [\"python\",\"app.py\"]\n```\n \n``` bash\ndocker build -t my-flask-app .\ndocker run -d -p 5000:5000 my-flask-app\n```\nhttp://localhost:5000\n \n### \n|            |                                                |\n|----------------|--------------------------------------------------------------|\n|  | CMD                                          |\n|          |  `-slim``-alpine`                                  |\n|      | COPY `.dockerignore`                     |\n|            |  `.dockerignore`  `node_modules` |\n\n### Dockerfile \n``` Dockerfile\n# \nFROM node:18 as build\nWORKDIR /app\nCOPY ..\nRUN nom install && npm run build\n\n# nginx\nFROM nginx\nCOPY --from=build /app/dist /usr/share/nginx/html\n\n#\nENV PORT=8080\n```\n###  \n<b>FROM WORKDIR COPY RUN CMD </b>\n\n\n\n## Docker Compose\n### Docker Compose\ndocker-compose.yml\n\t\t webdbredis\n\t\t\n\t\tdocker-compose up\n### \n```Yaml\nversion: '3'    #Compose,33.8\n\nservices:       #\n    1:\n        image:   buld\n        ports:\n            - \"\"\n        volumes:\n            - \"\"\n        environment:\n            - \"=\"\n        depends_on:\n            - \n\n    2:\n        ....\n```\n###  Nginx\n```Yaml\nmy-compose-project/\n docker-compose.yml\n html/\n    index.html\n nginx.conf\n```\n docker-compose.yml \n```Yaml\nversion: '3'\nservices:\n  web:\n    image: nginx\n    ports:\n      - \"8080:80\"\n    volumes:\n      - ./html:/usr/share/nginx/html:ro\n      - ./nginx.conf:/etc/nginx/nginx.conf:ro\n```\n\n\t\t8080  80\n\t\t ./html  nginx \n\t\t nginx \n \n```bash Ubuntu\ndocker-compose up -d #  docker compose up -d\n```\n \n```bash Ubuntu\ndocker-compose down -v #  docker compose down -v\n```\n### Node.js + MongoDB\n```Yaml\nversion: '3'\n\nservices:\n    app:\n        build: .\n        ports:\n            - \"3000:3000\"\n        environment:\n            - MONGO_URL=mongodb://mongo:27017/mydb\n        depends_on:\n            - mongo\n    \n    mongo:\n        image: mongo\n        ports:\n            - \"27017:27017\"\n```\n\n\t\tapp  Dockerfile \n\t\t Mongo  mongo \n### \n|            |                                               |\n|----------------|---------------------------------------------------|\n| image:         |                                       |\n| build:         |  Dockerfile                             |\n| ports:         | :                                 |\n| volumes:       | :                                 |\n| environment:   |                                       |\n| depends_on:    |                                   |\n| restart:       |  alwayson-failure  |\n| networks:      |                   |\n\n### \n```bash Ubuntu\n# \ndocker-compose up -d #  docker compose up -d\n\n# \ndocker-compose down #  docker compose down\n\n# \ndocker-compose logs #  docker compose logs\n\n# \ndocker-compose ps #  docker compose ps\n\n# \ndocker-compose exec  bash #  docker compose exec  bash\n```\n\n\n","slug":"docker","published":1,"updated":"2025-04-13T06:41:01.140Z","_id":"cm92e3g9g0000el0zhb711vxw","comments":1,"layout":"post","photos":[],"content":"<p>Docker  Go  Apache2.0<br>Docker  Linux <br> iPhone  app,</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>dockerdockerdocker<br></p>\n<p>dockerdockerInfrastructure as code</p>\n<p>docker</p>\n<p></p>\n<p>docker  dockerCP</p>\n<h2 id=\"docker\"><a href=\"#docker\" class=\"headerlink\" title=\"docker\"></a>docker</h2><h3 id=\"Docker\"><a href=\"#Docker\" class=\"headerlink\" title=\"Docker\"></a>Docker</h3><p>20246dockerDocker<br>Docker<br>Github Action&#x2F;Release<br><br><br><a class=\"link\"   href=\"https://github.com/tech-shrimp/me\" ><i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a><br>BYoutube</p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><figcaption><span>Linux</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> curl -fsSL https://get.docker.com| bash -s docker --mirror Aliyun </span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> curl -fsSL https://github.com/tech-shrimp/docker_installer/releases/download/latest/linux.sh| bash -s docker --mirror Aliyun</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> curl -fsSL https://gitee.com/tech-shrimp/docker_installer/releases/download/latest/linux.sh| bash -s docker --mirror Aliyun</span><br><span class=\"line\"><span class=\"comment\"># 2 githubgitee</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> service docker start <span class=\"comment\">#Docker</span></span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"Centosdocker\"><a href=\"#Centosdocker\" class=\"headerlink\" title=\"Centosdocker\"></a>Centosdocker</h3><p>CentOS 7<br>CentOS Extras <br>overlay2<br>Dockerdockerdocker-engine</p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><figcaption><span>centOS</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> yum remove docker \\</span><br><span class=\"line\">docker-client \\</span><br><span class=\"line\">docker-client-latest \\</span><br><span class=\"line\">docker-common \\</span><br><span class=\"line\">docker-latest \\</span><br><span class=\"line\">docker-latest-logrotate \\</span><br><span class=\"line\">docker-logrotate \\</span><br><span class=\"line\">docker-engine</span><br></pre></td></tr></table></figure></div>\n<p>docker&#x2F;var&#x2F;lib&#x2F;docker&#x2F;</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1.()</p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><figcaption><span>centOS</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -fsSL https://get.docker.com -o get-docker.sh</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> sh get-docker.sh</span><br></pre></td></tr></table></figure></div>\n<!--                                                      -->\n<p>2.()<br>2.1docker</p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><figcaption><span>centOS</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> yum install -y yum-utils \\</span><br><span class=\"line\">device-mapper-persistent-data</span><br><span class=\"line\">lvm2</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> yum-config-manager \\</span><br><span class=\"line\">--add-repo \\</span><br><span class=\"line\">https://download.docker.com/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure></div>\n<p>2.2docker CE</p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><figcaption><span>centOS</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> yum install docker-ce docker-ce-cli container.io</span><br><span class=\"line\"> <span class=\"comment\"># Docker CE</span></span><br><span class=\"line\">yum list docker-ce --showduplicates | <span class=\"built_in\">sort</span> -r</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> yum install docker-ce-&lt;VERSION_STRING&gt; docker-ce-cli-&lt;VERSION_STRING&gt; container.io</span><br><span class=\"line\"><span class=\"comment\">#&lt;VERSION_STRING&gt;-18.09.618.06.2.ce</span></span><br></pre></td></tr></table></figure></div>\n<!--                                                         -->\n<p>3.RPM<br>3.1Docker<br> <a class=\"link\"   href=\"https://download.docker.com/linux/centos/7/x86_64/stable/Packages/\" >https://download.docker.com/linux/centos/7/x86_64/stable/Packages/<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><figcaption><span>centOS</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> yum install /path/to/package.rpm</span><br><span class=\"line\"><span class=\"comment\"># /path/to/package.rpm,rpm</span></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl start docker</span><br><span class=\"line\"><span class=\"comment\"># Docker</span></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> docker run hello-world</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br></pre></td></tr></table></figure></div>\n<p>: <a class=\"link\"   href=\"https://www.coonote.com/docker/centos-install-docker.html\" >Centosdocker<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></p>\n<h3 id=\"Ubuntudocker\"><a href=\"#Ubuntudocker\" class=\"headerlink\" title=\"Ubuntudocker\"></a>Ubuntudocker</h3><p>Docker 64Ubuntu Ubuntu  3.103.10 </p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><figcaption><span>Ubuntu</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">uname</span> -r </span><br><span class=\"line\">3.11.0-15-generic</span><br></pre></td></tr></table></figure></div>\n\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><figcaption><span>Ubuntu</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">which</span> wget <span class=\"comment\"># wget</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> apt-get update </span><br><span class=\"line\"><span class=\"built_in\">sudo</span> apt-get install wget </span><br><span class=\"line\"><span class=\"comment\"># wget</span></span><br><span class=\"line\"></span><br><span class=\"line\">wget -qO- https://get.docker.com/ | sh  </span><br><span class=\"line\"><span class=\"comment\">#  Docker </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> docker run hello-world  <span class=\"comment\">#  Docker </span></span><br><span class=\"line\"> <span class=\"comment\"># </span></span><br></pre></td></tr></table></figure></div>\n<p>: <a class=\"link\"   href=\"https://www.coonote.com/docker/ubuntu-install-docker.html\" >Ubuntudocker<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></p>\n<h3 id=\"Macosdocker\"><a href=\"#Macosdocker\" class=\"headerlink\" title=\"Macosdocker\"></a>Macosdocker</h3><p>Homebrew  Cask  Docker for Mac</p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><figcaption><span>Macos</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew cask install docker</span><br></pre></td></tr></table></figure></div>\n<p> Docker app  Next macOS  Docker </p>\n<p>: <a class=\"link\"   href=\"https://www.coonote.com/docker/macos-intall-docker.html\" >Macosadocker<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></p>\n<h2 id=\"docker\"><a href=\"#docker\" class=\"headerlink\" title=\"docker\"></a>docker</h2><h3 id=\"Pull\"><a href=\"#Pull\" class=\"headerlink\" title=\"Pull\"></a>Pull</h3><h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h4><p>github ActionDocker<br>DockerHub, gcr.io, k8s.io, ghcr.io<br>40GB<br><br>: <a class=\"link\"   href=\"https://github.com/tech-shrimp/docker_image_pusher\" >Github<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></p>\n<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h4><p><br>,<br></p>\n<table>\n<thead>\n<tr>\n<th align=\"left\"></th>\n<th align=\"left\"></th>\n<th align=\"left\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">1Panel</td>\n<td align=\"left\"><a class=\"link\"   href=\"https://github.com/1Panel-dev/1Panel/\" >https://github.com/1Panel-dev/1Panel/<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></td>\n<td align=\"left\"><a class=\"link\"   href=\"https://docker.1panel.live/\" >https://docker.1panel.live<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></td>\n</tr>\n<tr>\n<td align=\"left\">Daocloud</td>\n<td align=\"left\"><a class=\"link\"   href=\"https://github.com/DaoCloud/public-image-mirror\" >https://github.com/DaoCloud/public-image-mirror<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></td>\n<td align=\"left\"><a class=\"link\"   href=\"https://docker.m.daocloud.io/\" >https://docker.m.daocloud.io<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\"><a class=\"link\"   href=\"https://github.com/TheTNB/panel\" >https://github.com/TheTNB/panel<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></td>\n<td align=\"left\"><a class=\"link\"   href=\"https://hub.rat.dev/\" >https://hub.rat.dev<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></td>\n</tr>\n</tbody></table>\n<p>linux</p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><figcaption><span>Linux</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> vi /etc/docker/daemon.json <span class=\"comment\">#/daemon</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;registry-mirrors&quot;</span>: [</span><br><span class=\"line\">        <span class=\"string\">&quot;https://docker.m.daocloud.io&quot;</span>,</span><br><span class=\"line\">        <span class=\"string\">&quot;https://docker.1panel.live&quot;</span>,</span><br><span class=\"line\">        <span class=\"string\">&quot;https://hub.rat.dev&quot;</span></span><br><span class=\"line\">    ]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\"># viesc:wq  nanoctrl+x</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> service docker restart <span class=\"comment\"># docker</span></span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h4><p>Github Actiondocker <a class=\"link\"   href=\"https://github.com/wukongdaily/DockerTarBuilder\" >https://github.com/wukongdaily/DockerTarBuilder<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></p>\n<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h4><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><figcaption><span>docker</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bash -c <span class=\"string\">&quot;<span class=\"subst\">$(curl -sSLf https://xy.ggbond.org/xy/docker_pull.sh)</span>&quot;</span> -s </span><br></pre></td></tr></table></figure></div>\n<h4 id=\"-Cloudflare-worker-\"><a href=\"#-Cloudflare-worker-\" class=\"headerlink\" title=\" Cloudflare worker \"></a> Cloudflare worker </h4><p><a class=\"link\"   href=\"https://github.com/cmliu/CF-Workers-docker.io\" >https://github.com/cmliu/CF-Workers-docker.io<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a class=\"link\"   href=\"https://docker.fxxk.dedyn.io/\" >https://docker.fxxk.dedyn.io/<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></p>\n<p>: <a class=\"link\"   href=\"https://github.com/tech-shrimp/docker_installer?tab=readme-ov-file\" >Github Action<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h4><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>docker images</td>\n<td></td>\n</tr>\n<tr>\n<td>docker pull [:tag]</td>\n<td>nginx:latest</td>\n</tr>\n<tr>\n<td>docker rmi ID&#x2F;</td>\n<td></td>\n</tr>\n<tr>\n<td>docker build -t  .</td>\n<td> Dockerfile </td>\n</tr>\n<tr>\n<td>docker tag  </td>\n<td>mynginx:v1</td>\n</tr>\n<tr>\n<td>docker save -o xx.tar </td>\n<td></td>\n</tr>\n<tr>\n<td>docker load -i xx.tar</td>\n<td></td>\n</tr>\n</tbody></table>\n<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h4><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>docker ps</td>\n<td></td>\n</tr>\n<tr>\n<td>docker ps -a</td>\n<td></td>\n</tr>\n<tr>\n<td>docker run </td>\n<td></td>\n</tr>\n<tr>\n<td>docker run -it  &#x2F;bin&#x2F;bash</td>\n<td></td>\n</tr>\n<tr>\n<td>docker run -d </td>\n<td>detached</td>\n</tr>\n<tr>\n<td>docker run -p : </td>\n<td>-p 8080:80</td>\n</tr>\n<tr>\n<td>docker run -v : </td>\n<td>-v &#x2F;mydata:&#x2F;data</td>\n</tr>\n<tr>\n<td>docker start&#x2F;stop&#x2F;restart ID</td>\n<td> &#x2F;  &#x2F; </td>\n</tr>\n<tr>\n<td>docker exec -it ID bash</td>\n<td></td>\n</tr>\n<tr>\n<td>docker logs ID</td>\n<td></td>\n</tr>\n<tr>\n<td>docker rm ID</td>\n<td></td>\n</tr>\n<tr>\n<td>docker rm $(docker ps -aq)</td>\n<td></td>\n</tr>\n</tbody></table>\n<h4 id=\"-Volume\"><a href=\"#-Volume\" class=\"headerlink\" title=\" Volume\"></a> Volume</h4><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>docker volume ls</td>\n<td></td>\n</tr>\n<tr>\n<td>docker volume create </td>\n<td></td>\n</tr>\n<tr>\n<td>docker volume inspect </td>\n<td></td>\n</tr>\n<tr>\n<td>docker volume rm </td>\n<td></td>\n</tr>\n</tbody></table>\n<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h4><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>docker network ls</td>\n<td></td>\n</tr>\n<tr>\n<td>docker network create </td>\n<td></td>\n</tr>\n<tr>\n<td>docker network inspect </td>\n<td></td>\n</tr>\n<tr>\n<td>docker network connect  </td>\n<td></td>\n</tr>\n<tr>\n<td>docker run network  </td>\n<td></td>\n</tr>\n</tbody></table>\n<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h4><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>docker info</td>\n<td> Docker </td>\n</tr>\n<tr>\n<td>docker version</td>\n<td> Docker </td>\n</tr>\n<tr>\n<td>docker system df</td>\n<td></td>\n</tr>\n<tr>\n<td>docker system prune</td>\n<td></td>\n</tr>\n</tbody></table>\n<h2 id=\"Docker-Dockerfile\"><a href=\"#Docker-Dockerfile\" class=\"headerlink\" title=\"Docker Dockerfile\"></a>Docker Dockerfile</h2><h3 id=\"-Dockerfile\"><a href=\"#-Dockerfile\" class=\"headerlink\" title=\" Dockerfile\"></a> Dockerfile</h3><p>Dockerfile  Docker <br><br>    \t PythonNodeNginx<br>    \t<br>    \t<br>    \t<br>    \t</p>\n<h3 id=\"Dockerfile-\"><a href=\"#Dockerfile-\" class=\"headerlink\" title=\"Dockerfile \"></a>Dockerfile </h3><div class=\"code-container\" data-rel=\"Dockerfile\"><figure class=\"iseeu highlight dockerfile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 1. </span></span><br><span class=\"line\"><span class=\"keyword\">FROM</span> [:tag]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 2. </span></span><br><span class=\"line\"><span class=\"keyword\">WORKDIR</span><span class=\"language-bash\"> /app</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 3. </span></span><br><span class=\"line\"><span class=\"keyword\">COPY</span><span class=\"language-bash\"> ..</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 4. RUN</span></span><br><span class=\"line\"><span class=\"keyword\">RUN</span><span class=\"language-bash\"> </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 5. </span></span><br><span class=\"line\"><span class=\"keyword\">ENV</span> =</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 6. </span></span><br><span class=\"line\"><span class=\"keyword\">CMD</span><span class=\"language-bash\"> [<span class=\"string\">&quot;&quot;</span>,<span class=\"string\">&quot;&quot;</span>]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 7. </span></span><br><span class=\"line\"><span class=\"keyword\">EXPOSE</span> </span><br></pre></td></tr></table></figure></div>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" + \"></a> + </h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>FROM</td>\n<td>FROM node:18</td>\n<td></td>\n</tr>\n<tr>\n<td>WORKDIR</td>\n<td>WORKDIR &#x2F;app</td>\n<td> cd</td>\n</tr>\n<tr>\n<td>COPY</td>\n<td>COPY . .</td>\n<td></td>\n</tr>\n<tr>\n<td>RUN</td>\n<td>RUN npm install</td>\n<td></td>\n</tr>\n<tr>\n<td>CMD</td>\n<td>CMD [npm, start]</td>\n<td></td>\n</tr>\n<tr>\n<td>EXPOSE</td>\n<td>EXPOSE 3000</td>\n<td></td>\n</tr>\n</tbody></table>\n<h3 id=\"Flask-Web-App\"><a href=\"#Flask-Web-App\" class=\"headerlink\" title=\"Flask Web App\"></a>Flask Web App</h3><p> </p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">my-flask-app/</span><br><span class=\"line\"> app.py</span><br><span class=\"line\"> requirements.txt</span><br><span class=\"line\"> Dockerfile</span><br></pre></td></tr></table></figure></div>\n<p> app.py</p>\n<div class=\"code-container\" data-rel=\"Python\"><figure class=\"iseeu highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> flask <span class=\"keyword\">import</span> Flask</span><br><span class=\"line\">app = Flask(__name__)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@app.route(<span class=\"params\"><span class=\"string\">&quot;/&quot;</span></span>)</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">home</span>():</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&quot;Hello,Docker!&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&quot;__main__&quot;</span>:</span><br><span class=\"line\">    app.run(host=<span class=\"string\">&quot;0.0.0.0&quot;</span>,port=<span class=\"number\">5000</span>)</span><br></pre></td></tr></table></figure></div>\n<p> requirements.txt</p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">flask</span><br></pre></td></tr></table></figure></div>\n<p> Dockerfile</p>\n<div class=\"code-container\" data-rel=\"Dockerfile\"><figure class=\"iseeu highlight dockerfile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">FROM</span> python:<span class=\"number\">3.9</span>-slim</span><br><span class=\"line\"><span class=\"keyword\">WORKDIR</span><span class=\"language-bash\"> /app</span></span><br><span class=\"line\"><span class=\"keyword\">COPY</span><span class=\"language-bash\"> ..</span></span><br><span class=\"line\"><span class=\"keyword\">RUN</span><span class=\"language-bash\"> pip install -r requirements.txt</span></span><br><span class=\"line\"><span class=\"keyword\">EXPOSE</span> <span class=\"number\">5000</span></span><br><span class=\"line\"><span class=\"keyword\">CMD</span><span class=\"language-bash\"> [<span class=\"string\">&quot;python&quot;</span>,<span class=\"string\">&quot;app.py&quot;</span>]</span></span><br></pre></td></tr></table></figure></div>\n<p> </p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker build -t my-flask-app .</span><br><span class=\"line\">docker run -d -p 5000:5000 my-flask-app</span><br></pre></td></tr></table></figure></div>\n<p><a class=\"link\"   href=\"http://localhost:5000/\" >http://localhost:5000<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a><br> </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>CMD </td>\n</tr>\n<tr>\n<td></td>\n<td> <code>-slim</code><code>-alpine</code> </td>\n</tr>\n<tr>\n<td></td>\n<td>COPY <code>.dockerignore</code> </td>\n</tr>\n<tr>\n<td></td>\n<td> <code>.dockerignore</code>  <code>node_modules</code></td>\n</tr>\n</tbody></table>\n<h3 id=\"Dockerfile-\"><a href=\"#Dockerfile-\" class=\"headerlink\" title=\"Dockerfile \"></a>Dockerfile </h3><div class=\"code-container\" data-rel=\"Dockerfile\"><figure class=\"iseeu highlight dockerfile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"keyword\">FROM</span> node:<span class=\"number\">18</span> as build</span><br><span class=\"line\"><span class=\"keyword\">WORKDIR</span><span class=\"language-bash\"> /app</span></span><br><span class=\"line\"><span class=\"keyword\">COPY</span><span class=\"language-bash\"> ..</span></span><br><span class=\"line\"><span class=\"keyword\">RUN</span><span class=\"language-bash\"> nom install &amp;&amp; npm run build</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># nginx</span></span><br><span class=\"line\"><span class=\"keyword\">FROM</span> nginx</span><br><span class=\"line\"><span class=\"keyword\">COPY</span><span class=\"language-bash\"> --from=build /app/dist /usr/share/nginx/html</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"keyword\">ENV</span> PORT=<span class=\"number\">8080</span></span><br></pre></td></tr></table></figure></div>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h3><p><b>FROM WORKDIR COPY RUN CMD </b></p>\n<h2 id=\"Docker-Compose\"><a href=\"#Docker-Compose\" class=\"headerlink\" title=\"Docker Compose\"></a>Docker Compose</h2><h3 id=\"Docker-Compose\"><a href=\"#Docker-Compose\" class=\"headerlink\" title=\"Docker Compose\"></a>Docker Compose</h3><p>docker-compose.yml<br>    \t webdbredis<br>    \t<br>    \tdocker-compose up</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><div class=\"code-container\" data-rel=\"Yaml\"><figure class=\"iseeu highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">version:</span> <span class=\"string\">&#x27;3&#x27;</span>    <span class=\"comment\">#Compose,33.8</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">services:</span>       <span class=\"comment\">#</span></span><br><span class=\"line\">    <span class=\"string\">1:</span></span><br><span class=\"line\">        <span class=\"attr\">image:</span> <span class=\"string\"></span> <span class=\"string\"></span> <span class=\"string\">buld</span></span><br><span class=\"line\">        <span class=\"attr\">ports:</span></span><br><span class=\"line\">            <span class=\"bullet\">-</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">        <span class=\"attr\">volumes:</span></span><br><span class=\"line\">            <span class=\"bullet\">-</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">        <span class=\"attr\">environment:</span></span><br><span class=\"line\">            <span class=\"bullet\">-</span> <span class=\"string\">&quot;=&quot;</span></span><br><span class=\"line\">        <span class=\"attr\">depends_on:</span></span><br><span class=\"line\">            <span class=\"bullet\">-</span> <span class=\"string\"></span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"string\">2:</span></span><br><span class=\"line\">        <span class=\"string\">....</span></span><br></pre></td></tr></table></figure></div>\n<h3 id=\"-Nginx\"><a href=\"#-Nginx\" class=\"headerlink\" title=\" Nginx\"></a> Nginx</h3><div class=\"code-container\" data-rel=\"Yaml\"><figure class=\"iseeu highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">my-compose-project/</span></span><br><span class=\"line\"><span class=\"string\"></span> <span class=\"string\">docker-compose.yml</span></span><br><span class=\"line\"><span class=\"string\"></span> <span class=\"string\">html/</span></span><br><span class=\"line\"><span class=\"string\"></span>   <span class=\"string\"></span> <span class=\"string\">index.html</span></span><br><span class=\"line\"><span class=\"string\"></span> <span class=\"string\">nginx.conf</span></span><br></pre></td></tr></table></figure></div>\n<p> docker-compose.yml </p>\n<div class=\"code-container\" data-rel=\"Yaml\"><figure class=\"iseeu highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">version:</span> <span class=\"string\">&#x27;3&#x27;</span></span><br><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\">  <span class=\"attr\">web:</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span> <span class=\"string\">nginx</span></span><br><span class=\"line\">    <span class=\"attr\">ports:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">&quot;8080:80&quot;</span></span><br><span class=\"line\">    <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./html:/usr/share/nginx/html:ro</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./nginx.conf:/etc/nginx/nginx.conf:ro</span></span><br></pre></td></tr></table></figure></div>\n<p><br>    \t8080  80<br>    \t .&#x2F;html  nginx <br>    \t nginx <br> </p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><figcaption><span>Ubuntu</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker-compose up -d <span class=\"comment\">#  docker compose up -d</span></span><br></pre></td></tr></table></figure></div>\n<p> </p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><figcaption><span>Ubuntu</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker-compose down -v <span class=\"comment\">#  docker compose down -v</span></span><br></pre></td></tr></table></figure></div>\n<h3 id=\"Node-js-MongoDB\"><a href=\"#Node-js-MongoDB\" class=\"headerlink\" title=\"Node.js + MongoDB\"></a>Node.js + MongoDB</h3><div class=\"code-container\" data-rel=\"Yaml\"><figure class=\"iseeu highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">version:</span> <span class=\"string\">&#x27;3&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\">    <span class=\"attr\">app:</span></span><br><span class=\"line\">        <span class=\"attr\">build:</span> <span class=\"string\">.</span></span><br><span class=\"line\">        <span class=\"attr\">ports:</span></span><br><span class=\"line\">            <span class=\"bullet\">-</span> <span class=\"string\">&quot;3000:3000&quot;</span></span><br><span class=\"line\">        <span class=\"attr\">environment:</span></span><br><span class=\"line\">            <span class=\"bullet\">-</span> <span class=\"string\">MONGO_URL=mongodb://mongo:27017/mydb</span></span><br><span class=\"line\">        <span class=\"attr\">depends_on:</span></span><br><span class=\"line\">            <span class=\"bullet\">-</span> <span class=\"string\">mongo</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"attr\">mongo:</span></span><br><span class=\"line\">        <span class=\"attr\">image:</span> <span class=\"string\">mongo</span></span><br><span class=\"line\">        <span class=\"attr\">ports:</span></span><br><span class=\"line\">            <span class=\"bullet\">-</span> <span class=\"string\">&quot;27017:27017&quot;</span></span><br></pre></td></tr></table></figure></div>\n<p><br>    \tapp  Dockerfile <br>    \t Mongo  mongo </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>image:</td>\n<td></td>\n</tr>\n<tr>\n<td>build:</td>\n<td> Dockerfile </td>\n</tr>\n<tr>\n<td>ports:</td>\n<td>:</td>\n</tr>\n<tr>\n<td>volumes:</td>\n<td>:</td>\n</tr>\n<tr>\n<td>environment:</td>\n<td></td>\n</tr>\n<tr>\n<td>depends_on:</td>\n<td></td>\n</tr>\n<tr>\n<td>restart:</td>\n<td> alwayson-failure</td>\n</tr>\n<tr>\n<td>networks:</td>\n<td></td>\n</tr>\n</tbody></table>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><figcaption><span>Ubuntu</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">docker-compose up -d <span class=\"comment\">#  docker compose up -d</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">docker-compose down <span class=\"comment\">#  docker compose down</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">docker-compose logs <span class=\"comment\">#  docker compose logs</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">docker-compose ps <span class=\"comment\">#  docker compose ps</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">docker-compose <span class=\"built_in\">exec</span>  bash <span class=\"comment\">#  docker compose exec  bash</span></span><br></pre></td></tr></table></figure></div>\n\n\n","excerpt":"","more":"<p>Docker  Go  Apache2.0<br>Docker  Linux <br> iPhone  app,</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>dockerdockerdocker<br></p>\n<p>dockerdockerInfrastructure as code</p>\n<p>docker</p>\n<p></p>\n<p>docker  dockerCP</p>\n<h2 id=\"docker\"><a href=\"#docker\" class=\"headerlink\" title=\"docker\"></a>docker</h2><h3 id=\"Docker\"><a href=\"#Docker\" class=\"headerlink\" title=\"Docker\"></a>Docker</h3><p>20246dockerDocker<br>Docker<br>Github Action&#x2F;Release<br><br><br><a class=\"link\"   href=\"https://github.com/tech-shrimp/me\" ><i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a><br>BYoutube</p>\n<figure class=\"highlight bash\"><figcaption><span>Linux</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> curl -fsSL https://get.docker.com| bash -s docker --mirror Aliyun </span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> curl -fsSL https://github.com/tech-shrimp/docker_installer/releases/download/latest/linux.sh| bash -s docker --mirror Aliyun</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> curl -fsSL https://gitee.com/tech-shrimp/docker_installer/releases/download/latest/linux.sh| bash -s docker --mirror Aliyun</span><br><span class=\"line\"><span class=\"comment\"># 2 githubgitee</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> service docker start <span class=\"comment\">#Docker</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"Centosdocker\"><a href=\"#Centosdocker\" class=\"headerlink\" title=\"Centosdocker\"></a>Centosdocker</h3><p>CentOS 7<br>CentOS Extras <br>overlay2<br>Dockerdockerdocker-engine</p>\n<figure class=\"highlight bash\"><figcaption><span>centOS</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> yum remove docker \\</span><br><span class=\"line\">docker-client \\</span><br><span class=\"line\">docker-client-latest \\</span><br><span class=\"line\">docker-common \\</span><br><span class=\"line\">docker-latest \\</span><br><span class=\"line\">docker-latest-logrotate \\</span><br><span class=\"line\">docker-logrotate \\</span><br><span class=\"line\">docker-engine</span><br></pre></td></tr></table></figure>\n<p>docker&#x2F;var&#x2F;lib&#x2F;docker&#x2F;</p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>1.()</p>\n<figure class=\"highlight bash\"><figcaption><span>centOS</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -fsSL https://get.docker.com -o get-docker.sh</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> sh get-docker.sh</span><br></pre></td></tr></table></figure>\n<!--                                                      -->\n<p>2.()<br>2.1docker</p>\n<figure class=\"highlight bash\"><figcaption><span>centOS</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> yum install -y yum-utils \\</span><br><span class=\"line\">device-mapper-persistent-data</span><br><span class=\"line\">lvm2</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> yum-config-manager \\</span><br><span class=\"line\">--add-repo \\</span><br><span class=\"line\">https://download.docker.com/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure>\n<p>2.2docker CE</p>\n<figure class=\"highlight bash\"><figcaption><span>centOS</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> yum install docker-ce docker-ce-cli container.io</span><br><span class=\"line\"> <span class=\"comment\"># Docker CE</span></span><br><span class=\"line\">yum list docker-ce --showduplicates | <span class=\"built_in\">sort</span> -r</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> yum install docker-ce-&lt;VERSION_STRING&gt; docker-ce-cli-&lt;VERSION_STRING&gt; container.io</span><br><span class=\"line\"><span class=\"comment\">#&lt;VERSION_STRING&gt;-18.09.618.06.2.ce</span></span><br></pre></td></tr></table></figure>\n<!--                                                         -->\n<p>3.RPM<br>3.1Docker<br> <a class=\"link\"   href=\"https://download.docker.com/linux/centos/7/x86_64/stable/Packages/\" >https://download.docker.com/linux/centos/7/x86_64/stable/Packages/<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></p>\n<figure class=\"highlight bash\"><figcaption><span>centOS</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> yum install /path/to/package.rpm</span><br><span class=\"line\"><span class=\"comment\"># /path/to/package.rpm,rpm</span></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl start docker</span><br><span class=\"line\"><span class=\"comment\"># Docker</span></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> docker run hello-world</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br></pre></td></tr></table></figure>\n<p>: <a class=\"link\"   href=\"https://www.coonote.com/docker/centos-install-docker.html\" >Centosdocker<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></p>\n<h3 id=\"Ubuntudocker\"><a href=\"#Ubuntudocker\" class=\"headerlink\" title=\"Ubuntudocker\"></a>Ubuntudocker</h3><p>Docker 64Ubuntu Ubuntu  3.103.10 </p>\n<figure class=\"highlight bash\"><figcaption><span>Ubuntu</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">uname</span> -r </span><br><span class=\"line\">3.11.0-15-generic</span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight bash\"><figcaption><span>Ubuntu</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">which</span> wget <span class=\"comment\"># wget</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> apt-get update </span><br><span class=\"line\"><span class=\"built_in\">sudo</span> apt-get install wget </span><br><span class=\"line\"><span class=\"comment\"># wget</span></span><br><span class=\"line\"></span><br><span class=\"line\">wget -qO- https://get.docker.com/ | sh  </span><br><span class=\"line\"><span class=\"comment\">#  Docker </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> docker run hello-world  <span class=\"comment\">#  Docker </span></span><br><span class=\"line\"> <span class=\"comment\"># </span></span><br></pre></td></tr></table></figure>\n<p>: <a class=\"link\"   href=\"https://www.coonote.com/docker/ubuntu-install-docker.html\" >Ubuntudocker<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></p>\n<h3 id=\"Macosdocker\"><a href=\"#Macosdocker\" class=\"headerlink\" title=\"Macosdocker\"></a>Macosdocker</h3><p>Homebrew  Cask  Docker for Mac</p>\n<figure class=\"highlight bash\"><figcaption><span>Macos</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew cask install docker</span><br></pre></td></tr></table></figure>\n<p> Docker app  Next macOS  Docker </p>\n<p>: <a class=\"link\"   href=\"https://www.coonote.com/docker/macos-intall-docker.html\" >Macosadocker<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></p>\n<h2 id=\"docker\"><a href=\"#docker\" class=\"headerlink\" title=\"docker\"></a>docker</h2><h3 id=\"Pull\"><a href=\"#Pull\" class=\"headerlink\" title=\"Pull\"></a>Pull</h3><h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h4><p>github ActionDocker<br>DockerHub, gcr.io, k8s.io, ghcr.io<br>40GB<br><br>: <a class=\"link\"   href=\"https://github.com/tech-shrimp/docker_image_pusher\" >Github<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></p>\n<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h4><p><br>,<br></p>\n<table>\n<thead>\n<tr>\n<th align=\"left\"></th>\n<th align=\"left\"></th>\n<th align=\"left\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">1Panel</td>\n<td align=\"left\"><a class=\"link\"   href=\"https://github.com/1Panel-dev/1Panel/\" >https://github.com/1Panel-dev/1Panel/<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></td>\n<td align=\"left\"><a class=\"link\"   href=\"https://docker.1panel.live/\" >https://docker.1panel.live<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></td>\n</tr>\n<tr>\n<td align=\"left\">Daocloud</td>\n<td align=\"left\"><a class=\"link\"   href=\"https://github.com/DaoCloud/public-image-mirror\" >https://github.com/DaoCloud/public-image-mirror<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></td>\n<td align=\"left\"><a class=\"link\"   href=\"https://docker.m.daocloud.io/\" >https://docker.m.daocloud.io<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></td>\n</tr>\n<tr>\n<td align=\"left\"></td>\n<td align=\"left\"><a class=\"link\"   href=\"https://github.com/TheTNB/panel\" >https://github.com/TheTNB/panel<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></td>\n<td align=\"left\"><a class=\"link\"   href=\"https://hub.rat.dev/\" >https://hub.rat.dev<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></td>\n</tr>\n</tbody></table>\n<p>linux</p>\n<figure class=\"highlight bash\"><figcaption><span>Linux</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> vi /etc/docker/daemon.json <span class=\"comment\">#/daemon</span></span><br><span class=\"line\"></span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    <span class=\"string\">&quot;registry-mirrors&quot;</span>: [</span><br><span class=\"line\">        <span class=\"string\">&quot;https://docker.m.daocloud.io&quot;</span>,</span><br><span class=\"line\">        <span class=\"string\">&quot;https://docker.1panel.live&quot;</span>,</span><br><span class=\"line\">        <span class=\"string\">&quot;https://hub.rat.dev&quot;</span></span><br><span class=\"line\">    ]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\"># viesc:wq  nanoctrl+x</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> service docker restart <span class=\"comment\"># docker</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h4><p>Github Actiondocker <a class=\"link\"   href=\"https://github.com/wukongdaily/DockerTarBuilder\" >https://github.com/wukongdaily/DockerTarBuilder<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></p>\n<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h4><figure class=\"highlight bash\"><figcaption><span>docker</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">bash -c <span class=\"string\">&quot;<span class=\"subst\">$(curl -sSLf https://xy.ggbond.org/xy/docker_pull.sh)</span>&quot;</span> -s </span><br></pre></td></tr></table></figure>\n<h4 id=\"-Cloudflare-worker-\"><a href=\"#-Cloudflare-worker-\" class=\"headerlink\" title=\" Cloudflare worker \"></a> Cloudflare worker </h4><p><a class=\"link\"   href=\"https://github.com/cmliu/CF-Workers-docker.io\" >https://github.com/cmliu/CF-Workers-docker.io<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p><a class=\"link\"   href=\"https://docker.fxxk.dedyn.io/\" >https://docker.fxxk.dedyn.io/<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></p>\n<p>: <a class=\"link\"   href=\"https://github.com/tech-shrimp/docker_installer?tab=readme-ov-file\" >Github Action<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h4><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>docker images</td>\n<td></td>\n</tr>\n<tr>\n<td>docker pull [:tag]</td>\n<td>nginx:latest</td>\n</tr>\n<tr>\n<td>docker rmi ID&#x2F;</td>\n<td></td>\n</tr>\n<tr>\n<td>docker build -t  .</td>\n<td> Dockerfile </td>\n</tr>\n<tr>\n<td>docker tag  </td>\n<td>mynginx:v1</td>\n</tr>\n<tr>\n<td>docker save -o xx.tar </td>\n<td></td>\n</tr>\n<tr>\n<td>docker load -i xx.tar</td>\n<td></td>\n</tr>\n</tbody></table>\n<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h4><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>docker ps</td>\n<td></td>\n</tr>\n<tr>\n<td>docker ps -a</td>\n<td></td>\n</tr>\n<tr>\n<td>docker run </td>\n<td></td>\n</tr>\n<tr>\n<td>docker run -it  &#x2F;bin&#x2F;bash</td>\n<td></td>\n</tr>\n<tr>\n<td>docker run -d </td>\n<td>detached</td>\n</tr>\n<tr>\n<td>docker run -p : </td>\n<td>-p 8080:80</td>\n</tr>\n<tr>\n<td>docker run -v : </td>\n<td>-v &#x2F;mydata:&#x2F;data</td>\n</tr>\n<tr>\n<td>docker start&#x2F;stop&#x2F;restart ID</td>\n<td> &#x2F;  &#x2F; </td>\n</tr>\n<tr>\n<td>docker exec -it ID bash</td>\n<td></td>\n</tr>\n<tr>\n<td>docker logs ID</td>\n<td></td>\n</tr>\n<tr>\n<td>docker rm ID</td>\n<td></td>\n</tr>\n<tr>\n<td>docker rm $(docker ps -aq)</td>\n<td></td>\n</tr>\n</tbody></table>\n<h4 id=\"-Volume\"><a href=\"#-Volume\" class=\"headerlink\" title=\" Volume\"></a> Volume</h4><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>docker volume ls</td>\n<td></td>\n</tr>\n<tr>\n<td>docker volume create </td>\n<td></td>\n</tr>\n<tr>\n<td>docker volume inspect </td>\n<td></td>\n</tr>\n<tr>\n<td>docker volume rm </td>\n<td></td>\n</tr>\n</tbody></table>\n<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h4><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>docker network ls</td>\n<td></td>\n</tr>\n<tr>\n<td>docker network create </td>\n<td></td>\n</tr>\n<tr>\n<td>docker network inspect </td>\n<td></td>\n</tr>\n<tr>\n<td>docker network connect  </td>\n<td></td>\n</tr>\n<tr>\n<td>docker run network  </td>\n<td></td>\n</tr>\n</tbody></table>\n<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h4><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>docker info</td>\n<td> Docker </td>\n</tr>\n<tr>\n<td>docker version</td>\n<td> Docker </td>\n</tr>\n<tr>\n<td>docker system df</td>\n<td></td>\n</tr>\n<tr>\n<td>docker system prune</td>\n<td></td>\n</tr>\n</tbody></table>\n<h2 id=\"Docker-Dockerfile\"><a href=\"#Docker-Dockerfile\" class=\"headerlink\" title=\"Docker Dockerfile\"></a>Docker Dockerfile</h2><h3 id=\"-Dockerfile\"><a href=\"#-Dockerfile\" class=\"headerlink\" title=\" Dockerfile\"></a> Dockerfile</h3><p>Dockerfile  Docker <br><br>    \t PythonNodeNginx<br>    \t<br>    \t<br>    \t<br>    \t</p>\n<h3 id=\"Dockerfile-\"><a href=\"#Dockerfile-\" class=\"headerlink\" title=\"Dockerfile \"></a>Dockerfile </h3><figure class=\"highlight dockerfile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 1. </span></span><br><span class=\"line\"><span class=\"keyword\">FROM</span> [:tag]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 2. </span></span><br><span class=\"line\"><span class=\"keyword\">WORKDIR</span><span class=\"language-bash\"> /app</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 3. </span></span><br><span class=\"line\"><span class=\"keyword\">COPY</span><span class=\"language-bash\"> ..</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 4. RUN</span></span><br><span class=\"line\"><span class=\"keyword\">RUN</span><span class=\"language-bash\"> </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 5. </span></span><br><span class=\"line\"><span class=\"keyword\">ENV</span> =</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 6. </span></span><br><span class=\"line\"><span class=\"keyword\">CMD</span><span class=\"language-bash\"> [<span class=\"string\">&quot;&quot;</span>,<span class=\"string\">&quot;&quot;</span>]</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># 7. </span></span><br><span class=\"line\"><span class=\"keyword\">EXPOSE</span> </span><br></pre></td></tr></table></figure>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" + \"></a> + </h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>FROM</td>\n<td>FROM node:18</td>\n<td></td>\n</tr>\n<tr>\n<td>WORKDIR</td>\n<td>WORKDIR &#x2F;app</td>\n<td> cd</td>\n</tr>\n<tr>\n<td>COPY</td>\n<td>COPY . .</td>\n<td></td>\n</tr>\n<tr>\n<td>RUN</td>\n<td>RUN npm install</td>\n<td></td>\n</tr>\n<tr>\n<td>CMD</td>\n<td>CMD [npm, start]</td>\n<td></td>\n</tr>\n<tr>\n<td>EXPOSE</td>\n<td>EXPOSE 3000</td>\n<td></td>\n</tr>\n</tbody></table>\n<h3 id=\"Flask-Web-App\"><a href=\"#Flask-Web-App\" class=\"headerlink\" title=\"Flask Web App\"></a>Flask Web App</h3><p> </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">my-flask-app/</span><br><span class=\"line\"> app.py</span><br><span class=\"line\"> requirements.txt</span><br><span class=\"line\"> Dockerfile</span><br></pre></td></tr></table></figure>\n<p> app.py</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">from</span> flask <span class=\"keyword\">import</span> Flask</span><br><span class=\"line\">app = Flask(__name__)</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@app.route(<span class=\"params\"><span class=\"string\">&quot;/&quot;</span></span>)</span></span><br><span class=\"line\"><span class=\"keyword\">def</span> <span class=\"title function_\">home</span>():</span><br><span class=\"line\">    <span class=\"keyword\">return</span> <span class=\"string\">&quot;Hello,Docker!&quot;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span> __name__ == <span class=\"string\">&quot;__main__&quot;</span>:</span><br><span class=\"line\">    app.run(host=<span class=\"string\">&quot;0.0.0.0&quot;</span>,port=<span class=\"number\">5000</span>)</span><br></pre></td></tr></table></figure>\n<p> requirements.txt</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">flask</span><br></pre></td></tr></table></figure>\n<p> Dockerfile</p>\n<figure class=\"highlight dockerfile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">FROM</span> python:<span class=\"number\">3.9</span>-slim</span><br><span class=\"line\"><span class=\"keyword\">WORKDIR</span><span class=\"language-bash\"> /app</span></span><br><span class=\"line\"><span class=\"keyword\">COPY</span><span class=\"language-bash\"> ..</span></span><br><span class=\"line\"><span class=\"keyword\">RUN</span><span class=\"language-bash\"> pip install -r requirements.txt</span></span><br><span class=\"line\"><span class=\"keyword\">EXPOSE</span> <span class=\"number\">5000</span></span><br><span class=\"line\"><span class=\"keyword\">CMD</span><span class=\"language-bash\"> [<span class=\"string\">&quot;python&quot;</span>,<span class=\"string\">&quot;app.py&quot;</span>]</span></span><br></pre></td></tr></table></figure>\n<p> </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker build -t my-flask-app .</span><br><span class=\"line\">docker run -d -p 5000:5000 my-flask-app</span><br></pre></td></tr></table></figure>\n<p><a class=\"link\"   href=\"http://localhost:5000/\" >http://localhost:5000<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a><br> </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>CMD </td>\n</tr>\n<tr>\n<td></td>\n<td> <code>-slim</code><code>-alpine</code> </td>\n</tr>\n<tr>\n<td></td>\n<td>COPY <code>.dockerignore</code> </td>\n</tr>\n<tr>\n<td></td>\n<td> <code>.dockerignore</code>  <code>node_modules</code></td>\n</tr>\n</tbody></table>\n<h3 id=\"Dockerfile-\"><a href=\"#Dockerfile-\" class=\"headerlink\" title=\"Dockerfile \"></a>Dockerfile </h3><figure class=\"highlight dockerfile\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"keyword\">FROM</span> node:<span class=\"number\">18</span> as build</span><br><span class=\"line\"><span class=\"keyword\">WORKDIR</span><span class=\"language-bash\"> /app</span></span><br><span class=\"line\"><span class=\"keyword\">COPY</span><span class=\"language-bash\"> ..</span></span><br><span class=\"line\"><span class=\"keyword\">RUN</span><span class=\"language-bash\"> nom install &amp;&amp; npm run build</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># nginx</span></span><br><span class=\"line\"><span class=\"keyword\">FROM</span> nginx</span><br><span class=\"line\"><span class=\"keyword\">COPY</span><span class=\"language-bash\"> --from=build /app/dist /usr/share/nginx/html</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#</span></span><br><span class=\"line\"><span class=\"keyword\">ENV</span> PORT=<span class=\"number\">8080</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h3><p><b>FROM WORKDIR COPY RUN CMD </b></p>\n<h2 id=\"Docker-Compose\"><a href=\"#Docker-Compose\" class=\"headerlink\" title=\"Docker Compose\"></a>Docker Compose</h2><h3 id=\"Docker-Compose\"><a href=\"#Docker-Compose\" class=\"headerlink\" title=\"Docker Compose\"></a>Docker Compose</h3><p>docker-compose.yml<br>    \t webdbredis<br>    \t<br>    \tdocker-compose up</p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">version:</span> <span class=\"string\">&#x27;3&#x27;</span>    <span class=\"comment\">#Compose,33.8</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">services:</span>       <span class=\"comment\">#</span></span><br><span class=\"line\">    <span class=\"string\">1:</span></span><br><span class=\"line\">        <span class=\"attr\">image:</span> <span class=\"string\"></span> <span class=\"string\"></span> <span class=\"string\">buld</span></span><br><span class=\"line\">        <span class=\"attr\">ports:</span></span><br><span class=\"line\">            <span class=\"bullet\">-</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">        <span class=\"attr\">volumes:</span></span><br><span class=\"line\">            <span class=\"bullet\">-</span> <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">        <span class=\"attr\">environment:</span></span><br><span class=\"line\">            <span class=\"bullet\">-</span> <span class=\"string\">&quot;=&quot;</span></span><br><span class=\"line\">        <span class=\"attr\">depends_on:</span></span><br><span class=\"line\">            <span class=\"bullet\">-</span> <span class=\"string\"></span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"string\">2:</span></span><br><span class=\"line\">        <span class=\"string\">....</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"-Nginx\"><a href=\"#-Nginx\" class=\"headerlink\" title=\" Nginx\"></a> Nginx</h3><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"string\">my-compose-project/</span></span><br><span class=\"line\"><span class=\"string\"></span> <span class=\"string\">docker-compose.yml</span></span><br><span class=\"line\"><span class=\"string\"></span> <span class=\"string\">html/</span></span><br><span class=\"line\"><span class=\"string\"></span>   <span class=\"string\"></span> <span class=\"string\">index.html</span></span><br><span class=\"line\"><span class=\"string\"></span> <span class=\"string\">nginx.conf</span></span><br></pre></td></tr></table></figure>\n<p> docker-compose.yml </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">version:</span> <span class=\"string\">&#x27;3&#x27;</span></span><br><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\">  <span class=\"attr\">web:</span></span><br><span class=\"line\">    <span class=\"attr\">image:</span> <span class=\"string\">nginx</span></span><br><span class=\"line\">    <span class=\"attr\">ports:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">&quot;8080:80&quot;</span></span><br><span class=\"line\">    <span class=\"attr\">volumes:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./html:/usr/share/nginx/html:ro</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"string\">./nginx.conf:/etc/nginx/nginx.conf:ro</span></span><br></pre></td></tr></table></figure>\n<p><br>    \t8080  80<br>    \t .&#x2F;html  nginx <br>    \t nginx <br> </p>\n<figure class=\"highlight bash\"><figcaption><span>Ubuntu</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker-compose up -d <span class=\"comment\">#  docker compose up -d</span></span><br></pre></td></tr></table></figure>\n<p> </p>\n<figure class=\"highlight bash\"><figcaption><span>Ubuntu</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker-compose down -v <span class=\"comment\">#  docker compose down -v</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"Node-js-MongoDB\"><a href=\"#Node-js-MongoDB\" class=\"headerlink\" title=\"Node.js + MongoDB\"></a>Node.js + MongoDB</h3><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">version:</span> <span class=\"string\">&#x27;3&#x27;</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\">    <span class=\"attr\">app:</span></span><br><span class=\"line\">        <span class=\"attr\">build:</span> <span class=\"string\">.</span></span><br><span class=\"line\">        <span class=\"attr\">ports:</span></span><br><span class=\"line\">            <span class=\"bullet\">-</span> <span class=\"string\">&quot;3000:3000&quot;</span></span><br><span class=\"line\">        <span class=\"attr\">environment:</span></span><br><span class=\"line\">            <span class=\"bullet\">-</span> <span class=\"string\">MONGO_URL=mongodb://mongo:27017/mydb</span></span><br><span class=\"line\">        <span class=\"attr\">depends_on:</span></span><br><span class=\"line\">            <span class=\"bullet\">-</span> <span class=\"string\">mongo</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"attr\">mongo:</span></span><br><span class=\"line\">        <span class=\"attr\">image:</span> <span class=\"string\">mongo</span></span><br><span class=\"line\">        <span class=\"attr\">ports:</span></span><br><span class=\"line\">            <span class=\"bullet\">-</span> <span class=\"string\">&quot;27017:27017&quot;</span></span><br></pre></td></tr></table></figure>\n<p><br>    \tapp  Dockerfile <br>    \t Mongo  mongo </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>image:</td>\n<td></td>\n</tr>\n<tr>\n<td>build:</td>\n<td> Dockerfile </td>\n</tr>\n<tr>\n<td>ports:</td>\n<td>:</td>\n</tr>\n<tr>\n<td>volumes:</td>\n<td>:</td>\n</tr>\n<tr>\n<td>environment:</td>\n<td></td>\n</tr>\n<tr>\n<td>depends_on:</td>\n<td></td>\n</tr>\n<tr>\n<td>restart:</td>\n<td> alwayson-failure</td>\n</tr>\n<tr>\n<td>networks:</td>\n<td></td>\n</tr>\n</tbody></table>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight bash\"><figcaption><span>Ubuntu</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">docker-compose up -d <span class=\"comment\">#  docker compose up -d</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">docker-compose down <span class=\"comment\">#  docker compose down</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">docker-compose logs <span class=\"comment\">#  docker compose logs</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">docker-compose ps <span class=\"comment\">#  docker compose ps</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">docker-compose <span class=\"built_in\">exec</span>  bash <span class=\"comment\">#  docker compose exec  bash</span></span><br></pre></td></tr></table></figure>\n\n\n","_processedHighlight":true},{"title":"Prometheus+Grafana","date":"2025-03-30T05:43:43.000Z","cover":"/images/.png","_content":"## \n####  Prometheus \n\nPrometheus +\n\n \n\t\t CPU \n\t\t\n\t\t PromQL \n\t\t CPU 5 90%\n\n \n\n####  Grafana \n\nGrafana \n\n \n\t\t Prometheus\n\t\t\n\t\t\n\t\tGrafana  Prometheus \n\n  +  + \n\n## \n#### Node Exporter\nNode ExporterPrometheusCPU\n\n``` bash Ubuntu\nssh root@ip\n\nsudo useradd --no-create-home --shell /bin/false node_exporter\n# node_exporter()\n\nwget https://github.com/prometheus/node_exporter/releases/download/v1.7.0/node_exporter-1.7.0.linux-amd64.tar.gz\ntar xvf node_exporter-1.7.0.linux-amd64.tar.gz\nsudo cp node_exporter-1.7.0.linux-amd64/node_exporter /usr/local/bin/\n# node_exporter\n\nsudo nano /etc/systemd/system/node_exporter.service\n# systemd\n```\n\n``` bash Ubuntu\n[Unit]\nDescription=Node Exporter\nAfter=network.target\n\n[Service]\nUser=node_exporter\nExecStart=/usr/local/bin/node_exporter #\n\n[Install]\nWantedBy=default.target\n```\n\n``` bash Ubuntu\nsudo systemctl daemon-reexec\nsudo systemctl start node_exporter\nsudo systemctl enable node_exporter\n```\n\n\nhttp://IP:9100/metrics\n\n\n#### Prometheus\nPrometheus\n``` bash Ubuntu\nwget https://github.com/prometheus/prometheus/releases/download/v2.50.0/prometheus-2.50.0.linux-amd64.tar.gz\ntar xvf prometheus-2.50.0.linux-amd64.tar.gz # \ncd prometheus-2.50.0.linux-amd64 \n# .yml\n\nnano prometheus.yml # prometheus\n```\n\n``` Yaml\nglobal:         # \n  scrape_interval: 15s\n\nscrape_configs:\n  - job_name: 'node_exporter'\n    static_configs: #  \n      - targets: ['localhost:9100'] \n\n  - job_name: 'website_http_check'\n    metrics_path: /probe\n    params:\n      module: [http_2xx]\n    static_configs:\n      - targets:\n          - http://IP  # grafana\n          - prometheus:9090\n    relabel_configs:\n      - source_labels: [__address__]\n        target_label: __param_target\n      - source_labels: [__param_target]\n        target_label: instance\n      - target_label: __address__\n        replacement: localhost:9115  # blackbox_exporter \n```\n\n#### Blackbox Exporter()\n``` bash Ubuntu\nwget https://github.com/prometheus/blackbox_exporter/releases/download/v0.25.0/blackbox_exporter-0.25.0.linux-amd64.tar.gz\ntar xvf blackbox_exporter-0.25.0.linux-amd64.tar.gz\ncd blackbox_exporter-0.25.0.linux-amd64 \n./blackbox_exporter     # \n# systemdnode_exporter\n```\n\n#### prometheus\n``` bash Ubuntu\n./prometheus --config.file=prometheus.yml\n```\n\nhttp://IP:9090 Prometheus  Web \n\n####  Grafana\n``` bash\nsudo apt-get install -y apt-transport-https software-properties-common\n# \n \nsudo apt-get install -y wget\nwget -q -O - https://packages.grafana.com/gpg.key | sudo apt-key add -\necho \"deb https://packages.grafana.com/oss/deb stable main\" | sudo tee /etc/apt/sources.list.d/grafana.list\nsudo apt-get update\n# grafana\n\nsudo apt-get install grafana\nsudo systemctl start grafana-server\nsudo systemctl enable grafana-server\n# grafana\n```\ngrafana\n http://IP:3000\nadmin\nadmin  \n\n####  Grafana\n Prometheus http://localhost:9090\n Dashboard \nNode Exporter ID 1860\nBlackbox  ID 7587\n\n\n\n## \n\n### grafana\nGrafana\n1. grafana/opt/bitnami/grafana/conf/defaults.ini\n                          /usr/share/grafana/conf/defaults.ini\n2. default_languageen-USzh-Hansgrafana\n3. \n4. \n``` bash\nsystemctl restart grafana-server\n```\n\n### \n####   Prometheus \nPrometheus  PromQL \n1. \n Prometheus  alert.rules \n``` bash Ubuntu\nnano /etc/prometheus/alert.rules \n# prometheus/\n```\n2. \n```  Yaml\ngroups:\n  - name: node_alerts\n    rules:\n    - alert: HighCPUUsage \n      expr: 100 * (1 - avg by (instance) (rate(node_cpu_seconds_total{mode=\"idle\"}[1m]))) > 80\n      for: 5m\n      labels:\n        severity: critical\n      annotations:\n        summary: \"CPU usage is above 80% on {{ $labels.instance }}\"\n        description: \"CPU usage is above 80% for 5 minutes on {{ $labels.instance }}.\"\n        \n    - alert: HighLoadAverage\n      expr: node_load1 > 2\n      for: 5m\n      labels:\n        severity: critical\n      annotations:\n        summary: \"High load average on {{ $labels.instance }}\"\n        description: \"The 1-minute load average is above 2 on {{ $labels.instance }}.\"\n```\nHighCPUUsage CPU  80%  5 \nHighLoadAverage 1  2 \n2.  Prometheus \n Prometheus  prometheus.yml\n``` bash Ubuntu\nrule_files:\n  - \"/etc/prometheus/alert.rules\"\n```\n3.  Prometheus\n\n Prometheus \n``` bash\nsudo systemctl restart prometheus\n```\n####  Grafana \n\n Prometheus  Grafana \n\n1. \n\n Grafana  Slack \n\n\n\t1.\t Grafana UI Alerting > Notification channels\n\t2.\t Add channel\n\t3.\t Email\n\t\tEmail Address\n\t\tSMTP SMTP  Gmail  SMTP\n\n/Slack \n\n Slack  Webhook Webhook URL\n\n2. \n\n Grafana  Dashboard\n\t1.\t Alert \n\t2.\t\n\t\t\n\t\t 5 \n\t3.\t Notifications  Email\n\n3. \n\n Save Grafana \n#### \n1.  Grafana  SMTP  smtp Gmail\n  \n|          |  Gmail               |\n|----------------|-------------------------------------|\n| SMTP  | smtp.gmail.com                      |\n|          | 587 (TLS) / 465 (SSL)               |\n|        | yourname@gmail.com                  |\n|    | Gmail          |\n|      |        |\n\n1.  Grafana  grafana.ini\n\n``` bash\nnano /etc/grafana/grafana.ini\n```\n\n``` bash\n#################################### SMTP / Emailing ##########################\n[smtp]\nenabled = true\nhost = smtp.gmail.com:587\nuser = yourname@gmail.com\npassword = your_app_password   ; # Gmail \n;cert_file =\n;key_file =\nskip_verify = false\nfrom_address = yourname@gmail.com\nfrom_name = Grafana Monitor\n\n[emails]\n;welcome_email_on_sign_up = false\n```\n QQ 163  host\n3.   Gmail \n\t1.\t Gmail \n\t2.\t https://myaccount.google.com/security\n\t3.\t \n\t4.\t Grafana \n\t5.\t password \n4.  Grafana \n Grafana \n``` bash\nsudo systemctl restart grafana-server\n```\n1.  Grafana \n\t1.\t Grafana   Alerting  Contact points\n\t2.\t Email \n\t3.\t\n\t4.\t Send test notification \n\n \n\n \n\n## Docker \ndocker  __\"nginx-prometheus-exporter\"__ docker nginx __stub_status__  \n\n|              |                                | Docker Hub                  |                            |\n|:-------------------|:---------------------------------------|:----------------------------------------|:-------------------------------|\n| Prometheus         |                      | prom/prometheus                         |  nginx-exporternode-exporterblackbox-exporter |\n| Grafana            |                    | grafana/grafana                         |  Prometheus  |\n| nginx-prometheus-exporter |  Nginx              | nginx/nginx-prometheus-exporter         |  Nginx  stub_status |\n| node-exporter      |  CPU | prom/node-exporter                      |  |\n| blackbox-exporter  |  HTTP/HTTPS       | prom/blackbox-exporter                  | SSL |\n| NginxWeb | +                  | nginx:latest                            |  |\n\n### Docker Compose\n1. Prometheus\ndocker-compose\n```yaml\nservices:\n    prometheus:\n      image: prom/prometheus\n      container_name: prometheus\n      ports:\n        - \"9090:9090\"\n      volumes:\n        - \"./prometheus.yml:/etc/prometheus/prometheus.yml\"\n      restart: always\n```\n2. Grafana\ndocker-compose\n```yaml\nservices:\n    grafana:\n      image: grafana/grafana\n      container_name: grafana\n      ports:\n        - \"3000:3000\"\n      restart: always\n      environment:\n        - GF_SERVER_ROOT_URL=https://yourServername/grafana/\n```\n3. nginx-prometheus-exporter \ndocker-compose\n```yaml\nnginx-exporter:\n      image: nginx/nginx-prometheus-exporter\n      container_name: nginx-exporter\n      ports:\n        - \"9113:9113\"\n      command:\n#        - nginx.scrape-uri=http://nginx/stub_status\n        - \"--nginx.scrape-uri=https://yourServername/stub_status\" # ssl http\n#        - \"--nginx.ssl-verify=false\"\n      depends_on:\n        - nginx\n      restart: always\n```\n\n4. node-exporter \ndocker-compose\n```yaml\nservices:\n   nodexport:\n      image: prom/node-exporter\n      container_name: exporter\n      ports:\n        - \"9100:9100\"\n      restart: always\n```\n5. blackbox-exporter \ndocker-compose\n```yaml\nservices:\n    blackbox-exporter:\n      image: prom/blackbox-exporter:latest\n      container_name: blackbox-exporter\n      ports:\n        - \"9115:9115\"\n      restart: always\n```\n","source":"_posts/moniter.md","raw":"---\ntitle: Prometheus+Grafana\ndate: 2025-03-30 13:43:43\ntags: [,]\ncategories: [,,Prometheus+Grafana]\ncover: /images/.png\n---\n## \n####  Prometheus \n\nPrometheus +\n\n \n\t\t CPU \n\t\t\n\t\t PromQL \n\t\t CPU 5 90%\n\n \n\n####  Grafana \n\nGrafana \n\n \n\t\t Prometheus\n\t\t\n\t\t\n\t\tGrafana  Prometheus \n\n  +  + \n\n## \n#### Node Exporter\nNode ExporterPrometheusCPU\n\n``` bash Ubuntu\nssh root@ip\n\nsudo useradd --no-create-home --shell /bin/false node_exporter\n# node_exporter()\n\nwget https://github.com/prometheus/node_exporter/releases/download/v1.7.0/node_exporter-1.7.0.linux-amd64.tar.gz\ntar xvf node_exporter-1.7.0.linux-amd64.tar.gz\nsudo cp node_exporter-1.7.0.linux-amd64/node_exporter /usr/local/bin/\n# node_exporter\n\nsudo nano /etc/systemd/system/node_exporter.service\n# systemd\n```\n\n``` bash Ubuntu\n[Unit]\nDescription=Node Exporter\nAfter=network.target\n\n[Service]\nUser=node_exporter\nExecStart=/usr/local/bin/node_exporter #\n\n[Install]\nWantedBy=default.target\n```\n\n``` bash Ubuntu\nsudo systemctl daemon-reexec\nsudo systemctl start node_exporter\nsudo systemctl enable node_exporter\n```\n\n\nhttp://IP:9100/metrics\n\n\n#### Prometheus\nPrometheus\n``` bash Ubuntu\nwget https://github.com/prometheus/prometheus/releases/download/v2.50.0/prometheus-2.50.0.linux-amd64.tar.gz\ntar xvf prometheus-2.50.0.linux-amd64.tar.gz # \ncd prometheus-2.50.0.linux-amd64 \n# .yml\n\nnano prometheus.yml # prometheus\n```\n\n``` Yaml\nglobal:         # \n  scrape_interval: 15s\n\nscrape_configs:\n  - job_name: 'node_exporter'\n    static_configs: #  \n      - targets: ['localhost:9100'] \n\n  - job_name: 'website_http_check'\n    metrics_path: /probe\n    params:\n      module: [http_2xx]\n    static_configs:\n      - targets:\n          - http://IP  # grafana\n          - prometheus:9090\n    relabel_configs:\n      - source_labels: [__address__]\n        target_label: __param_target\n      - source_labels: [__param_target]\n        target_label: instance\n      - target_label: __address__\n        replacement: localhost:9115  # blackbox_exporter \n```\n\n#### Blackbox Exporter()\n``` bash Ubuntu\nwget https://github.com/prometheus/blackbox_exporter/releases/download/v0.25.0/blackbox_exporter-0.25.0.linux-amd64.tar.gz\ntar xvf blackbox_exporter-0.25.0.linux-amd64.tar.gz\ncd blackbox_exporter-0.25.0.linux-amd64 \n./blackbox_exporter     # \n# systemdnode_exporter\n```\n\n#### prometheus\n``` bash Ubuntu\n./prometheus --config.file=prometheus.yml\n```\n\nhttp://IP:9090 Prometheus  Web \n\n####  Grafana\n``` bash\nsudo apt-get install -y apt-transport-https software-properties-common\n# \n \nsudo apt-get install -y wget\nwget -q -O - https://packages.grafana.com/gpg.key | sudo apt-key add -\necho \"deb https://packages.grafana.com/oss/deb stable main\" | sudo tee /etc/apt/sources.list.d/grafana.list\nsudo apt-get update\n# grafana\n\nsudo apt-get install grafana\nsudo systemctl start grafana-server\nsudo systemctl enable grafana-server\n# grafana\n```\ngrafana\n http://IP:3000\nadmin\nadmin  \n\n####  Grafana\n Prometheus http://localhost:9090\n Dashboard \nNode Exporter ID 1860\nBlackbox  ID 7587\n\n\n\n## \n\n### grafana\nGrafana\n1. grafana/opt/bitnami/grafana/conf/defaults.ini\n                          /usr/share/grafana/conf/defaults.ini\n2. default_languageen-USzh-Hansgrafana\n3. \n4. \n``` bash\nsystemctl restart grafana-server\n```\n\n### \n####   Prometheus \nPrometheus  PromQL \n1. \n Prometheus  alert.rules \n``` bash Ubuntu\nnano /etc/prometheus/alert.rules \n# prometheus/\n```\n2. \n```  Yaml\ngroups:\n  - name: node_alerts\n    rules:\n    - alert: HighCPUUsage \n      expr: 100 * (1 - avg by (instance) (rate(node_cpu_seconds_total{mode=\"idle\"}[1m]))) > 80\n      for: 5m\n      labels:\n        severity: critical\n      annotations:\n        summary: \"CPU usage is above 80% on {{ $labels.instance }}\"\n        description: \"CPU usage is above 80% for 5 minutes on {{ $labels.instance }}.\"\n        \n    - alert: HighLoadAverage\n      expr: node_load1 > 2\n      for: 5m\n      labels:\n        severity: critical\n      annotations:\n        summary: \"High load average on {{ $labels.instance }}\"\n        description: \"The 1-minute load average is above 2 on {{ $labels.instance }}.\"\n```\nHighCPUUsage CPU  80%  5 \nHighLoadAverage 1  2 \n2.  Prometheus \n Prometheus  prometheus.yml\n``` bash Ubuntu\nrule_files:\n  - \"/etc/prometheus/alert.rules\"\n```\n3.  Prometheus\n\n Prometheus \n``` bash\nsudo systemctl restart prometheus\n```\n####  Grafana \n\n Prometheus  Grafana \n\n1. \n\n Grafana  Slack \n\n\n\t1.\t Grafana UI Alerting > Notification channels\n\t2.\t Add channel\n\t3.\t Email\n\t\tEmail Address\n\t\tSMTP SMTP  Gmail  SMTP\n\n/Slack \n\n Slack  Webhook Webhook URL\n\n2. \n\n Grafana  Dashboard\n\t1.\t Alert \n\t2.\t\n\t\t\n\t\t 5 \n\t3.\t Notifications  Email\n\n3. \n\n Save Grafana \n#### \n1.  Grafana  SMTP  smtp Gmail\n  \n|          |  Gmail               |\n|----------------|-------------------------------------|\n| SMTP  | smtp.gmail.com                      |\n|          | 587 (TLS) / 465 (SSL)               |\n|        | yourname@gmail.com                  |\n|    | Gmail          |\n|      |        |\n\n1.  Grafana  grafana.ini\n\n``` bash\nnano /etc/grafana/grafana.ini\n```\n\n``` bash\n#################################### SMTP / Emailing ##########################\n[smtp]\nenabled = true\nhost = smtp.gmail.com:587\nuser = yourname@gmail.com\npassword = your_app_password   ; # Gmail \n;cert_file =\n;key_file =\nskip_verify = false\nfrom_address = yourname@gmail.com\nfrom_name = Grafana Monitor\n\n[emails]\n;welcome_email_on_sign_up = false\n```\n QQ 163  host\n3.   Gmail \n\t1.\t Gmail \n\t2.\t https://myaccount.google.com/security\n\t3.\t \n\t4.\t Grafana \n\t5.\t password \n4.  Grafana \n Grafana \n``` bash\nsudo systemctl restart grafana-server\n```\n1.  Grafana \n\t1.\t Grafana   Alerting  Contact points\n\t2.\t Email \n\t3.\t\n\t4.\t Send test notification \n\n \n\n \n\n## Docker \ndocker  __\"nginx-prometheus-exporter\"__ docker nginx __stub_status__  \n\n|              |                                | Docker Hub                  |                            |\n|:-------------------|:---------------------------------------|:----------------------------------------|:-------------------------------|\n| Prometheus         |                      | prom/prometheus                         |  nginx-exporternode-exporterblackbox-exporter |\n| Grafana            |                    | grafana/grafana                         |  Prometheus  |\n| nginx-prometheus-exporter |  Nginx              | nginx/nginx-prometheus-exporter         |  Nginx  stub_status |\n| node-exporter      |  CPU | prom/node-exporter                      |  |\n| blackbox-exporter  |  HTTP/HTTPS       | prom/blackbox-exporter                  | SSL |\n| NginxWeb | +                  | nginx:latest                            |  |\n\n### Docker Compose\n1. Prometheus\ndocker-compose\n```yaml\nservices:\n    prometheus:\n      image: prom/prometheus\n      container_name: prometheus\n      ports:\n        - \"9090:9090\"\n      volumes:\n        - \"./prometheus.yml:/etc/prometheus/prometheus.yml\"\n      restart: always\n```\n2. Grafana\ndocker-compose\n```yaml\nservices:\n    grafana:\n      image: grafana/grafana\n      container_name: grafana\n      ports:\n        - \"3000:3000\"\n      restart: always\n      environment:\n        - GF_SERVER_ROOT_URL=https://yourServername/grafana/\n```\n3. nginx-prometheus-exporter \ndocker-compose\n```yaml\nnginx-exporter:\n      image: nginx/nginx-prometheus-exporter\n      container_name: nginx-exporter\n      ports:\n        - \"9113:9113\"\n      command:\n#        - nginx.scrape-uri=http://nginx/stub_status\n        - \"--nginx.scrape-uri=https://yourServername/stub_status\" # ssl http\n#        - \"--nginx.ssl-verify=false\"\n      depends_on:\n        - nginx\n      restart: always\n```\n\n4. node-exporter \ndocker-compose\n```yaml\nservices:\n   nodexport:\n      image: prom/node-exporter\n      container_name: exporter\n      ports:\n        - \"9100:9100\"\n      restart: always\n```\n5. blackbox-exporter \ndocker-compose\n```yaml\nservices:\n    blackbox-exporter:\n      image: prom/blackbox-exporter:latest\n      container_name: blackbox-exporter\n      ports:\n        - \"9115:9115\"\n      restart: always\n```\n","slug":"moniter","published":1,"updated":"2025-06-13T09:20:00.373Z","_id":"cm92e3g9j0002el0z85yu8s1z","comments":1,"layout":"post","photos":[],"content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h4 id=\"-Prometheus-\"><a href=\"#-Prometheus-\" class=\"headerlink\" title=\" Prometheus \"></a> Prometheus </h4><p>Prometheus +</p>\n<p> <br>    \t CPU <br>    \t<br>    \t PromQL <br>    \t CPU 5 90%</p>\n<p> </p>\n<h4 id=\"-Grafana-\"><a href=\"#-Grafana-\" class=\"headerlink\" title=\" Grafana \"></a> Grafana </h4><p>Grafana </p>\n<p> <br>    \t Prometheus<br>    \t<br>    \t<br>    \tGrafana  Prometheus </p>\n<p>  +  + </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h4 id=\"Node-Exporter\"><a href=\"#Node-Exporter\" class=\"headerlink\" title=\"Node Exporter\"></a>Node Exporter</h4><p>Node ExporterPrometheusCPU</p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><figcaption><span>Ubuntu</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh root@ip</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> useradd --no-create-home --shell /bin/false node_exporter</span><br><span class=\"line\"><span class=\"comment\"># node_exporter()</span></span><br><span class=\"line\"></span><br><span class=\"line\">wget https://github.com/prometheus/node_exporter/releases/download/v1.7.0/node_exporter-1.7.0.linux-amd64.tar.gz</span><br><span class=\"line\">tar xvf node_exporter-1.7.0.linux-amd64.tar.gz</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> <span class=\"built_in\">cp</span> node_exporter-1.7.0.linux-amd64/node_exporter /usr/local/bin/</span><br><span class=\"line\"><span class=\"comment\"># node_exporter</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> nano /etc/systemd/system/node_exporter.service</span><br><span class=\"line\"><span class=\"comment\"># systemd</span></span><br></pre></td></tr></table></figure></div>\n<p></p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><figcaption><span>Ubuntu</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=Node Exporter</span><br><span class=\"line\">After=network.target</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">User=node_exporter</span><br><span class=\"line\">ExecStart=/usr/local/bin/node_exporter <span class=\"comment\">#</span></span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy=default.target</span><br></pre></td></tr></table></figure></div>\n<p></p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><figcaption><span>Ubuntu</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl daemon-reexec</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl start node_exporter</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl <span class=\"built_in\">enable</span> node_exporter</span><br></pre></td></tr></table></figure></div>\n<p><br><br>http:&#x2F;&#x2F;IP:9100&#x2F;metrics<br></p>\n<h4 id=\"Prometheus\"><a href=\"#Prometheus\" class=\"headerlink\" title=\"Prometheus\"></a>Prometheus</h4><p>Prometheus</p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><figcaption><span>Ubuntu</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget https://github.com/prometheus/prometheus/releases/download/v2.50.0/prometheus-2.50.0.linux-amd64.tar.gz</span><br><span class=\"line\">tar xvf prometheus-2.50.0.linux-amd64.tar.gz <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> prometheus-2.50.0.linux-amd64 </span><br><span class=\"line\"><span class=\"comment\"># .yml</span></span><br><span class=\"line\"></span><br><span class=\"line\">nano prometheus.yml <span class=\"comment\"># prometheus</span></span><br></pre></td></tr></table></figure></div>\n<p></p>\n<div class=\"code-container\" data-rel=\"Yaml\"><figure class=\"iseeu highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">global:</span>         <span class=\"comment\"># </span></span><br><span class=\"line\">  <span class=\"attr\">scrape_interval:</span> <span class=\"string\">15s</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">scrape_configs:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">job_name:</span> <span class=\"string\">&#x27;node_exporter&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">static_configs:</span> <span class=\"comment\">#  </span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">targets:</span> [<span class=\"string\">&#x27;localhost:9100&#x27;</span>] </span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">job_name:</span> <span class=\"string\">&#x27;website_http_check&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">metrics_path:</span> <span class=\"string\">/probe</span></span><br><span class=\"line\">    <span class=\"attr\">params:</span></span><br><span class=\"line\">      <span class=\"attr\">module:</span> [<span class=\"string\">http_2xx</span>]</span><br><span class=\"line\">    <span class=\"attr\">static_configs:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">targets:</span></span><br><span class=\"line\">          <span class=\"bullet\">-</span> <span class=\"string\">http://IP</span>  <span class=\"comment\"># grafana</span></span><br><span class=\"line\">          <span class=\"bullet\">-</span> <span class=\"string\">prometheus:9090</span></span><br><span class=\"line\">    <span class=\"attr\">relabel_configs:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">source_labels:</span> [<span class=\"string\">__address__</span>]</span><br><span class=\"line\">        <span class=\"attr\">target_label:</span> <span class=\"string\">__param_target</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">source_labels:</span> [<span class=\"string\">__param_target</span>]</span><br><span class=\"line\">        <span class=\"attr\">target_label:</span> <span class=\"string\">instance</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">target_label:</span> <span class=\"string\">__address__</span></span><br><span class=\"line\">        <span class=\"attr\">replacement:</span> <span class=\"string\">localhost:9115</span>  <span class=\"comment\"># blackbox_exporter </span></span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"Blackbox-Exporter-\"><a href=\"#Blackbox-Exporter-\" class=\"headerlink\" title=\"Blackbox Exporter()\"></a>Blackbox Exporter()</h4><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><figcaption><span>Ubuntu</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget https://github.com/prometheus/blackbox_exporter/releases/download/v0.25.0/blackbox_exporter-0.25.0.linux-amd64.tar.gz</span><br><span class=\"line\">tar xvf blackbox_exporter-0.25.0.linux-amd64.tar.gz</span><br><span class=\"line\"><span class=\"built_in\">cd</span> blackbox_exporter-0.25.0.linux-amd64 </span><br><span class=\"line\">./blackbox_exporter     <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"comment\"># systemdnode_exporter</span></span><br></pre></td></tr></table></figure></div>\n\n<h4 id=\"prometheus\"><a href=\"#prometheus\" class=\"headerlink\" title=\"prometheus\"></a>prometheus</h4><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><figcaption><span>Ubuntu</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./prometheus --config.file=prometheus.yml</span><br></pre></td></tr></table></figure></div>\n<p><br>http:&#x2F;&#x2F;IP:9090 Prometheus  Web </p>\n<h4 id=\"-Grafana\"><a href=\"#-Grafana\" class=\"headerlink\" title=\" Grafana\"></a> Grafana</h4><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> apt-get install -y apt-transport-https software-properties-common</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"built_in\">sudo</span> apt-get install -y wget</span><br><span class=\"line\">wget -q -O - https://packages.grafana.com/gpg.key | <span class=\"built_in\">sudo</span> apt-key add -</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">&quot;deb https://packages.grafana.com/oss/deb stable main&quot;</span> | <span class=\"built_in\">sudo</span> <span class=\"built_in\">tee</span> /etc/apt/sources.list.d/grafana.list</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> apt-get update</span><br><span class=\"line\"><span class=\"comment\"># grafana</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> apt-get install grafana</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl start grafana-server</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl <span class=\"built_in\">enable</span> grafana-server</span><br><span class=\"line\"><span class=\"comment\"># grafana</span></span><br></pre></td></tr></table></figure></div>\n<p>grafana<br> http:&#x2F;&#x2F;IP:3000<br>admin<br>admin  </p>\n<h4 id=\"-Grafana\"><a href=\"#-Grafana\" class=\"headerlink\" title=\" Grafana\"></a> Grafana</h4><p> Prometheus <a class=\"link\"   href=\"http://localhost:9090/\" >http://localhost:9090<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a><br> Dashboard <br>Node Exporter ID 1860<br>Blackbox  ID 7587</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"grafana\"><a href=\"#grafana\" class=\"headerlink\" title=\"grafana\"></a>grafana</h3><p>Grafana</p>\n<ol>\n<li>grafana&#x2F;opt&#x2F;bitnami&#x2F;grafana&#x2F;conf&#x2F;defaults.ini<br>                   &#x2F;usr&#x2F;share&#x2F;grafana&#x2F;conf&#x2F;defaults.ini</li>\n<li>default_languageen-USzh-Hansgrafana</li>\n<li></li>\n<li><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl restart grafana-server</span><br></pre></td></tr></table></figure></div></li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"--Prometheus-\"><a href=\"#--Prometheus-\" class=\"headerlink\" title=\"  Prometheus \"></a>  Prometheus </h4><p>Prometheus  PromQL </p>\n<ol>\n<li><br> Prometheus  alert.rules <div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><figcaption><span>Ubuntu</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nano /etc/prometheus/alert.rules </span><br><span class=\"line\"><span class=\"comment\"># prometheus/</span></span><br></pre></td></tr></table></figure></div></li>\n<li><div class=\"code-container\" data-rel=\"Yaml\"><figure class=\"iseeu highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">groups:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">node_alerts</span></span><br><span class=\"line\">    <span class=\"attr\">rules:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">alert:</span> <span class=\"string\">HighCPUUsage</span> </span><br><span class=\"line\">      <span class=\"attr\">expr:</span> <span class=\"number\">100</span> <span class=\"string\">*</span> <span class=\"string\">(1</span> <span class=\"bullet\">-</span> <span class=\"string\">avg</span> <span class=\"string\">by</span> <span class=\"string\">(instance)</span> <span class=\"string\">(rate(node_cpu_seconds_total&#123;mode=&quot;idle&quot;&#125;[1m])))</span> <span class=\"string\">&gt;</span> <span class=\"number\">80</span></span><br><span class=\"line\">      <span class=\"attr\">for:</span> <span class=\"string\">5m</span></span><br><span class=\"line\">      <span class=\"attr\">labels:</span></span><br><span class=\"line\">        <span class=\"attr\">severity:</span> <span class=\"string\">critical</span></span><br><span class=\"line\">      <span class=\"attr\">annotations:</span></span><br><span class=\"line\">        <span class=\"attr\">summary:</span> <span class=\"string\">&quot;CPU usage is above 80% on <span class=\"template-variable\">&#123;&#123; $labels.instance &#125;&#125;</span>&quot;</span></span><br><span class=\"line\">        <span class=\"attr\">description:</span> <span class=\"string\">&quot;CPU usage is above 80% for 5 minutes on <span class=\"template-variable\">&#123;&#123; $labels.instance &#125;&#125;</span>.&quot;</span></span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">alert:</span> <span class=\"string\">HighLoadAverage</span></span><br><span class=\"line\">      <span class=\"attr\">expr:</span> <span class=\"string\">node_load1</span> <span class=\"string\">&gt;</span> <span class=\"number\">2</span></span><br><span class=\"line\">      <span class=\"attr\">for:</span> <span class=\"string\">5m</span></span><br><span class=\"line\">      <span class=\"attr\">labels:</span></span><br><span class=\"line\">        <span class=\"attr\">severity:</span> <span class=\"string\">critical</span></span><br><span class=\"line\">      <span class=\"attr\">annotations:</span></span><br><span class=\"line\">        <span class=\"attr\">summary:</span> <span class=\"string\">&quot;High load average on <span class=\"template-variable\">&#123;&#123; $labels.instance &#125;&#125;</span>&quot;</span></span><br><span class=\"line\">        <span class=\"attr\">description:</span> <span class=\"string\">&quot;The 1-minute load average is above 2 on <span class=\"template-variable\">&#123;&#123; $labels.instance &#125;&#125;</span>.&quot;</span></span><br></pre></td></tr></table></figure></div>\nHighCPUUsage CPU  80%  5 <br>HighLoadAverage 1  2 </li>\n<li> Prometheus <br> Prometheus  prometheus.yml<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><figcaption><span>Ubuntu</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rule_files:</span><br><span class=\"line\">  - <span class=\"string\">&quot;/etc/prometheus/alert.rules&quot;</span></span><br></pre></td></tr></table></figure></div></li>\n<li> Prometheus</li>\n</ol>\n<p> Prometheus </p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl restart prometheus</span><br></pre></td></tr></table></figure></div>\n<h4 id=\"-Grafana-\"><a href=\"#-Grafana-\" class=\"headerlink\" title=\" Grafana \"></a> Grafana </h4><p> Prometheus  Grafana </p>\n<ol>\n<li></li>\n</ol>\n<p> Grafana  Slack </p>\n<p><br>    1.\t Grafana UI Alerting &gt; Notification channels<br>    2.\t Add channel<br>    3.\t Email<br>    \tEmail Address<br>    \tSMTP SMTP  Gmail  SMTP</p>\n<p>&#x2F;Slack </p>\n<p> Slack  Webhook Webhook URL</p>\n<ol start=\"2\">\n<li></li>\n</ol>\n<p> Grafana  Dashboard<br>    1.\t Alert <br>    2.\t<br>    \t<br>    \t 5 <br>    3.\t Notifications  Email</p>\n<ol start=\"3\">\n<li></li>\n</ol>\n<p> Save Grafana </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li> Grafana  SMTP  smtp Gmail</li>\n</ol>\n<table>\n<thead>\n<tr>\n<th></th>\n<th> Gmail </th>\n</tr>\n</thead>\n<tbody><tr>\n<td>SMTP </td>\n<td>smtp.gmail.com</td>\n</tr>\n<tr>\n<td></td>\n<td>587 (TLS) &#x2F; 465 (SSL)</td>\n</tr>\n<tr>\n<td></td>\n<td><a class=\"link\"   href=\"mailto:&#121;&#111;&#x75;&#x72;&#110;&#97;&#109;&#101;&#64;&#103;&#109;&#x61;&#105;&#108;&#46;&#99;&#111;&#x6d;\" >&#121;&#111;&#x75;&#x72;&#110;&#97;&#109;&#101;&#64;&#103;&#109;&#x61;&#105;&#108;&#46;&#99;&#111;&#x6d;<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></td>\n</tr>\n<tr>\n<td></td>\n<td>Gmail </td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n<ol>\n<li> Grafana  grafana.ini<br><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nano /etc/grafana/grafana.ini</span><br></pre></td></tr></table></figure></div>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#################################### SMTP / Emailing ##########################</span></span><br><span class=\"line\">[smtp]</span><br><span class=\"line\">enabled = <span class=\"literal\">true</span></span><br><span class=\"line\">host = smtp.gmail.com:587</span><br><span class=\"line\">user = yourname@gmail.com</span><br><span class=\"line\">password = your_app_password   ; <span class=\"comment\"># Gmail </span></span><br><span class=\"line\">;cert_file =</span><br><span class=\"line\">;key_file =</span><br><span class=\"line\">skip_verify = <span class=\"literal\">false</span></span><br><span class=\"line\">from_address = yourname@gmail.com</span><br><span class=\"line\">from_name = Grafana Monitor</span><br><span class=\"line\"></span><br><span class=\"line\">[emails]</span><br><span class=\"line\">;welcome_email_on_sign_up = <span class=\"literal\">false</span></span><br></pre></td></tr></table></figure></div>\n QQ 163  host</li>\n<li>  Gmail <ol>\n<li>    Gmail </li>\n<li>    <a class=\"link\"   href=\"https://myaccount.google.com/security\" >https://myaccount.google.com/security<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></li>\n<li>    </li>\n<li>    Grafana </li>\n<li>    password </li>\n</ol>\n</li>\n<li> Grafana <br> Grafana <div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl restart grafana-server</span><br></pre></td></tr></table></figure></div></li>\n<li> Grafana <ol>\n<li>    Grafana   Alerting  Contact points</li>\n<li>    Email </li>\n<li>   </li>\n<li>    Send test notification </li>\n</ol>\n</li>\n</ol>\n<p> </p>\n<p> </p>\n<h2 id=\"Docker-\"><a href=\"#Docker-\" class=\"headerlink\" title=\"Docker \"></a>Docker </h2><p>docker  <strong>nginx-prometheus-exporter</strong> docker nginx <strong>stub_status</strong>  </p>\n<table>\n<thead>\n<tr>\n<th align=\"left\"></th>\n<th align=\"left\"></th>\n<th align=\"left\">Docker Hub</th>\n<th align=\"left\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">Prometheus</td>\n<td align=\"left\"></td>\n<td align=\"left\">prom&#x2F;prometheus</td>\n<td align=\"left\"> nginx-exporternode-exporterblackbox-exporter</td>\n</tr>\n<tr>\n<td align=\"left\">Grafana</td>\n<td align=\"left\"></td>\n<td align=\"left\">grafana&#x2F;grafana</td>\n<td align=\"left\"> Prometheus </td>\n</tr>\n<tr>\n<td align=\"left\">nginx-prometheus-exporter</td>\n<td align=\"left\"> Nginx </td>\n<td align=\"left\">nginx&#x2F;nginx-prometheus-exporter</td>\n<td align=\"left\"> Nginx  stub_status</td>\n</tr>\n<tr>\n<td align=\"left\">node-exporter</td>\n<td align=\"left\"> CPU</td>\n<td align=\"left\">prom&#x2F;node-exporter</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">blackbox-exporter</td>\n<td align=\"left\"> HTTP&#x2F;HTTPS </td>\n<td align=\"left\">prom&#x2F;blackbox-exporter</td>\n<td align=\"left\">SSL</td>\n</tr>\n<tr>\n<td align=\"left\">NginxWeb</td>\n<td align=\"left\">+</td>\n<td align=\"left\">nginx:latest</td>\n<td align=\"left\"></td>\n</tr>\n</tbody></table>\n<h3 id=\"Docker-Compose\"><a href=\"#Docker-Compose\" class=\"headerlink\" title=\"Docker Compose\"></a>Docker Compose</h3><ol>\n<li><p>Prometheus<br>docker-compose</p>\n<div class=\"code-container\" data-rel=\"Yaml\"><figure class=\"iseeu highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\">    <span class=\"attr\">prometheus:</span></span><br><span class=\"line\">      <span class=\"attr\">image:</span> <span class=\"string\">prom/prometheus</span></span><br><span class=\"line\">      <span class=\"attr\">container_name:</span> <span class=\"string\">prometheus</span></span><br><span class=\"line\">      <span class=\"attr\">ports:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">&quot;9090:9090&quot;</span></span><br><span class=\"line\">      <span class=\"attr\">volumes:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">&quot;./prometheus.yml:/etc/prometheus/prometheus.yml&quot;</span></span><br><span class=\"line\">      <span class=\"attr\">restart:</span> <span class=\"string\">always</span></span><br></pre></td></tr></table></figure></div></li>\n<li><p>Grafana<br>docker-compose</p>\n<div class=\"code-container\" data-rel=\"Yaml\"><figure class=\"iseeu highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\">    <span class=\"attr\">grafana:</span></span><br><span class=\"line\">      <span class=\"attr\">image:</span> <span class=\"string\">grafana/grafana</span></span><br><span class=\"line\">      <span class=\"attr\">container_name:</span> <span class=\"string\">grafana</span></span><br><span class=\"line\">      <span class=\"attr\">ports:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">&quot;3000:3000&quot;</span></span><br><span class=\"line\">      <span class=\"attr\">restart:</span> <span class=\"string\">always</span></span><br><span class=\"line\">      <span class=\"attr\">environment:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">GF_SERVER_ROOT_URL=https://yourServername/grafana/</span></span><br></pre></td></tr></table></figure></div></li>\n<li><p>nginx-prometheus-exporter <br>docker-compose</p>\n<div class=\"code-container\" data-rel=\"Yaml\"><figure class=\"iseeu highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">nginx-exporter:</span></span><br><span class=\"line\">      <span class=\"attr\">image:</span> <span class=\"string\">nginx/nginx-prometheus-exporter</span></span><br><span class=\"line\">      <span class=\"attr\">container_name:</span> <span class=\"string\">nginx-exporter</span></span><br><span class=\"line\">      <span class=\"attr\">ports:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">&quot;9113:9113&quot;</span></span><br><span class=\"line\">      <span class=\"attr\">command:</span></span><br><span class=\"line\"><span class=\"comment\">#        - nginx.scrape-uri=http://nginx/stub_status</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">&quot;--nginx.scrape-uri=https://yourServername/stub_status&quot;</span> <span class=\"comment\"># ssl http</span></span><br><span class=\"line\"><span class=\"comment\">#        - &quot;--nginx.ssl-verify=false&quot;</span></span><br><span class=\"line\">      <span class=\"attr\">depends_on:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">nginx</span></span><br><span class=\"line\">      <span class=\"attr\">restart:</span> <span class=\"string\">always</span></span><br></pre></td></tr></table></figure></div>\n</li>\n<li><p>node-exporter <br>docker-compose</p>\n<div class=\"code-container\" data-rel=\"Yaml\"><figure class=\"iseeu highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\">   <span class=\"attr\">nodexport:</span></span><br><span class=\"line\">      <span class=\"attr\">image:</span> <span class=\"string\">prom/node-exporter</span></span><br><span class=\"line\">      <span class=\"attr\">container_name:</span> <span class=\"string\">exporter</span></span><br><span class=\"line\">      <span class=\"attr\">ports:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">&quot;9100:9100&quot;</span></span><br><span class=\"line\">      <span class=\"attr\">restart:</span> <span class=\"string\">always</span></span><br></pre></td></tr></table></figure></div></li>\n<li><p>blackbox-exporter <br>docker-compose</p>\n<div class=\"code-container\" data-rel=\"Yaml\"><figure class=\"iseeu highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\">    <span class=\"attr\">blackbox-exporter:</span></span><br><span class=\"line\">      <span class=\"attr\">image:</span> <span class=\"string\">prom/blackbox-exporter:latest</span></span><br><span class=\"line\">      <span class=\"attr\">container_name:</span> <span class=\"string\">blackbox-exporter</span></span><br><span class=\"line\">      <span class=\"attr\">ports:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">&quot;9115:9115&quot;</span></span><br><span class=\"line\">      <span class=\"attr\">restart:</span> <span class=\"string\">always</span></span><br></pre></td></tr></table></figure></div></li>\n</ol>\n","excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h4 id=\"-Prometheus-\"><a href=\"#-Prometheus-\" class=\"headerlink\" title=\" Prometheus \"></a> Prometheus </h4><p>Prometheus +</p>\n<p> <br>    \t CPU <br>    \t<br>    \t PromQL <br>    \t CPU 5 90%</p>\n<p> </p>\n<h4 id=\"-Grafana-\"><a href=\"#-Grafana-\" class=\"headerlink\" title=\" Grafana \"></a> Grafana </h4><p>Grafana </p>\n<p> <br>    \t Prometheus<br>    \t<br>    \t<br>    \tGrafana  Prometheus </p>\n<p>  +  + </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h4 id=\"Node-Exporter\"><a href=\"#Node-Exporter\" class=\"headerlink\" title=\"Node Exporter\"></a>Node Exporter</h4><p>Node ExporterPrometheusCPU</p>\n<figure class=\"highlight bash\"><figcaption><span>Ubuntu</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh root@ip</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> useradd --no-create-home --shell /bin/false node_exporter</span><br><span class=\"line\"><span class=\"comment\"># node_exporter()</span></span><br><span class=\"line\"></span><br><span class=\"line\">wget https://github.com/prometheus/node_exporter/releases/download/v1.7.0/node_exporter-1.7.0.linux-amd64.tar.gz</span><br><span class=\"line\">tar xvf node_exporter-1.7.0.linux-amd64.tar.gz</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> <span class=\"built_in\">cp</span> node_exporter-1.7.0.linux-amd64/node_exporter /usr/local/bin/</span><br><span class=\"line\"><span class=\"comment\"># node_exporter</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> nano /etc/systemd/system/node_exporter.service</span><br><span class=\"line\"><span class=\"comment\"># systemd</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight bash\"><figcaption><span>Ubuntu</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[Unit]</span><br><span class=\"line\">Description=Node Exporter</span><br><span class=\"line\">After=network.target</span><br><span class=\"line\"></span><br><span class=\"line\">[Service]</span><br><span class=\"line\">User=node_exporter</span><br><span class=\"line\">ExecStart=/usr/local/bin/node_exporter <span class=\"comment\">#</span></span><br><span class=\"line\"></span><br><span class=\"line\">[Install]</span><br><span class=\"line\">WantedBy=default.target</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight bash\"><figcaption><span>Ubuntu</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl daemon-reexec</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl start node_exporter</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl <span class=\"built_in\">enable</span> node_exporter</span><br></pre></td></tr></table></figure>\n<p><br><br>http:&#x2F;&#x2F;IP:9100&#x2F;metrics<br></p>\n<h4 id=\"Prometheus\"><a href=\"#Prometheus\" class=\"headerlink\" title=\"Prometheus\"></a>Prometheus</h4><p>Prometheus</p>\n<figure class=\"highlight bash\"><figcaption><span>Ubuntu</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget https://github.com/prometheus/prometheus/releases/download/v2.50.0/prometheus-2.50.0.linux-amd64.tar.gz</span><br><span class=\"line\">tar xvf prometheus-2.50.0.linux-amd64.tar.gz <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">cd</span> prometheus-2.50.0.linux-amd64 </span><br><span class=\"line\"><span class=\"comment\"># .yml</span></span><br><span class=\"line\"></span><br><span class=\"line\">nano prometheus.yml <span class=\"comment\"># prometheus</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">global:</span>         <span class=\"comment\"># </span></span><br><span class=\"line\">  <span class=\"attr\">scrape_interval:</span> <span class=\"string\">15s</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">scrape_configs:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">job_name:</span> <span class=\"string\">&#x27;node_exporter&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">static_configs:</span> <span class=\"comment\">#  </span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">targets:</span> [<span class=\"string\">&#x27;localhost:9100&#x27;</span>] </span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">job_name:</span> <span class=\"string\">&#x27;website_http_check&#x27;</span></span><br><span class=\"line\">    <span class=\"attr\">metrics_path:</span> <span class=\"string\">/probe</span></span><br><span class=\"line\">    <span class=\"attr\">params:</span></span><br><span class=\"line\">      <span class=\"attr\">module:</span> [<span class=\"string\">http_2xx</span>]</span><br><span class=\"line\">    <span class=\"attr\">static_configs:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">targets:</span></span><br><span class=\"line\">          <span class=\"bullet\">-</span> <span class=\"string\">http://IP</span>  <span class=\"comment\"># grafana</span></span><br><span class=\"line\">          <span class=\"bullet\">-</span> <span class=\"string\">prometheus:9090</span></span><br><span class=\"line\">    <span class=\"attr\">relabel_configs:</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">source_labels:</span> [<span class=\"string\">__address__</span>]</span><br><span class=\"line\">        <span class=\"attr\">target_label:</span> <span class=\"string\">__param_target</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">source_labels:</span> [<span class=\"string\">__param_target</span>]</span><br><span class=\"line\">        <span class=\"attr\">target_label:</span> <span class=\"string\">instance</span></span><br><span class=\"line\">      <span class=\"bullet\">-</span> <span class=\"attr\">target_label:</span> <span class=\"string\">__address__</span></span><br><span class=\"line\">        <span class=\"attr\">replacement:</span> <span class=\"string\">localhost:9115</span>  <span class=\"comment\"># blackbox_exporter </span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"Blackbox-Exporter-\"><a href=\"#Blackbox-Exporter-\" class=\"headerlink\" title=\"Blackbox Exporter()\"></a>Blackbox Exporter()</h4><figure class=\"highlight bash\"><figcaption><span>Ubuntu</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget https://github.com/prometheus/blackbox_exporter/releases/download/v0.25.0/blackbox_exporter-0.25.0.linux-amd64.tar.gz</span><br><span class=\"line\">tar xvf blackbox_exporter-0.25.0.linux-amd64.tar.gz</span><br><span class=\"line\"><span class=\"built_in\">cd</span> blackbox_exporter-0.25.0.linux-amd64 </span><br><span class=\"line\">./blackbox_exporter     <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"comment\"># systemdnode_exporter</span></span><br></pre></td></tr></table></figure>\n\n<h4 id=\"prometheus\"><a href=\"#prometheus\" class=\"headerlink\" title=\"prometheus\"></a>prometheus</h4><figure class=\"highlight bash\"><figcaption><span>Ubuntu</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">./prometheus --config.file=prometheus.yml</span><br></pre></td></tr></table></figure>\n<p><br>http:&#x2F;&#x2F;IP:9090 Prometheus  Web </p>\n<h4 id=\"-Grafana\"><a href=\"#-Grafana\" class=\"headerlink\" title=\" Grafana\"></a> Grafana</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> apt-get install -y apt-transport-https software-properties-common</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"> </span><br><span class=\"line\"><span class=\"built_in\">sudo</span> apt-get install -y wget</span><br><span class=\"line\">wget -q -O - https://packages.grafana.com/gpg.key | <span class=\"built_in\">sudo</span> apt-key add -</span><br><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">&quot;deb https://packages.grafana.com/oss/deb stable main&quot;</span> | <span class=\"built_in\">sudo</span> <span class=\"built_in\">tee</span> /etc/apt/sources.list.d/grafana.list</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> apt-get update</span><br><span class=\"line\"><span class=\"comment\"># grafana</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> apt-get install grafana</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl start grafana-server</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl <span class=\"built_in\">enable</span> grafana-server</span><br><span class=\"line\"><span class=\"comment\"># grafana</span></span><br></pre></td></tr></table></figure>\n<p>grafana<br> http:&#x2F;&#x2F;IP:3000<br>admin<br>admin  </p>\n<h4 id=\"-Grafana\"><a href=\"#-Grafana\" class=\"headerlink\" title=\" Grafana\"></a> Grafana</h4><p> Prometheus <a class=\"link\"   href=\"http://localhost:9090/\" >http://localhost:9090<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a><br> Dashboard <br>Node Exporter ID 1860<br>Blackbox  ID 7587</p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"grafana\"><a href=\"#grafana\" class=\"headerlink\" title=\"grafana\"></a>grafana</h3><p>Grafana</p>\n<ol>\n<li>grafana&#x2F;opt&#x2F;bitnami&#x2F;grafana&#x2F;conf&#x2F;defaults.ini<br>                   &#x2F;usr&#x2F;share&#x2F;grafana&#x2F;conf&#x2F;defaults.ini</li>\n<li>default_languageen-USzh-Hansgrafana</li>\n<li></li>\n<li><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">systemctl restart grafana-server</span><br></pre></td></tr></table></figure></li>\n</ol>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h4 id=\"--Prometheus-\"><a href=\"#--Prometheus-\" class=\"headerlink\" title=\"  Prometheus \"></a>  Prometheus </h4><p>Prometheus  PromQL </p>\n<ol>\n<li><br> Prometheus  alert.rules <figure class=\"highlight bash\"><figcaption><span>Ubuntu</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nano /etc/prometheus/alert.rules </span><br><span class=\"line\"><span class=\"comment\"># prometheus/</span></span><br></pre></td></tr></table></figure></li>\n<li><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">groups:</span></span><br><span class=\"line\">  <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">node_alerts</span></span><br><span class=\"line\">    <span class=\"attr\">rules:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">alert:</span> <span class=\"string\">HighCPUUsage</span> </span><br><span class=\"line\">      <span class=\"attr\">expr:</span> <span class=\"number\">100</span> <span class=\"string\">*</span> <span class=\"string\">(1</span> <span class=\"bullet\">-</span> <span class=\"string\">avg</span> <span class=\"string\">by</span> <span class=\"string\">(instance)</span> <span class=\"string\">(rate(node_cpu_seconds_total&#123;mode=&quot;idle&quot;&#125;[1m])))</span> <span class=\"string\">&gt;</span> <span class=\"number\">80</span></span><br><span class=\"line\">      <span class=\"attr\">for:</span> <span class=\"string\">5m</span></span><br><span class=\"line\">      <span class=\"attr\">labels:</span></span><br><span class=\"line\">        <span class=\"attr\">severity:</span> <span class=\"string\">critical</span></span><br><span class=\"line\">      <span class=\"attr\">annotations:</span></span><br><span class=\"line\">        <span class=\"attr\">summary:</span> <span class=\"string\">&quot;CPU usage is above 80% on <span class=\"template-variable\">&#123;&#123; $labels.instance &#125;&#125;</span>&quot;</span></span><br><span class=\"line\">        <span class=\"attr\">description:</span> <span class=\"string\">&quot;CPU usage is above 80% for 5 minutes on <span class=\"template-variable\">&#123;&#123; $labels.instance &#125;&#125;</span>.&quot;</span></span><br><span class=\"line\">        </span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">alert:</span> <span class=\"string\">HighLoadAverage</span></span><br><span class=\"line\">      <span class=\"attr\">expr:</span> <span class=\"string\">node_load1</span> <span class=\"string\">&gt;</span> <span class=\"number\">2</span></span><br><span class=\"line\">      <span class=\"attr\">for:</span> <span class=\"string\">5m</span></span><br><span class=\"line\">      <span class=\"attr\">labels:</span></span><br><span class=\"line\">        <span class=\"attr\">severity:</span> <span class=\"string\">critical</span></span><br><span class=\"line\">      <span class=\"attr\">annotations:</span></span><br><span class=\"line\">        <span class=\"attr\">summary:</span> <span class=\"string\">&quot;High load average on <span class=\"template-variable\">&#123;&#123; $labels.instance &#125;&#125;</span>&quot;</span></span><br><span class=\"line\">        <span class=\"attr\">description:</span> <span class=\"string\">&quot;The 1-minute load average is above 2 on <span class=\"template-variable\">&#123;&#123; $labels.instance &#125;&#125;</span>.&quot;</span></span><br></pre></td></tr></table></figure>\nHighCPUUsage CPU  80%  5 <br>HighLoadAverage 1  2 </li>\n<li> Prometheus <br> Prometheus  prometheus.yml<figure class=\"highlight bash\"><figcaption><span>Ubuntu</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rule_files:</span><br><span class=\"line\">  - <span class=\"string\">&quot;/etc/prometheus/alert.rules&quot;</span></span><br></pre></td></tr></table></figure></li>\n<li> Prometheus</li>\n</ol>\n<p> Prometheus </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl restart prometheus</span><br></pre></td></tr></table></figure>\n<h4 id=\"-Grafana-\"><a href=\"#-Grafana-\" class=\"headerlink\" title=\" Grafana \"></a> Grafana </h4><p> Prometheus  Grafana </p>\n<ol>\n<li></li>\n</ol>\n<p> Grafana  Slack </p>\n<p><br>    1.\t Grafana UI Alerting &gt; Notification channels<br>    2.\t Add channel<br>    3.\t Email<br>    \tEmail Address<br>    \tSMTP SMTP  Gmail  SMTP</p>\n<p>&#x2F;Slack </p>\n<p> Slack  Webhook Webhook URL</p>\n<ol start=\"2\">\n<li></li>\n</ol>\n<p> Grafana  Dashboard<br>    1.\t Alert <br>    2.\t<br>    \t<br>    \t 5 <br>    3.\t Notifications  Email</p>\n<ol start=\"3\">\n<li></li>\n</ol>\n<p> Save Grafana </p>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li> Grafana  SMTP  smtp Gmail</li>\n</ol>\n<table>\n<thead>\n<tr>\n<th></th>\n<th> Gmail </th>\n</tr>\n</thead>\n<tbody><tr>\n<td>SMTP </td>\n<td>smtp.gmail.com</td>\n</tr>\n<tr>\n<td></td>\n<td>587 (TLS) &#x2F; 465 (SSL)</td>\n</tr>\n<tr>\n<td></td>\n<td><a class=\"link\"   href=\"mailto:&#121;&#111;&#x75;&#x72;&#110;&#97;&#109;&#101;&#64;&#103;&#109;&#x61;&#105;&#108;&#46;&#99;&#111;&#x6d;\" >&#121;&#111;&#x75;&#x72;&#110;&#97;&#109;&#101;&#64;&#103;&#109;&#x61;&#105;&#108;&#46;&#99;&#111;&#x6d;<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></td>\n</tr>\n<tr>\n<td></td>\n<td>Gmail </td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n</tr>\n</tbody></table>\n<ol>\n<li> Grafana  grafana.ini<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nano /etc/grafana/grafana.ini</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#################################### SMTP / Emailing ##########################</span></span><br><span class=\"line\">[smtp]</span><br><span class=\"line\">enabled = <span class=\"literal\">true</span></span><br><span class=\"line\">host = smtp.gmail.com:587</span><br><span class=\"line\">user = yourname@gmail.com</span><br><span class=\"line\">password = your_app_password   ; <span class=\"comment\"># Gmail </span></span><br><span class=\"line\">;cert_file =</span><br><span class=\"line\">;key_file =</span><br><span class=\"line\">skip_verify = <span class=\"literal\">false</span></span><br><span class=\"line\">from_address = yourname@gmail.com</span><br><span class=\"line\">from_name = Grafana Monitor</span><br><span class=\"line\"></span><br><span class=\"line\">[emails]</span><br><span class=\"line\">;welcome_email_on_sign_up = <span class=\"literal\">false</span></span><br></pre></td></tr></table></figure>\n QQ 163  host</li>\n<li>  Gmail <ol>\n<li>    Gmail </li>\n<li>    <a class=\"link\"   href=\"https://myaccount.google.com/security\" >https://myaccount.google.com/security<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a></li>\n<li>    </li>\n<li>    Grafana </li>\n<li>    password </li>\n</ol>\n</li>\n<li> Grafana <br> Grafana <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl restart grafana-server</span><br></pre></td></tr></table></figure></li>\n<li> Grafana <ol>\n<li>    Grafana   Alerting  Contact points</li>\n<li>    Email </li>\n<li>   </li>\n<li>    Send test notification </li>\n</ol>\n</li>\n</ol>\n<p> </p>\n<p> </p>\n<h2 id=\"Docker-\"><a href=\"#Docker-\" class=\"headerlink\" title=\"Docker \"></a>Docker </h2><p>docker  <strong>nginx-prometheus-exporter</strong> docker nginx <strong>stub_status</strong>  </p>\n<table>\n<thead>\n<tr>\n<th align=\"left\"></th>\n<th align=\"left\"></th>\n<th align=\"left\">Docker Hub</th>\n<th align=\"left\"></th>\n</tr>\n</thead>\n<tbody><tr>\n<td align=\"left\">Prometheus</td>\n<td align=\"left\"></td>\n<td align=\"left\">prom&#x2F;prometheus</td>\n<td align=\"left\"> nginx-exporternode-exporterblackbox-exporter</td>\n</tr>\n<tr>\n<td align=\"left\">Grafana</td>\n<td align=\"left\"></td>\n<td align=\"left\">grafana&#x2F;grafana</td>\n<td align=\"left\"> Prometheus </td>\n</tr>\n<tr>\n<td align=\"left\">nginx-prometheus-exporter</td>\n<td align=\"left\"> Nginx </td>\n<td align=\"left\">nginx&#x2F;nginx-prometheus-exporter</td>\n<td align=\"left\"> Nginx  stub_status</td>\n</tr>\n<tr>\n<td align=\"left\">node-exporter</td>\n<td align=\"left\"> CPU</td>\n<td align=\"left\">prom&#x2F;node-exporter</td>\n<td align=\"left\"></td>\n</tr>\n<tr>\n<td align=\"left\">blackbox-exporter</td>\n<td align=\"left\"> HTTP&#x2F;HTTPS </td>\n<td align=\"left\">prom&#x2F;blackbox-exporter</td>\n<td align=\"left\">SSL</td>\n</tr>\n<tr>\n<td align=\"left\">NginxWeb</td>\n<td align=\"left\">+</td>\n<td align=\"left\">nginx:latest</td>\n<td align=\"left\"></td>\n</tr>\n</tbody></table>\n<h3 id=\"Docker-Compose\"><a href=\"#Docker-Compose\" class=\"headerlink\" title=\"Docker Compose\"></a>Docker Compose</h3><ol>\n<li><p>Prometheus<br>docker-compose</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\">    <span class=\"attr\">prometheus:</span></span><br><span class=\"line\">      <span class=\"attr\">image:</span> <span class=\"string\">prom/prometheus</span></span><br><span class=\"line\">      <span class=\"attr\">container_name:</span> <span class=\"string\">prometheus</span></span><br><span class=\"line\">      <span class=\"attr\">ports:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">&quot;9090:9090&quot;</span></span><br><span class=\"line\">      <span class=\"attr\">volumes:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">&quot;./prometheus.yml:/etc/prometheus/prometheus.yml&quot;</span></span><br><span class=\"line\">      <span class=\"attr\">restart:</span> <span class=\"string\">always</span></span><br></pre></td></tr></table></figure></li>\n<li><p>Grafana<br>docker-compose</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\">    <span class=\"attr\">grafana:</span></span><br><span class=\"line\">      <span class=\"attr\">image:</span> <span class=\"string\">grafana/grafana</span></span><br><span class=\"line\">      <span class=\"attr\">container_name:</span> <span class=\"string\">grafana</span></span><br><span class=\"line\">      <span class=\"attr\">ports:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">&quot;3000:3000&quot;</span></span><br><span class=\"line\">      <span class=\"attr\">restart:</span> <span class=\"string\">always</span></span><br><span class=\"line\">      <span class=\"attr\">environment:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">GF_SERVER_ROOT_URL=https://yourServername/grafana/</span></span><br></pre></td></tr></table></figure></li>\n<li><p>nginx-prometheus-exporter <br>docker-compose</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">nginx-exporter:</span></span><br><span class=\"line\">      <span class=\"attr\">image:</span> <span class=\"string\">nginx/nginx-prometheus-exporter</span></span><br><span class=\"line\">      <span class=\"attr\">container_name:</span> <span class=\"string\">nginx-exporter</span></span><br><span class=\"line\">      <span class=\"attr\">ports:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">&quot;9113:9113&quot;</span></span><br><span class=\"line\">      <span class=\"attr\">command:</span></span><br><span class=\"line\"><span class=\"comment\">#        - nginx.scrape-uri=http://nginx/stub_status</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">&quot;--nginx.scrape-uri=https://yourServername/stub_status&quot;</span> <span class=\"comment\"># ssl http</span></span><br><span class=\"line\"><span class=\"comment\">#        - &quot;--nginx.ssl-verify=false&quot;</span></span><br><span class=\"line\">      <span class=\"attr\">depends_on:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">nginx</span></span><br><span class=\"line\">      <span class=\"attr\">restart:</span> <span class=\"string\">always</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>node-exporter <br>docker-compose</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\">   <span class=\"attr\">nodexport:</span></span><br><span class=\"line\">      <span class=\"attr\">image:</span> <span class=\"string\">prom/node-exporter</span></span><br><span class=\"line\">      <span class=\"attr\">container_name:</span> <span class=\"string\">exporter</span></span><br><span class=\"line\">      <span class=\"attr\">ports:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">&quot;9100:9100&quot;</span></span><br><span class=\"line\">      <span class=\"attr\">restart:</span> <span class=\"string\">always</span></span><br></pre></td></tr></table></figure></li>\n<li><p>blackbox-exporter <br>docker-compose</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">services:</span></span><br><span class=\"line\">    <span class=\"attr\">blackbox-exporter:</span></span><br><span class=\"line\">      <span class=\"attr\">image:</span> <span class=\"string\">prom/blackbox-exporter:latest</span></span><br><span class=\"line\">      <span class=\"attr\">container_name:</span> <span class=\"string\">blackbox-exporter</span></span><br><span class=\"line\">      <span class=\"attr\">ports:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">&quot;9115:9115&quot;</span></span><br><span class=\"line\">      <span class=\"attr\">restart:</span> <span class=\"string\">always</span></span><br></pre></td></tr></table></figure></li>\n</ol>\n","_processedHighlight":true},{"title":"DevOps CI/CD ","date":"2025-04-13T04:21:48.000Z","cover":"/images/cicd.png","_content":"\nDevOps CI/CD \n\n##  CI/CD \nCI/CD =  +  / \n      \n### CI/CD \n``` Plaintext\n   GitHub / GitLab\n           \n       CI \n      - \n      - \n      - \n           \n       CD  / \n      -  Docker \n      -  / \n      -  / Slack\n```\n### CI/CD \n|               |                    |                             |\n|-------------------|--------------------------|-----------------------------------------|\n| CI     | Continuous Integration    |  +                      |\n| CD     | Continuous Delivery       |         |\n| CD     | Continuous Deployment     |           |\n\n<p></p>\n\n``` Yaml\n# Gitlab CI  .gitlab-ci.yml\nstages:\n    - build\n    - test\n    - deploy\n\nbuild:\n    stage: build\n    script:\n        - npm install \n        - npm run build\n    artifacts:\n        path:\n            - dist/\n\ntest:\n    stage: test\n    script:\n        - npm test\n\ndeploy:\n    stage: deploy\n    script:\n        - docker build -t my-app .\n        - docker push myregistry.com/my-app\n        - ssh deploy@server 'docker pull my-app && docker restart my-app'\n```\n###   CI/CD \n|                   |                                  |                            |\n|-----------------------|--------------------------------------|------------------------------------|\n| GitHub Actions        | GitHub           |                             |\n| GitLab CI/CD          | GitLab  CI/CD           |                              |\n| Jenkins               |  CI/CD                  |          |\n| Gitea + Drone         |                           |                               |\n| CircleCI / Travis CI | GitHub                |                   |\n\n<p>  Vue  + </p>\n\n1.  GitHub\n2. GitHub Actions \n\t\n\tnpm run build\n\t Docker \n\t Docker Hub / \n\tSSH  /  K8s \n\t / \n\n \n### CI/CD \n|          |                                              |\n|--------------|--------------------------------------------------|\n|   |                     |\n|   |                          |\n|       |                       |\n|   |                   |\n|       |                        |\n\n## \nGitHub Actions\n1. \npush  GitHubFTP\n2. \n\n|                         |                            |                        |\n|-----------------------------|--------------------------------|----------------------------|\n| GitHub + GitHub Actions     |  +  CI/CD    |                  |\n| SSH + rsync                 |                |  FTP         |\n| Nginx                       |  Web   |          |\n\n###  Jenkins\n####  jenkis\n Jenkins \n|               |                    |              |              |\n|-------------------|--------------------------|----------------------------|------------|\n|     |     |      |    |\n|           |  Jenkins 24 |     |  8080  |\n#### MacJenkins\n1.  Homebrew  Jenkins\n```bash\nbrew install jenkins-lts # jenkins\n\nbrew services start jenkins-lts # jenkins\n```\n Jenkins  http://localhost:8080 \n2. \nUnlock Jenkins Jenkins\n Jenkins \n```bash\ncat /Users//.jenkins/secrets/initialAdminPassword\n# jenkins\n```\n Jenkins \n3. \n\n\t\tInstall suggested plugins \n\t\tSelect plugins to install\n  GitSSHPipeline \n \n4. \n\n\t\tUsername: \n\t\tPassword: \n\t\tFull name: \n\t\tEmail address: \nSave and Continue\n5.  Jenkins URL\nhttp://localhost:8080\nSave and Finish\n#### Pipeline\n1. jenkinsweb **Jenkins**\n  1. New Item\n  2. deploy-hexo-blog\n  3. Pipeline\n  4. \n2.  **Pipeline** \n Pipeline vscodeJenkinsfile\n\t1.\tPipeline script\n\t2.\tScript\n\n```groovy\npipeline {\n    agent any\n    environment {\n        DEPLOY_SERVER = 'ip'\n        DEPLOY_USER = 'root'    // \n        DEPLOY_PATH =  '/var/www/html'   // \n        SSH_CREDENTIALS_ID = 'ecs-ssh'   // \n        LOCAL_HEXO_DIR = '/Users/macos/Desktop/blog'  // ()\n    }\n    stages {\n        stage('public'){\n            steps {\n                sh \"\"\"\n                    cd ${env.LOCAL_HEXO_DIR}\n                    zip -r ../public.zip ./public\n                \"\"\"\n            }\n        }\n        stage('public'){\n            steps {\n                script {\n                    sshagent (credentials: [\"${env.SSH_CREDENTIALS_ID}\"]) {\n                        sh \"\"\"\n                            ssh ${DEPLOY_USER}@${DEPLOY_SERVER} 'cd ${DEPLOY_PATH} && rm -rf public'\n                        \"\"\"\n                    }\n                }\n            }\n        }\n        stage(''){\n            steps {\n                script {\n                    sshagent (credentials: [\"${env.SSH_CREDENTIALS_ID}\"]) {\n                        sh \"\"\"\n                            scp ${env.LOCAL_HEXO_DIR}/../public.zip ${DEPLOY_USER}@${DEPLOY_SERVER}:${DEPLOY_PATH}/\n                            ssh ${DEPLOY_USER}@${DEPLOY_SERVER} 'cd ${DEPLOY_PATH} && unzip -o public.zip && rm -f public.zip'\n                            ssh ${DEPLOY_USER}@${DEPLOY_SERVER} 'cd ${DEPLOY_PATH} && chmod -R 755 public'\n                        \"\"\"\n                    }\n                }\n            }\n        }\n    }\n}\n```\n3. \n#### \n1.\tBuild Now\n2.\tJenkins \n\tpublic\n\t SSH  ECS public\n\t\n3.\t  Console Output\n  Finished: SUCCESS \n#### \n **SSH_CREDENTIALS_ID** jenkins\n```ini\n[ssh-agent] Could not find specified credentials: ecs-ssh\n```\n Jenkins  ecs-ssh \n#####  SSH  ecs-ssh\n \n\t1.\t Jenkins \n\t2.\tCredentials\n\t\t\n\t\tManage JenkinsSecurityManage Credentials\n\t3.\t(global) \n\t4.\tAdd Credentials\n  SSH \n\n\n###  Github Actions\n#### \nworkflows \n``` bash\n/\n .github/\n    workflows/\n        deploy.yml       GitHub Actions \n    dependabot.yml      \n public/                  \n package.json / config.yml\n```\n####  GitHub Actions\n``` Yaml\nname: \n\non: \n   push:\n        branches:\n            - main  # master \n\njobs:\n    deploy:\n        runs-on: ubuntu-latest\n\n        steps:\n            - name: \n              uses: actions/checkout@v3\n\n            - name: Node.js \n              uses: actions/setup-node@v3\n              with:\n                node-version: 18       \n            \n            - name:  &  \n              run: |\n                npm install \n                npm install -g hexo-cli\n                npx hexo generate\n            #  node hexo\n\n            - name: \n              uses: easingthemes/ssh-deploy@v2.1.5\n              with:\n                SSH_PRIVATE_KEY: ${{ secrets.SERVER_SSH_KEY }}\n                REMOTE_USER: root   # \n                REMOTE_HOST: x.x.x.x    # IP\n                TARGET: /var/www/html   # nginx \n                SOURCE: public/         # \n                \n```\n####   SSH \n1. \n``` bash\nssh-keygen -t rsa -b 4096 -C \"you@example.com\"\n```\n2. \n``` bash\nssh-copy-id your_user@your.server.ip\n```\n /.ssh/id_rsa.pub\n``` bash\n~/.ssh/authorized_keys\n```\n3. ~/.ssh/id_rsa  GitHub \nGitHub  Settings  Secrets  Actions  New repository secret\nSERVER_SSH_KEY\n\n####  REMOTE_USERREMOTE_HOSTTARGET\n root IP  1.2.3.4 /var/www/html\n``` Yaml\nREMOTE_USER: root\nREMOTE_HOST: 1.2.3.4\nTARGET: /var/www/html\n```\n####  \n``` bash\ngit add .\ngit commit -m \"\"\ngit push origin main\n```\n  GitHub  Actions\n\n http:// your.server.ip \n \n``` Yaml\n- name: \n  run: ls -al public/ \n```\n","source":"_posts/CI-CD.md","raw":"---\ntitle: DevOps CI/CD \ndate: 2025-04-13 12:21:48\ncover: /images/cicd.png\n---\n\nDevOps CI/CD \n\n##  CI/CD \nCI/CD =  +  / \n      \n### CI/CD \n``` Plaintext\n   GitHub / GitLab\n           \n       CI \n      - \n      - \n      - \n           \n       CD  / \n      -  Docker \n      -  / \n      -  / Slack\n```\n### CI/CD \n|               |                    |                             |\n|-------------------|--------------------------|-----------------------------------------|\n| CI     | Continuous Integration    |  +                      |\n| CD     | Continuous Delivery       |         |\n| CD     | Continuous Deployment     |           |\n\n<p></p>\n\n``` Yaml\n# Gitlab CI  .gitlab-ci.yml\nstages:\n    - build\n    - test\n    - deploy\n\nbuild:\n    stage: build\n    script:\n        - npm install \n        - npm run build\n    artifacts:\n        path:\n            - dist/\n\ntest:\n    stage: test\n    script:\n        - npm test\n\ndeploy:\n    stage: deploy\n    script:\n        - docker build -t my-app .\n        - docker push myregistry.com/my-app\n        - ssh deploy@server 'docker pull my-app && docker restart my-app'\n```\n###   CI/CD \n|                   |                                  |                            |\n|-----------------------|--------------------------------------|------------------------------------|\n| GitHub Actions        | GitHub           |                             |\n| GitLab CI/CD          | GitLab  CI/CD           |                              |\n| Jenkins               |  CI/CD                  |          |\n| Gitea + Drone         |                           |                               |\n| CircleCI / Travis CI | GitHub                |                   |\n\n<p>  Vue  + </p>\n\n1.  GitHub\n2. GitHub Actions \n\t\n\tnpm run build\n\t Docker \n\t Docker Hub / \n\tSSH  /  K8s \n\t / \n\n \n### CI/CD \n|          |                                              |\n|--------------|--------------------------------------------------|\n|   |                     |\n|   |                          |\n|       |                       |\n|   |                   |\n|       |                        |\n\n## \nGitHub Actions\n1. \npush  GitHubFTP\n2. \n\n|                         |                            |                        |\n|-----------------------------|--------------------------------|----------------------------|\n| GitHub + GitHub Actions     |  +  CI/CD    |                  |\n| SSH + rsync                 |                |  FTP         |\n| Nginx                       |  Web   |          |\n\n###  Jenkins\n####  jenkis\n Jenkins \n|               |                    |              |              |\n|-------------------|--------------------------|----------------------------|------------|\n|     |     |      |    |\n|           |  Jenkins 24 |     |  8080  |\n#### MacJenkins\n1.  Homebrew  Jenkins\n```bash\nbrew install jenkins-lts # jenkins\n\nbrew services start jenkins-lts # jenkins\n```\n Jenkins  http://localhost:8080 \n2. \nUnlock Jenkins Jenkins\n Jenkins \n```bash\ncat /Users//.jenkins/secrets/initialAdminPassword\n# jenkins\n```\n Jenkins \n3. \n\n\t\tInstall suggested plugins \n\t\tSelect plugins to install\n  GitSSHPipeline \n \n4. \n\n\t\tUsername: \n\t\tPassword: \n\t\tFull name: \n\t\tEmail address: \nSave and Continue\n5.  Jenkins URL\nhttp://localhost:8080\nSave and Finish\n#### Pipeline\n1. jenkinsweb **Jenkins**\n  1. New Item\n  2. deploy-hexo-blog\n  3. Pipeline\n  4. \n2.  **Pipeline** \n Pipeline vscodeJenkinsfile\n\t1.\tPipeline script\n\t2.\tScript\n\n```groovy\npipeline {\n    agent any\n    environment {\n        DEPLOY_SERVER = 'ip'\n        DEPLOY_USER = 'root'    // \n        DEPLOY_PATH =  '/var/www/html'   // \n        SSH_CREDENTIALS_ID = 'ecs-ssh'   // \n        LOCAL_HEXO_DIR = '/Users/macos/Desktop/blog'  // ()\n    }\n    stages {\n        stage('public'){\n            steps {\n                sh \"\"\"\n                    cd ${env.LOCAL_HEXO_DIR}\n                    zip -r ../public.zip ./public\n                \"\"\"\n            }\n        }\n        stage('public'){\n            steps {\n                script {\n                    sshagent (credentials: [\"${env.SSH_CREDENTIALS_ID}\"]) {\n                        sh \"\"\"\n                            ssh ${DEPLOY_USER}@${DEPLOY_SERVER} 'cd ${DEPLOY_PATH} && rm -rf public'\n                        \"\"\"\n                    }\n                }\n            }\n        }\n        stage(''){\n            steps {\n                script {\n                    sshagent (credentials: [\"${env.SSH_CREDENTIALS_ID}\"]) {\n                        sh \"\"\"\n                            scp ${env.LOCAL_HEXO_DIR}/../public.zip ${DEPLOY_USER}@${DEPLOY_SERVER}:${DEPLOY_PATH}/\n                            ssh ${DEPLOY_USER}@${DEPLOY_SERVER} 'cd ${DEPLOY_PATH} && unzip -o public.zip && rm -f public.zip'\n                            ssh ${DEPLOY_USER}@${DEPLOY_SERVER} 'cd ${DEPLOY_PATH} && chmod -R 755 public'\n                        \"\"\"\n                    }\n                }\n            }\n        }\n    }\n}\n```\n3. \n#### \n1.\tBuild Now\n2.\tJenkins \n\tpublic\n\t SSH  ECS public\n\t\n3.\t  Console Output\n  Finished: SUCCESS \n#### \n **SSH_CREDENTIALS_ID** jenkins\n```ini\n[ssh-agent] Could not find specified credentials: ecs-ssh\n```\n Jenkins  ecs-ssh \n#####  SSH  ecs-ssh\n \n\t1.\t Jenkins \n\t2.\tCredentials\n\t\t\n\t\tManage JenkinsSecurityManage Credentials\n\t3.\t(global) \n\t4.\tAdd Credentials\n  SSH \n\n\n###  Github Actions\n#### \nworkflows \n``` bash\n/\n .github/\n    workflows/\n        deploy.yml       GitHub Actions \n    dependabot.yml      \n public/                  \n package.json / config.yml\n```\n####  GitHub Actions\n``` Yaml\nname: \n\non: \n   push:\n        branches:\n            - main  # master \n\njobs:\n    deploy:\n        runs-on: ubuntu-latest\n\n        steps:\n            - name: \n              uses: actions/checkout@v3\n\n            - name: Node.js \n              uses: actions/setup-node@v3\n              with:\n                node-version: 18       \n            \n            - name:  &  \n              run: |\n                npm install \n                npm install -g hexo-cli\n                npx hexo generate\n            #  node hexo\n\n            - name: \n              uses: easingthemes/ssh-deploy@v2.1.5\n              with:\n                SSH_PRIVATE_KEY: ${{ secrets.SERVER_SSH_KEY }}\n                REMOTE_USER: root   # \n                REMOTE_HOST: x.x.x.x    # IP\n                TARGET: /var/www/html   # nginx \n                SOURCE: public/         # \n                \n```\n####   SSH \n1. \n``` bash\nssh-keygen -t rsa -b 4096 -C \"you@example.com\"\n```\n2. \n``` bash\nssh-copy-id your_user@your.server.ip\n```\n /.ssh/id_rsa.pub\n``` bash\n~/.ssh/authorized_keys\n```\n3. ~/.ssh/id_rsa  GitHub \nGitHub  Settings  Secrets  Actions  New repository secret\nSERVER_SSH_KEY\n\n####  REMOTE_USERREMOTE_HOSTTARGET\n root IP  1.2.3.4 /var/www/html\n``` Yaml\nREMOTE_USER: root\nREMOTE_HOST: 1.2.3.4\nTARGET: /var/www/html\n```\n####  \n``` bash\ngit add .\ngit commit -m \"\"\ngit push origin main\n```\n  GitHub  Actions\n\n http:// your.server.ip \n \n``` Yaml\n- name: \n  run: ls -al public/ \n```\n","slug":"CI-CD","published":1,"updated":"2025-05-05T10:07:56.276Z","_id":"cm9f552zo0000ho0z9b122czj","comments":1,"layout":"post","photos":[],"content":"<p>DevOps CI&#x2F;CD </p>\n<h2 id=\"-CI-CD-\"><a href=\"#-CI-CD-\" class=\"headerlink\" title=\" CI&#x2F;CD \"></a> CI&#x2F;CD </h2><p>CI&#x2F;CD &#x3D;  +  &#x2F; <br>      </p>\n<h3 id=\"CI-CD-\"><a href=\"#CI-CD-\" class=\"headerlink\" title=\"CI&#x2F;CD \"></a>CI&#x2F;CD </h3><div class=\"code-container\" data-rel=\"Plaintext\"><figure class=\"iseeu highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">   GitHub / GitLab</span><br><span class=\"line\">           </span><br><span class=\"line\">       CI </span><br><span class=\"line\">      - </span><br><span class=\"line\">      - </span><br><span class=\"line\">      - </span><br><span class=\"line\">           </span><br><span class=\"line\">       CD  / </span><br><span class=\"line\">      -  Docker </span><br><span class=\"line\">      -  / </span><br><span class=\"line\">      -  / Slack</span><br></pre></td></tr></table></figure></div>\n<h3 id=\"CI-CD-\"><a href=\"#CI-CD-\" class=\"headerlink\" title=\"CI&#x2F;CD \"></a>CI&#x2F;CD </h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>CI</td>\n<td>Continuous Integration</td>\n<td> + </td>\n</tr>\n<tr>\n<td>CD</td>\n<td>Continuous Delivery</td>\n<td></td>\n</tr>\n<tr>\n<td>CD</td>\n<td>Continuous Deployment</td>\n<td></td>\n</tr>\n</tbody></table>\n<p></p>\n\n<div class=\"code-container\" data-rel=\"Yaml\"><figure class=\"iseeu highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Gitlab CI  .gitlab-ci.yml</span></span><br><span class=\"line\"><span class=\"attr\">stages:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">build</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">test</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">deploy</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">build:</span></span><br><span class=\"line\">    <span class=\"attr\">stage:</span> <span class=\"string\">build</span></span><br><span class=\"line\">    <span class=\"attr\">script:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">npm</span> <span class=\"string\">install</span> </span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">npm</span> <span class=\"string\">run</span> <span class=\"string\">build</span></span><br><span class=\"line\">    <span class=\"attr\">artifacts:</span></span><br><span class=\"line\">        <span class=\"attr\">path:</span></span><br><span class=\"line\">            <span class=\"bullet\">-</span> <span class=\"string\">dist/</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">test:</span></span><br><span class=\"line\">    <span class=\"attr\">stage:</span> <span class=\"string\">test</span></span><br><span class=\"line\">    <span class=\"attr\">script:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">npm</span> <span class=\"string\">test</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">deploy:</span></span><br><span class=\"line\">    <span class=\"attr\">stage:</span> <span class=\"string\">deploy</span></span><br><span class=\"line\">    <span class=\"attr\">script:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">docker</span> <span class=\"string\">build</span> <span class=\"string\">-t</span> <span class=\"string\">my-app</span> <span class=\"string\">.</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">docker</span> <span class=\"string\">push</span> <span class=\"string\">myregistry.com/my-app</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">ssh</span> <span class=\"string\">deploy@server</span> <span class=\"string\">&#x27;docker pull my-app &amp;&amp; docker restart my-app&#x27;</span></span><br></pre></td></tr></table></figure></div>\n<h3 id=\"--CI-CD-\"><a href=\"#--CI-CD-\" class=\"headerlink\" title=\"  CI&#x2F;CD \"></a>  CI&#x2F;CD </h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>GitHub Actions</td>\n<td>GitHub </td>\n<td></td>\n</tr>\n<tr>\n<td>GitLab CI&#x2F;CD</td>\n<td>GitLab  CI&#x2F;CD</td>\n<td></td>\n</tr>\n<tr>\n<td>Jenkins</td>\n<td> CI&#x2F;CD </td>\n<td></td>\n</tr>\n<tr>\n<td>Gitea + Drone</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>CircleCI &#x2F; Travis CI</td>\n<td>GitHub </td>\n<td></td>\n</tr>\n</tbody></table>\n<p>  Vue  + </p>\n\n<ol>\n<li> GitHub</li>\n<li>GitHub Actions <br>\t<br>\tnpm run build<br>\t Docker <br>\t Docker Hub &#x2F; <br>\tSSH  &#x2F;  K8s <br>\t &#x2F; </li>\n</ol>\n<p> </p>\n<h3 id=\"CI-CD-\"><a href=\"#CI-CD-\" class=\"headerlink\" title=\"CI&#x2F;CD \"></a>CI&#x2F;CD </h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td> </td>\n<td></td>\n</tr>\n<tr>\n<td> </td>\n<td></td>\n</tr>\n<tr>\n<td> </td>\n<td></td>\n</tr>\n<tr>\n<td> </td>\n<td></td>\n</tr>\n<tr>\n<td> </td>\n<td></td>\n</tr>\n</tbody></table>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>GitHub Actions</p>\n<ol>\n<li><br>push  GitHubFTP</li>\n<li></li>\n</ol>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>GitHub + GitHub Actions</td>\n<td> +  CI&#x2F;CD </td>\n<td></td>\n</tr>\n<tr>\n<td>SSH + rsync</td>\n<td></td>\n<td> FTP</td>\n</tr>\n<tr>\n<td>Nginx</td>\n<td> Web </td>\n<td></td>\n</tr>\n</tbody></table>\n<h3 id=\"-Jenkins\"><a href=\"#-Jenkins\" class=\"headerlink\" title=\" Jenkins\"></a> Jenkins</h3><h4 id=\"-jenkis\"><a href=\"#-jenkis\" class=\"headerlink\" title=\" jenkis\"></a> jenkis</h4><p> Jenkins </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td> </td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td> </td>\n<td> Jenkins 24</td>\n<td></td>\n<td> 8080 </td>\n</tr>\n</tbody></table>\n<h4 id=\"MacJenkins\"><a href=\"#MacJenkins\" class=\"headerlink\" title=\"MacJenkins\"></a>MacJenkins</h4><ol>\n<li> Homebrew  Jenkins<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install jenkins-lts <span class=\"comment\"># jenkins</span></span><br><span class=\"line\"></span><br><span class=\"line\">brew services start jenkins-lts <span class=\"comment\"># jenkins</span></span><br></pre></td></tr></table></figure></div>\n Jenkins  <a class=\"link\"   href=\"http://localhost:8080/\" >http://localhost:8080<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a> </li>\n<li><br>Unlock Jenkins Jenkins<br> Jenkins <div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cat</span> /Users//.jenkins/secrets/initialAdminPassword</span><br><span class=\"line\"><span class=\"comment\"># jenkins</span></span><br></pre></td></tr></table></figure></div>\n Jenkins </li>\n<li><br><br> \tInstall suggested plugins <br> \tSelect plugins to install<br>  GitSSHPipeline <br> </li>\n<li><br><br> \tUsername: <br> \tPassword: <br> \tFull name: <br> \tEmail address: <br>Save and Continue</li>\n<li> Jenkins URL<br><a class=\"link\"   href=\"http://localhost:8080/\" >http://localhost:8080<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a><br>Save and Finish</li>\n</ol>\n<h4 id=\"Pipeline\"><a href=\"#Pipeline\" class=\"headerlink\" title=\"Pipeline\"></a>Pipeline</h4><ol>\n<li>jenkinsweb <strong>Jenkins</strong></li>\n<li>New Item</li>\n<li>deploy-hexo-blog</li>\n<li>Pipeline</li>\n<li></li>\n<li> <strong>Pipeline</strong> <br> Pipeline vscodeJenkinsfile<ol>\n<li>   Pipeline script</li>\n<li>   Script</li>\n</ol>\n</li>\n</ol>\n<div class=\"code-container\" data-rel=\"Groovy\"><figure class=\"iseeu highlight groovy\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pipeline &#123;</span><br><span class=\"line\">    agent any</span><br><span class=\"line\">    environment &#123;</span><br><span class=\"line\">        DEPLOY_SERVER = <span class=\"string\">&#x27;ip&#x27;</span></span><br><span class=\"line\">        DEPLOY_USER = <span class=\"string\">&#x27;root&#x27;</span>    <span class=\"comment\">// </span></span><br><span class=\"line\">        DEPLOY_PATH =  <span class=\"string\">&#x27;/var/www/html&#x27;</span>   <span class=\"comment\">// </span></span><br><span class=\"line\">        SSH_CREDENTIALS_ID = <span class=\"string\">&#x27;ecs-ssh&#x27;</span>   <span class=\"comment\">// </span></span><br><span class=\"line\">        LOCAL_HEXO_DIR = <span class=\"string\">&#x27;/Users/macos/Desktop/blog&#x27;</span>  <span class=\"comment\">// ()</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    stages &#123;</span><br><span class=\"line\">        stage(<span class=\"string\">&#x27;public&#x27;</span>)&#123;</span><br><span class=\"line\">            steps &#123;</span><br><span class=\"line\">                sh <span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">                    cd $&#123;env.LOCAL_HEXO_DIR&#125;</span></span><br><span class=\"line\"><span class=\"string\">                    zip -r ../public.zip ./public</span></span><br><span class=\"line\"><span class=\"string\">                &quot;&quot;&quot;</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        stage(<span class=\"string\">&#x27;public&#x27;</span>)&#123;</span><br><span class=\"line\">            steps &#123;</span><br><span class=\"line\">                script &#123;</span><br><span class=\"line\">                    sshagent (<span class=\"attr\">credentials:</span> [<span class=\"string\">&quot;$&#123;env.SSH_CREDENTIALS_ID&#125;&quot;</span>]) &#123;</span><br><span class=\"line\">                        sh <span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">                            ssh $&#123;DEPLOY_USER&#125;@$&#123;DEPLOY_SERVER&#125; &#x27;cd $&#123;DEPLOY_PATH&#125; &amp;&amp; rm -rf public&#x27;</span></span><br><span class=\"line\"><span class=\"string\">                        &quot;&quot;&quot;</span></span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        stage(<span class=\"string\">&#x27;&#x27;</span>)&#123;</span><br><span class=\"line\">            steps &#123;</span><br><span class=\"line\">                script &#123;</span><br><span class=\"line\">                    sshagent (<span class=\"attr\">credentials:</span> [<span class=\"string\">&quot;$&#123;env.SSH_CREDENTIALS_ID&#125;&quot;</span>]) &#123;</span><br><span class=\"line\">                        sh <span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">                            scp $&#123;env.LOCAL_HEXO_DIR&#125;/../public.zip $&#123;DEPLOY_USER&#125;@$&#123;DEPLOY_SERVER&#125;:$&#123;DEPLOY_PATH&#125;/</span></span><br><span class=\"line\"><span class=\"string\">                            ssh $&#123;DEPLOY_USER&#125;@$&#123;DEPLOY_SERVER&#125; &#x27;cd $&#123;DEPLOY_PATH&#125; &amp;&amp; unzip -o public.zip &amp;&amp; rm -f public.zip&#x27;</span></span><br><span class=\"line\"><span class=\"string\">                            ssh $&#123;DEPLOY_USER&#125;@$&#123;DEPLOY_SERVER&#125; &#x27;cd $&#123;DEPLOY_PATH&#125; &amp;&amp; chmod -R 755 public&#x27;</span></span><br><span class=\"line\"><span class=\"string\">                        &quot;&quot;&quot;</span></span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure></div>\n<ol start=\"3\">\n<li></li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>   Build Now</li>\n<li>   Jenkins <br>\tpublic<br>\t SSH  ECS public<br>\t</li>\n<li>     Console Output<br>  Finished: SUCCESS </li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> <strong>SSH_CREDENTIALS_ID</strong> jenkins</p>\n<div class=\"code-container\" data-rel=\"Ini\"><figure class=\"iseeu highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">[ssh-agent]</span> Could not find specified credentials: ecs-ssh</span><br></pre></td></tr></table></figure></div>\n<p> Jenkins  ecs-ssh </p>\n<h5 id=\"-SSH--ecs-ssh\"><a href=\"#-SSH--ecs-ssh\" class=\"headerlink\" title=\" SSH  ecs-ssh\"></a> SSH  ecs-ssh</h5><p> <br>    1.\t Jenkins <br>    2.\tCredentials<br>    \t<br>    \tManage JenkinsSecurityManage Credentials<br>    3.\t(global) <br>    4.\tAdd Credentials<br>  SSH </p>\n<h3 id=\"-Github-Actions\"><a href=\"#-Github-Actions\" class=\"headerlink\" title=\" Github Actions\"></a> Github Actions</h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>workflows </p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/</span><br><span class=\"line\"> .github/</span><br><span class=\"line\">    workflows/</span><br><span class=\"line\">        deploy.yml       GitHub Actions </span><br><span class=\"line\">    dependabot.yml      </span><br><span class=\"line\"> public/                  </span><br><span class=\"line\"> package.json / config.yml</span><br></pre></td></tr></table></figure></div>\n<h4 id=\"GitHub-Actions\"><a href=\"#GitHub-Actions\" class=\"headerlink\" title=\"GitHub Actions\"></a>GitHub Actions</h4><div class=\"code-container\" data-rel=\"Yaml\"><figure class=\"iseeu highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">name:</span> <span class=\"string\"></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">on:</span> </span><br><span class=\"line\">   <span class=\"attr\">push:</span></span><br><span class=\"line\">        <span class=\"attr\">branches:</span></span><br><span class=\"line\">            <span class=\"bullet\">-</span> <span class=\"string\">main</span>  <span class=\"comment\"># master </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">jobs:</span></span><br><span class=\"line\">    <span class=\"attr\">deploy:</span></span><br><span class=\"line\">        <span class=\"attr\">runs-on:</span> <span class=\"string\">ubuntu-latest</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"attr\">steps:</span></span><br><span class=\"line\">            <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\"></span></span><br><span class=\"line\">              <span class=\"attr\">uses:</span> <span class=\"string\">actions/checkout@v3</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Node.js</span> </span><br><span class=\"line\">              <span class=\"attr\">uses:</span> <span class=\"string\">actions/setup-node@v3</span></span><br><span class=\"line\">              <span class=\"attr\">with:</span></span><br><span class=\"line\">                <span class=\"attr\">node-version:</span> <span class=\"number\">18</span>       </span><br><span class=\"line\">            </span><br><span class=\"line\">            <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\"></span> <span class=\"string\">&amp;</span> <span class=\"string\"></span> </span><br><span class=\"line\">              <span class=\"attr\">run:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">                npm install </span></span><br><span class=\"line\"><span class=\"string\">                npm install -g hexo-cli</span></span><br><span class=\"line\"><span class=\"string\">                npx hexo generate</span></span><br><span class=\"line\"><span class=\"string\"></span>            <span class=\"comment\">#  node hexo</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\"></span></span><br><span class=\"line\">              <span class=\"attr\">uses:</span> <span class=\"string\">easingthemes/ssh-deploy@v2.1.5</span></span><br><span class=\"line\">              <span class=\"attr\">with:</span></span><br><span class=\"line\">                <span class=\"attr\">SSH_PRIVATE_KEY:</span> <span class=\"string\">$&#123;&#123;</span> <span class=\"string\">secrets.SERVER_SSH_KEY</span> <span class=\"string\">&#125;&#125;</span></span><br><span class=\"line\">                <span class=\"attr\">REMOTE_USER:</span> <span class=\"string\">root</span>   <span class=\"comment\"># </span></span><br><span class=\"line\">                <span class=\"attr\">REMOTE_HOST:</span> <span class=\"string\">x.x.x.x</span>    <span class=\"comment\"># IP</span></span><br><span class=\"line\">                <span class=\"attr\">TARGET:</span> <span class=\"string\">/var/www/html</span>   <span class=\"comment\"># nginx </span></span><br><span class=\"line\">                <span class=\"attr\">SOURCE:</span> <span class=\"string\">public/</span>         <span class=\"comment\"># </span></span><br><span class=\"line\">                </span><br></pre></td></tr></table></figure></div>\n<h4 id=\"-SSH-\"><a href=\"#-SSH-\" class=\"headerlink\" title=\" SSH \"></a> SSH </h4><ol>\n<li><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh-keygen -t rsa -b 4096 -C <span class=\"string\">&quot;you@example.com&quot;</span></span><br></pre></td></tr></table></figure></div></li>\n<li><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh-copy-id your_user@your.server.ip</span><br></pre></td></tr></table></figure></div>\n &#x2F;.ssh&#x2F;id_rsa.pub<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure></div></li>\n<li>~&#x2F;.ssh&#x2F;id_rsa  GitHub <br>GitHub  Settings  Secrets  Actions  New repository secret<br>SERVER_SSH_KEY<br></li>\n</ol>\n<h4 id=\"-REMOTE-USERREMOTE-HOSTTARGET\"><a href=\"#-REMOTE-USERREMOTE-HOSTTARGET\" class=\"headerlink\" title=\" REMOTE_USERREMOTE_HOSTTARGET\"></a> REMOTE_USERREMOTE_HOSTTARGET</h4><p> root IP  1.2.3.4 &#x2F;var&#x2F;www&#x2F;html</p>\n<div class=\"code-container\" data-rel=\"Yaml\"><figure class=\"iseeu highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">REMOTE_USER:</span> <span class=\"string\">root</span></span><br><span class=\"line\"><span class=\"attr\">REMOTE_HOST:</span> <span class=\"number\">1.2</span><span class=\"number\">.3</span><span class=\"number\">.4</span></span><br><span class=\"line\"><span class=\"attr\">TARGET:</span> <span class=\"string\">/var/www/html</span></span><br></pre></td></tr></table></figure></div>\n<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h4><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git add .</span><br><span class=\"line\">git commit -m <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">git push origin main</span><br></pre></td></tr></table></figure></div>\n<p>  GitHub  Actions</p>\n<p> http:&#x2F;&#x2F; your.server.ip <br> </p>\n<div class=\"code-container\" data-rel=\"Yaml\"><figure class=\"iseeu highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\"></span></span><br><span class=\"line\">  <span class=\"attr\">run:</span> <span class=\"string\">ls</span> <span class=\"string\">-al</span> <span class=\"string\">public/</span> </span><br></pre></td></tr></table></figure></div>\n","excerpt":"","more":"<p>DevOps CI&#x2F;CD </p>\n<h2 id=\"-CI-CD-\"><a href=\"#-CI-CD-\" class=\"headerlink\" title=\" CI&#x2F;CD \"></a> CI&#x2F;CD </h2><p>CI&#x2F;CD &#x3D;  +  &#x2F; <br>      </p>\n<h3 id=\"CI-CD-\"><a href=\"#CI-CD-\" class=\"headerlink\" title=\"CI&#x2F;CD \"></a>CI&#x2F;CD </h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">   GitHub / GitLab</span><br><span class=\"line\">           </span><br><span class=\"line\">       CI </span><br><span class=\"line\">      - </span><br><span class=\"line\">      - </span><br><span class=\"line\">      - </span><br><span class=\"line\">           </span><br><span class=\"line\">       CD  / </span><br><span class=\"line\">      -  Docker </span><br><span class=\"line\">      -  / </span><br><span class=\"line\">      -  / Slack</span><br></pre></td></tr></table></figure>\n<h3 id=\"CI-CD-\"><a href=\"#CI-CD-\" class=\"headerlink\" title=\"CI&#x2F;CD \"></a>CI&#x2F;CD </h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>CI</td>\n<td>Continuous Integration</td>\n<td> + </td>\n</tr>\n<tr>\n<td>CD</td>\n<td>Continuous Delivery</td>\n<td></td>\n</tr>\n<tr>\n<td>CD</td>\n<td>Continuous Deployment</td>\n<td></td>\n</tr>\n</tbody></table>\n<p></p>\n\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Gitlab CI  .gitlab-ci.yml</span></span><br><span class=\"line\"><span class=\"attr\">stages:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">build</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">test</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">deploy</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">build:</span></span><br><span class=\"line\">    <span class=\"attr\">stage:</span> <span class=\"string\">build</span></span><br><span class=\"line\">    <span class=\"attr\">script:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">npm</span> <span class=\"string\">install</span> </span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">npm</span> <span class=\"string\">run</span> <span class=\"string\">build</span></span><br><span class=\"line\">    <span class=\"attr\">artifacts:</span></span><br><span class=\"line\">        <span class=\"attr\">path:</span></span><br><span class=\"line\">            <span class=\"bullet\">-</span> <span class=\"string\">dist/</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">test:</span></span><br><span class=\"line\">    <span class=\"attr\">stage:</span> <span class=\"string\">test</span></span><br><span class=\"line\">    <span class=\"attr\">script:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">npm</span> <span class=\"string\">test</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">deploy:</span></span><br><span class=\"line\">    <span class=\"attr\">stage:</span> <span class=\"string\">deploy</span></span><br><span class=\"line\">    <span class=\"attr\">script:</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">docker</span> <span class=\"string\">build</span> <span class=\"string\">-t</span> <span class=\"string\">my-app</span> <span class=\"string\">.</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">docker</span> <span class=\"string\">push</span> <span class=\"string\">myregistry.com/my-app</span></span><br><span class=\"line\">        <span class=\"bullet\">-</span> <span class=\"string\">ssh</span> <span class=\"string\">deploy@server</span> <span class=\"string\">&#x27;docker pull my-app &amp;&amp; docker restart my-app&#x27;</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"--CI-CD-\"><a href=\"#--CI-CD-\" class=\"headerlink\" title=\"  CI&#x2F;CD \"></a>  CI&#x2F;CD </h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>GitHub Actions</td>\n<td>GitHub </td>\n<td></td>\n</tr>\n<tr>\n<td>GitLab CI&#x2F;CD</td>\n<td>GitLab  CI&#x2F;CD</td>\n<td></td>\n</tr>\n<tr>\n<td>Jenkins</td>\n<td> CI&#x2F;CD </td>\n<td></td>\n</tr>\n<tr>\n<td>Gitea + Drone</td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td>CircleCI &#x2F; Travis CI</td>\n<td>GitHub </td>\n<td></td>\n</tr>\n</tbody></table>\n<p>  Vue  + </p>\n\n<ol>\n<li> GitHub</li>\n<li>GitHub Actions <br>\t<br>\tnpm run build<br>\t Docker <br>\t Docker Hub &#x2F; <br>\tSSH  &#x2F;  K8s <br>\t &#x2F; </li>\n</ol>\n<p> </p>\n<h3 id=\"CI-CD-\"><a href=\"#CI-CD-\" class=\"headerlink\" title=\"CI&#x2F;CD \"></a>CI&#x2F;CD </h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td> </td>\n<td></td>\n</tr>\n<tr>\n<td> </td>\n<td></td>\n</tr>\n<tr>\n<td> </td>\n<td></td>\n</tr>\n<tr>\n<td> </td>\n<td></td>\n</tr>\n<tr>\n<td> </td>\n<td></td>\n</tr>\n</tbody></table>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>GitHub Actions</p>\n<ol>\n<li><br>push  GitHubFTP</li>\n<li></li>\n</ol>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>GitHub + GitHub Actions</td>\n<td> +  CI&#x2F;CD </td>\n<td></td>\n</tr>\n<tr>\n<td>SSH + rsync</td>\n<td></td>\n<td> FTP</td>\n</tr>\n<tr>\n<td>Nginx</td>\n<td> Web </td>\n<td></td>\n</tr>\n</tbody></table>\n<h3 id=\"-Jenkins\"><a href=\"#-Jenkins\" class=\"headerlink\" title=\" Jenkins\"></a> Jenkins</h3><h4 id=\"-jenkis\"><a href=\"#-jenkis\" class=\"headerlink\" title=\" jenkis\"></a> jenkis</h4><p> Jenkins </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td> </td>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td> </td>\n<td> Jenkins 24</td>\n<td></td>\n<td> 8080 </td>\n</tr>\n</tbody></table>\n<h4 id=\"MacJenkins\"><a href=\"#MacJenkins\" class=\"headerlink\" title=\"MacJenkins\"></a>MacJenkins</h4><ol>\n<li> Homebrew  Jenkins<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">brew install jenkins-lts <span class=\"comment\"># jenkins</span></span><br><span class=\"line\"></span><br><span class=\"line\">brew services start jenkins-lts <span class=\"comment\"># jenkins</span></span><br></pre></td></tr></table></figure>\n Jenkins  <a class=\"link\"   href=\"http://localhost:8080/\" >http://localhost:8080<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a> </li>\n<li><br>Unlock Jenkins Jenkins<br> Jenkins <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cat</span> /Users//.jenkins/secrets/initialAdminPassword</span><br><span class=\"line\"><span class=\"comment\"># jenkins</span></span><br></pre></td></tr></table></figure>\n Jenkins </li>\n<li><br><br> \tInstall suggested plugins <br> \tSelect plugins to install<br>  GitSSHPipeline <br> </li>\n<li><br><br> \tUsername: <br> \tPassword: <br> \tFull name: <br> \tEmail address: <br>Save and Continue</li>\n<li> Jenkins URL<br><a class=\"link\"   href=\"http://localhost:8080/\" >http://localhost:8080<i class=\"fa-solid fa-arrow-up-right ml-[0.2em] font-light align-text-top text-[0.7em] link-icon\"></i></a><br>Save and Finish</li>\n</ol>\n<h4 id=\"Pipeline\"><a href=\"#Pipeline\" class=\"headerlink\" title=\"Pipeline\"></a>Pipeline</h4><ol>\n<li>jenkinsweb <strong>Jenkins</strong></li>\n<li>New Item</li>\n<li>deploy-hexo-blog</li>\n<li>Pipeline</li>\n<li></li>\n<li> <strong>Pipeline</strong> <br> Pipeline vscodeJenkinsfile<ol>\n<li>   Pipeline script</li>\n<li>   Script</li>\n</ol>\n</li>\n</ol>\n<figure class=\"highlight groovy\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pipeline &#123;</span><br><span class=\"line\">    agent any</span><br><span class=\"line\">    environment &#123;</span><br><span class=\"line\">        DEPLOY_SERVER = <span class=\"string\">&#x27;ip&#x27;</span></span><br><span class=\"line\">        DEPLOY_USER = <span class=\"string\">&#x27;root&#x27;</span>    <span class=\"comment\">// </span></span><br><span class=\"line\">        DEPLOY_PATH =  <span class=\"string\">&#x27;/var/www/html&#x27;</span>   <span class=\"comment\">// </span></span><br><span class=\"line\">        SSH_CREDENTIALS_ID = <span class=\"string\">&#x27;ecs-ssh&#x27;</span>   <span class=\"comment\">// </span></span><br><span class=\"line\">        LOCAL_HEXO_DIR = <span class=\"string\">&#x27;/Users/macos/Desktop/blog&#x27;</span>  <span class=\"comment\">// ()</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    stages &#123;</span><br><span class=\"line\">        stage(<span class=\"string\">&#x27;public&#x27;</span>)&#123;</span><br><span class=\"line\">            steps &#123;</span><br><span class=\"line\">                sh <span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">                    cd $&#123;env.LOCAL_HEXO_DIR&#125;</span></span><br><span class=\"line\"><span class=\"string\">                    zip -r ../public.zip ./public</span></span><br><span class=\"line\"><span class=\"string\">                &quot;&quot;&quot;</span></span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        stage(<span class=\"string\">&#x27;public&#x27;</span>)&#123;</span><br><span class=\"line\">            steps &#123;</span><br><span class=\"line\">                script &#123;</span><br><span class=\"line\">                    sshagent (<span class=\"attr\">credentials:</span> [<span class=\"string\">&quot;$&#123;env.SSH_CREDENTIALS_ID&#125;&quot;</span>]) &#123;</span><br><span class=\"line\">                        sh <span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">                            ssh $&#123;DEPLOY_USER&#125;@$&#123;DEPLOY_SERVER&#125; &#x27;cd $&#123;DEPLOY_PATH&#125; &amp;&amp; rm -rf public&#x27;</span></span><br><span class=\"line\"><span class=\"string\">                        &quot;&quot;&quot;</span></span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        stage(<span class=\"string\">&#x27;&#x27;</span>)&#123;</span><br><span class=\"line\">            steps &#123;</span><br><span class=\"line\">                script &#123;</span><br><span class=\"line\">                    sshagent (<span class=\"attr\">credentials:</span> [<span class=\"string\">&quot;$&#123;env.SSH_CREDENTIALS_ID&#125;&quot;</span>]) &#123;</span><br><span class=\"line\">                        sh <span class=\"string\">&quot;&quot;&quot;</span></span><br><span class=\"line\"><span class=\"string\">                            scp $&#123;env.LOCAL_HEXO_DIR&#125;/../public.zip $&#123;DEPLOY_USER&#125;@$&#123;DEPLOY_SERVER&#125;:$&#123;DEPLOY_PATH&#125;/</span></span><br><span class=\"line\"><span class=\"string\">                            ssh $&#123;DEPLOY_USER&#125;@$&#123;DEPLOY_SERVER&#125; &#x27;cd $&#123;DEPLOY_PATH&#125; &amp;&amp; unzip -o public.zip &amp;&amp; rm -f public.zip&#x27;</span></span><br><span class=\"line\"><span class=\"string\">                            ssh $&#123;DEPLOY_USER&#125;@$&#123;DEPLOY_SERVER&#125; &#x27;cd $&#123;DEPLOY_PATH&#125; &amp;&amp; chmod -R 755 public&#x27;</span></span><br><span class=\"line\"><span class=\"string\">                        &quot;&quot;&quot;</span></span><br><span class=\"line\">                    &#125;</span><br><span class=\"line\">                &#125;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<ol start=\"3\">\n<li></li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><ol>\n<li>   Build Now</li>\n<li>   Jenkins <br>\tpublic<br>\t SSH  ECS public<br>\t</li>\n<li>     Console Output<br>  Finished: SUCCESS </li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p> <strong>SSH_CREDENTIALS_ID</strong> jenkins</p>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">[ssh-agent]</span> Could not find specified credentials: ecs-ssh</span><br></pre></td></tr></table></figure>\n<p> Jenkins  ecs-ssh </p>\n<h5 id=\"-SSH--ecs-ssh\"><a href=\"#-SSH--ecs-ssh\" class=\"headerlink\" title=\" SSH  ecs-ssh\"></a> SSH  ecs-ssh</h5><p> <br>    1.\t Jenkins <br>    2.\tCredentials<br>    \t<br>    \tManage JenkinsSecurityManage Credentials<br>    3.\t(global) <br>    4.\tAdd Credentials<br>  SSH </p>\n<h3 id=\"-Github-Actions\"><a href=\"#-Github-Actions\" class=\"headerlink\" title=\" Github Actions\"></a> Github Actions</h3><h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>workflows </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/</span><br><span class=\"line\"> .github/</span><br><span class=\"line\">    workflows/</span><br><span class=\"line\">        deploy.yml       GitHub Actions </span><br><span class=\"line\">    dependabot.yml      </span><br><span class=\"line\"> public/                  </span><br><span class=\"line\"> package.json / config.yml</span><br></pre></td></tr></table></figure>\n<h4 id=\"GitHub-Actions\"><a href=\"#GitHub-Actions\" class=\"headerlink\" title=\"GitHub Actions\"></a>GitHub Actions</h4><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">name:</span> <span class=\"string\"></span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">on:</span> </span><br><span class=\"line\">   <span class=\"attr\">push:</span></span><br><span class=\"line\">        <span class=\"attr\">branches:</span></span><br><span class=\"line\">            <span class=\"bullet\">-</span> <span class=\"string\">main</span>  <span class=\"comment\"># master </span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"attr\">jobs:</span></span><br><span class=\"line\">    <span class=\"attr\">deploy:</span></span><br><span class=\"line\">        <span class=\"attr\">runs-on:</span> <span class=\"string\">ubuntu-latest</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"attr\">steps:</span></span><br><span class=\"line\">            <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\"></span></span><br><span class=\"line\">              <span class=\"attr\">uses:</span> <span class=\"string\">actions/checkout@v3</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">Node.js</span> </span><br><span class=\"line\">              <span class=\"attr\">uses:</span> <span class=\"string\">actions/setup-node@v3</span></span><br><span class=\"line\">              <span class=\"attr\">with:</span></span><br><span class=\"line\">                <span class=\"attr\">node-version:</span> <span class=\"number\">18</span>       </span><br><span class=\"line\">            </span><br><span class=\"line\">            <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\"></span> <span class=\"string\">&amp;</span> <span class=\"string\"></span> </span><br><span class=\"line\">              <span class=\"attr\">run:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">                npm install </span></span><br><span class=\"line\"><span class=\"string\">                npm install -g hexo-cli</span></span><br><span class=\"line\"><span class=\"string\">                npx hexo generate</span></span><br><span class=\"line\"><span class=\"string\"></span>            <span class=\"comment\">#  node hexo</span></span><br><span class=\"line\"></span><br><span class=\"line\">            <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\"></span></span><br><span class=\"line\">              <span class=\"attr\">uses:</span> <span class=\"string\">easingthemes/ssh-deploy@v2.1.5</span></span><br><span class=\"line\">              <span class=\"attr\">with:</span></span><br><span class=\"line\">                <span class=\"attr\">SSH_PRIVATE_KEY:</span> <span class=\"string\">$&#123;&#123;</span> <span class=\"string\">secrets.SERVER_SSH_KEY</span> <span class=\"string\">&#125;&#125;</span></span><br><span class=\"line\">                <span class=\"attr\">REMOTE_USER:</span> <span class=\"string\">root</span>   <span class=\"comment\"># </span></span><br><span class=\"line\">                <span class=\"attr\">REMOTE_HOST:</span> <span class=\"string\">x.x.x.x</span>    <span class=\"comment\"># IP</span></span><br><span class=\"line\">                <span class=\"attr\">TARGET:</span> <span class=\"string\">/var/www/html</span>   <span class=\"comment\"># nginx </span></span><br><span class=\"line\">                <span class=\"attr\">SOURCE:</span> <span class=\"string\">public/</span>         <span class=\"comment\"># </span></span><br><span class=\"line\">                </span><br></pre></td></tr></table></figure>\n<h4 id=\"-SSH-\"><a href=\"#-SSH-\" class=\"headerlink\" title=\" SSH \"></a> SSH </h4><ol>\n<li><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh-keygen -t rsa -b 4096 -C <span class=\"string\">&quot;you@example.com&quot;</span></span><br></pre></td></tr></table></figure></li>\n<li><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ssh-copy-id your_user@your.server.ip</span><br></pre></td></tr></table></figure>\n &#x2F;.ssh&#x2F;id_rsa.pub<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">~/.ssh/authorized_keys</span><br></pre></td></tr></table></figure></li>\n<li>~&#x2F;.ssh&#x2F;id_rsa  GitHub <br>GitHub  Settings  Secrets  Actions  New repository secret<br>SERVER_SSH_KEY<br></li>\n</ol>\n<h4 id=\"-REMOTE-USERREMOTE-HOSTTARGET\"><a href=\"#-REMOTE-USERREMOTE-HOSTTARGET\" class=\"headerlink\" title=\" REMOTE_USERREMOTE_HOSTTARGET\"></a> REMOTE_USERREMOTE_HOSTTARGET</h4><p> root IP  1.2.3.4 &#x2F;var&#x2F;www&#x2F;html</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">REMOTE_USER:</span> <span class=\"string\">root</span></span><br><span class=\"line\"><span class=\"attr\">REMOTE_HOST:</span> <span class=\"number\">1.2</span><span class=\"number\">.3</span><span class=\"number\">.4</span></span><br><span class=\"line\"><span class=\"attr\">TARGET:</span> <span class=\"string\">/var/www/html</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git add .</span><br><span class=\"line\">git commit -m <span class=\"string\">&quot;&quot;</span></span><br><span class=\"line\">git push origin main</span><br></pre></td></tr></table></figure>\n<p>  GitHub  Actions</p>\n<p> http:&#x2F;&#x2F; your.server.ip <br> </p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\"></span></span><br><span class=\"line\">  <span class=\"attr\">run:</span> <span class=\"string\">ls</span> <span class=\"string\">-al</span> <span class=\"string\">public/</span> </span><br></pre></td></tr></table></figure>\n","_processedHighlight":true},{"title":"Kubernetes / K8s","date":"2025-04-13T07:19:50.000Z","cover":"/images/k8s.png","_content":"## \nKubernetes K8s Google \n\n____\n\nK8s \n\n### \n1.  Kubernetes \n   \n|                   |   |\n|---------------------------|-------|\n| Linux             |     |\n| Dockerrunvolume |     |\n| CI/CD             |     |\n| NginxWeb        |     |\n| YAML              |     |\n\n  2 \n\n|      |                                                          |\n|--------------|------------------------------------------------------------------|\n| Pod          | 1~n                                |\n| Node         |                                       |\n| Deployment   |  Pod                      |\n| Service      | ClusterIP / NodePort                 |\n| Namespace    |  Git                                    |\n\n  K8s\n\n|                |                                                     |\n|--------------------|-------------------------------------------------------------|\n|      | minikube   +                               |\n| Docker Desktop  K8s |  Mac                                        |\n|  kubectl  |  CLI                                              |\n|  Nginx       |  Deployment + Service                                   |\n|  |  HTML  nginx              |\n\n  +  + CI/CD \n\n|                  |                                                        |\n|------------------------|------------------------------------------------------------|\n| Helm                   | K8s   WordPress / Redis / MySQL     |\n| Ingress                | HTTP  blog.karen.com               |\n| ConfigMap + Secret     |  config                                 |\n| Kustomize              |                                              |\n| GitOps                 | CI/CD  K8sArgoCDFlux                      |\n| Prometheus + Grafana   |                                              |\n\n### Cluster \n1. Cluster\n = \n____\n____\n / K8s \n____\n     \n    \n        \t + \n        \t\n    Kubernetes \n        \t\n        \t 3  3 \n    \t\t\n\n2.  \n\n\t +  +\n\t\n\t\n\t\n\t\n\t\n\t\n\n  = \n  = Kubernetes \n\n3.  \n\n|                      |                                                          |\n|--------------------------|--------------------------------------------------------------|\n|  (Cluster)           |                               |\n|  (Node)              |                       |\n|  (Master)          | API                     |\n|  (Worker)        |  nginx /                    |\n#### k8s\n\n``` bash\n             [ Master  ]\n            \n               kube-scheduler\n              API Server\n              \n            \n                      \n       \n                                   \n [Worker Node1]   [Worker Node2]  [Worker Node3]\n   Pod: Nginx     Pod: Blog     Pod: Redis\n   Pod: Mongo     Pod: Hexo     Pod: \n```\n____\n\n|              |                           |\n|-----------------|--------------------------------------|\n|          | K8s(CDN+) |\n| SaaS      | + |\n|           |    \n\n#####  + K8s \n\n### k8s\n Docker  Web \n```bash\ndocker run -d -p 80:80 my-app\n```\n\n\t1.\t 10 \n\t2.\t\n\t3.\t\n\t4.\t\n\t5.\t\n  Kubernetes ****\n### \n\n|                     |                                                                  |\n|-------------------------|------------------------------------------------------------------------------|\n| Pod                     |  K8s   Pod     |\n| Node                    |  Pod                                      |\n| Cluster                 |  Node  K8s                                                   |\n| Deployment              |  Pod                              |\n| Service                 |  Pod                                |\n| Namespace               |                    |\n| Ingress                 |                                             |\n| Volume / PVC            |                                  |\n| ConfigMap / Secret      |                                      |\n| RBAC            |                                        |\n| Kubelet / Controller / Scheduler |  K8s      |\n\n### \n|                |                                                                  |\n|--------------------|--------------------------------------------------------------------------|\n|  (Image)       |  +  App                               |\n|  (Container)   |                                         |\n| Docker             | K8s  containerd                   |\n|            |  K8s                         |\n| YAML           | K8s  YAML                            |\n\n## K8s \n Kubernetes kubeadm  kubelet \n### \n##### \n|        | /                          |                                    |\n|--------------|---------------------------------------|----------------------------------------|\n|      | Ubuntu 20.04+ / CentOS 7+             |  LTS             |\n|      |  root   sudo        |               |\n|    | `hostnamectl set-hostname node1`      |                    |\n| hosts    |             |  `/etc/hosts`          |\n|      |  `chrony`  `ntp`    |           |\n\n##### \n|                        |                                                   |                                                   |\n|----------------------------|-------------------------------------------------------|-------------------------------------------------------|\n|  swap                  | `swapoff -a`  `/etc/fstab`  swap          | Kubernetes  swap                              |\n|      | `systemctl stop firewalld/ufw`                        |               |\n|  SELinuxCentOS     | `setenforce 0`  `/etc/selinux/config`          |  kubelet                                  |\n|  iptables              | `modprobe br_netfilter` +  sysctl            |                                   |\n\n```bash\ncat <<EOF | sudo tee /etc/modules-load.d/k8s.conf\nbr_netfilter\nEOF\n\ncat <<EOF | sudo tee /etc/sysctl.d/k8s.conf\nnet.bridge.bridge-nf-call-iptables  = 1\nnet.ipv4.ip_forward                 = 1\nnet.bridge.bridge-nf-call-ip6tables = 1\nEOF\n\nsysctl --system\n```\n##### \nk8s1.24docker containerd\n|          |                                                  |\n|--------------|------------------------------------------------------|\n| containerd  |                                    |\n| Docker      |  cri-dockerd                    |\n\n containerd\n```bash\nsudo apt install -y containerd\nsudo mkdir -p /etc/containerd\ncontainerd config default | sudo tee /etc/containerd/config.toml\nsudo systemctl restart containerd\n```\n#####  kubeadm / kubelet / kubectl\n K8s  + \n``` bash\nsudo apt update && sudo apt install -y apt-transport-https curl\n\ncurl -fsSL https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key add -\n\ncat <<EOF | sudo tee /etc/apt/sources.list.d/kubernetes.list\ndeb https://apt.kubernetes.io/ kubernetes-xenial main\nEOF\n\nsudo apt update\nsudo apt install -y kubelet kubeadm kubectl\nsudo apt-mark hold kubelet kubeadm kubectl\n```\n\n###  k8s\n\n\n\n\n### crictl  nerdctl\n crictl  nginx:latest \n nerdctl images \n** containerd  namespacek8s.io** nerdctl  moby namespace\n  nerdctl  namespace\n containerd \n```bash\nctr namespaces list\n```\n namespace\n```bash\nNAME     LABELS\ndefault\nk8s.io\nmoby\n```\n  k8s.io \n```bash\nnerdctl --namespace k8s.io images\n```\n \n nginx\n```bash\nnerdctl --namespace k8s.io save nginx:latest -o /tmp/nginx.tar\n```\n moby  namespace \n```bash\nnerdctl --namespace moby load -i /tmp/nginx.tar\n```\n  namespace\n nerdctl  k8s.io \n```bash\nexport CONTAINERD_NAMESPACE=k8s.io\n```\n .bashrc  .zshrc \n\n\n namespace \nctr namespaces list\nnerdctl  k8s \nnerdctl --namespace k8s.io images\n nginx \nnerdctl --namespace k8s.io save nginx -o nginx.tar\n\nnerdctl load -i nginx.tar\n\nnerdctl --namespace k8s.io images --digests\n\nnerdctl --namespace k8s.io image prune\n\n\n## K8S \n### \n31master+2node\n| IP              |        |      |  |       |\n|-----------------|--------------|----------|------|-----------|\n| 192.168.6.235   | k8s-master    | master   | 1    | 16C 32G   |\n| 192.168.7.75    | k8s-node1     | node     | 1    | 16C 32G   |\n| 192.168.7.76    | k8s-node2     | node     | 1    | 16C 32G   |\n\n###  K8S\n1.  yum\n\n```bash\nhostnamectl set-h^Ctname k8s-master\nhostnamectl set-h^Ctname k8s-node1\nhostnamectl set-h^Ctname k8s-node2\n# \nwget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-vault-8.5.2111.repo\n\n```\n2. hosts\n```ini\n192.168.6.235 k8s-master\n192.168.7.75 k8s-node1\n192.168.7.76 k8s-node2\n```\n3. \n```bash\n# \nsudo setenforce 0\n# \nsudo sed -i 's/^SELINUX=.*/SELINUX=disabled/' /etc/selinux/config\nsudo systemctl stop firewalld\nsudo systemctl disable firewalld\n```\n4. swap\n```bash\n# swap\nsudo swapoff -a\n# \nsudo sed -i '/swap/d' /etc/fstab\n# swap\nfree\n```\n5. \n\n```bash\nyum install  -y ipvsadm ipset sysstat conntrack libseccomp\n# dummy0kube-ipvs0k8sipvsserviceIPkube-ipvs0\ncat > /etc/sysconfig/modules/ipvs.modules <<EOF\n#!/bin/bash\nipvs_modules=\"ip_vs ip_vs_lc ip_vs_wlc ip_vs_rr ip_vs_wrr ip_vs_lblc ip_vs_lblcr ip_vs_dh ip_vs_sh ip_vs_fo ip_vs_nq ip_vs_sed ip_vs_ftp nf_conntrack ip_tables ip_set xt_set ipt_set ipt_rpfilter ipt_REJECT ipip \"\nfor kernel_module in \\${ipvs_modules}; do\n  /sbin/modinfo -F filename \\${kernel_module} > /dev/null 2>&1\n  if [ $? -eq 0 ]; then\n    /sbin/modprobe \\${kernel_module}\n  fi\ndone\nEOF\n\nchmod 755 /etc/sysconfig/modules/ipvs.modules \nsh /etc/sysconfig/modules/ipvs.modules \nlsmod | grep ip_vs\n\n#  IPv4  iptables \ncat <<EOF | sudo tee /etc/modules-load.d/k8s.conf\noverlay\nbr_netfilter\nEOF\n\nsudo modprobe overlay\nsudo modprobe br_netfilter\n\n#  sysctl \ncat <<EOF | sudo tee /etc/sysctl.d/k8s.conf\nnet.bridge.bridge-nf-call-iptables  = 1\nnet.bridge.bridge-nf-call-ip6tables = 1\nnet.ipv4.ip_forward                 = 1\nEOF\n\n#  sysctl \nsudo sysctl --system\n# \nlsmod | grep br_netfilter\nlsmod | grep overlay\n\n#  net.bridge.bridge-nf-call-iptablesnet.bridge.bridge-nf-call-ip6tables  net.ipv4.ip_forward  sysctl  1\nsysctl net.bridge.bridge-nf-call-iptables net.bridge.bridge-nf-call-ip6tables net.ipv4.ip_forward\n```\n6.  containerd\n```bash\n# \nyum install -y containerd\n\n# \nhttps://github.com/containerd/containerd/blob/main/docs/getting-started.md\n```\n7. containerdcgroup\n```bash\n# containerd\ncontainerd --version\n\n 1.6.32\n\n# aliyun\nmkdir /etc/containerd\ncontainerd config default > /etc/containerd/config.toml\nsed -i \"s#registry.k8s.io/pause:3.8#registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.9#g\"  /etc/containerd/config.toml\n\n# \nvim /etc/containerd/config.toml\n  [plugins.\"io.containerd.grpc.v1.cri\".registry.mirrors]\n    [plugins.\"io.containerd.grpc.v1.cri\".registry.mirrors.\"docker.io\"]\n      endpoint = [\"https://docker-mirror.h3d.com.cn\"]\n\n# cgroup\nvim /etc/containerd/config.toml\n[plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc.options]\n  SystemdCgroup = true\n```\n8. k8s\n\n```bash\ncat <<EOF > /etc/yum.repos.d/kubernetes.repo\n[kubernetes]\nname=Kubernetes\nbaseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64/\nenabled=1\ngpgcheck=1\nrepo_gpgcheck=1\ngpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg\nEOF\n```\n9. kubeletkubeadmkubectl()\n\n```bash\n# \nyum list kubelet --showduplicates |grep 1.28\n\n# \nyum install -y kubelet-1.28.2 kubeadm-1.28.2 kubectl-1.28.2 --disableexcludes=kubernetes\nsystemctl enable --now kubelet\n```\n10. crictl()\n\n```bash\n# crictl\ncat  <<EOF | sudo tee /etc/crictl.yaml\nruntime-endpoint: unix:///var/run/containerd/containerd.sock\ntimeout: 5\nimage-endpoint: unix:///var/run/containerd/containerd.sock\n\nEOF\n```\n11. (master)\n\n```bash\nkubeadm init --kubernetes-version=1.28.15 \\\n--apiserver-advertise-address=193.168.6.235  \\\n--image-repository  registry.aliyuncs.com/google_containers \\\n--pod-network-cidr=10.1.0.0/16\n--service-cidr=10.96.0.0/12\n```\n\n```bash\nYour Kubernetes control-plane has initialized successfully!\n\nTo start using your cluster, you need to run the following as a regular user:\n\n  mkdir -p $HOME/.kube\n  sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config\n  sudo chown $(id -u):$(id -g) $HOME/.kube/config\n\nAlternatively, if you are the root user, you can run:\n\n  export KUBECONFIG=/etc/kubernetes/admin.conf\n\nYou should now deploy a pod network to the cluster.\nRun \"kubectl apply -f [podnetwork].yaml\" with one of the options listed at:\n  https://kubernetes.io/docs/concepts/cluster-administration/addons/\n\nThen you can join any number of worker nodes by running the following on each as root:\n\nkubeadm join 192.168.6.235:6443 --token r10sv8.8wdmesq0hl16ztxy \\\n    --discovery-token-ca-cert-hash sha256:fdcbd538e705dd0d68ea7d0aea289f09d1b3e461bab539c2f0b4262ae36762b9 \n```\n12. master\n\n```bash\nmkdir -p $HOME/.kube\nsudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config\nsudo chown $(id -u):$(id -g) $HOME/.kube/config\nexport KUBECONFIG=/etc/kubernetes/admin.conf\n\n# master\nkubectl taint nodes --all node-role.kubernetes.io/control-plane-\n```\n13. \n\n```bash\nkubectl get nodes\n\nkubectl get pods -A\n```\n14. \n\n```bash\nkubectl apply -f scripts/calico.yaml\n```\n\n15. worker\n\n```bash\n# worker\nkubeadm join 192.168.6.235:6443 --token r10sv8.8wdmesq0hl16ztxy \\\n    --discovery-token-ca-cert-hash sha256:fdcbd538e705dd0d68ea7d0aea289f09d1b3e461bab539c2f0b4262ae36762b9 \n\n# node\nkubectl get nodes\n```\n\n\n\n\n\n## K8s nimikube \n``` bash\ncurl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64\nsudo install minikube-linux-amd64 /usr/local/bin/minikube\n# x86 amd64  arm arm64\nminikube start --driver=docker #   \n# \nminikube start \\\n  --image-mirror-country=cn \\\n  --registry-mirror=https://registry.cn-hangzhou.aliyuncs.com \\\n  --driver=docker\n#  docker minikube --base-image=\n# --base-image=registry.cn-hangzhou.aliyuncs.com/google_containers/kicbase:v0.0.46\n```\nCPU\n``` bash\nuname -m\n# aarch64   aarch64arm\n```\nkubectl get ns local-path-storage -o json | jq 'del(.spec.finalizers)'| kubectl replace --raw \"/api/v1/namespaces/local-path-storage/finalize\" -f -\n\n## K8s\n###  \n|              |  |\n|------------------|------|\n|      | `kubectl cluster-info` |\n|    | `kubectl config current-context` |\n|    | `kubectl config get-contexts` |\n|        | `kubectl config use-context <context-name>` |\n|  | `kubectl config set-context --current --namespace=<namespace>` |\n\n###  PodDeploymentService\n\n|              |  |\n|------------------|------|\n|      | `kubectl get all` |\n|  Pod     | `kubectl get pods [-n <namespace>] [-o wide]` |\n|  Deployment  | `kubectl get deployments` |\n|  Service     | `kubectl get svc` |\n|          | `kubectl apply -f <file.yaml>` |\n|          | `kubectl delete -f <file.yaml>` |\n|  Pod         | `kubectl delete pod <pod-name>` |\n|  Deployment | `kubectl rollout restart deployment <deployment-name>` |\n|      | `kubectl edit deployment <deployment-name>` |\n\n###  \n\n|              |  |\n|------------------|------|\n|          | `kubectl logs <pod-name>` |\n|      | `kubectl logs -f <pod-name>` |\n|      | `kubectl logs <pod-name> -c <container-name>` |\n|      | `kubectl exec -it <pod-name> -- /bin/bash` |\n|  Pod     | `kubectl describe pod <pod-name>` |\n|      | `kubectl get events` |\n\n###  \n\n|              |  |\n|------------------|------|\n|      | `kubectl get namespaces` |\n|      | `kubectl create namespace <name>` |\n|      | `kubectl delete namespace <name>` |\n\n###  PVCPV\n\n|          |  |\n|--------------|------|\n|  PVC     | `kubectl get pvc` |\n|  PV      | `kubectl get pv` |\n\n###  ConfigMapSecret\n\n|              |  |\n|------------------|------|\n|  ConfigMap   | `kubectl create configmap <name> --from-literal=key=value` |\n|  ConfigMap   | `kubectl get configmap` |\n|  Secret      | `kubectl create secret generic <name> --from-literal=key=value` |\n|  Secret      | `kubectl get secrets` |\n\n###  ServiceIngress\n\n|               |  |\n|-------------------|------|\n|  Deployment   | `kubectl create deployment <name> --image=<image>` |\n|  Service      | `kubectl expose deployment <name> --port=80 --target-port=8080 --type=NodePort` |\n|  Ingress      | `kubectl get ingress` |\n\n###  \n|              |  |\n|------------------|------|\n|      | `kubectl run -it --rm debug --image=busybox -- /bin/sh` |\n|  YAML | `kubectl get deployment <name> -o yaml > deployment.yaml` |\n\n\n## Helm K8s\n###  Chart\nChart  Helm \n\nChart  Kubernetes  YAML  + \n\n Chart \n```bash\nmychart/\n Chart.yaml           # Chart \n values.yaml          #  -f \n templates/           #  YAML \n    deployment.yaml\n    service.yaml\n    _helpers.tpl     # \n```\nChart \n\n|        |                                                                  |\n|------------|----------------------------------------------------------------------|\n|         | DeploymentServiceIngress      |\n|         |               |\n|       |  `values.yaml`              |\n|     | Chart  Helm release                      |\n|     |  LokiPrometheusGitLab          |\n\n\n### helm\n#####  Chart \n```bash\nhelm repo add <name> <url>             #  Helm \nhelm repo list                         # \nhelm repo update                       # \nhelm search repo <keyword>             #  chart\n```\n#####   / \n```bash\nhelm install <release-name> <chart> -n <namespace> -f <values.yaml>\n#  chart\n# helm install loki grafana/loki-stack -n monitor -f loki-values.yaml\n\nhelm upgrade <release-name> <chart> -n <namespace> -f <values.yaml>\n#  release\n\nhelm upgrade --install <release-name> <chart> ...\n#  CI/CD\n\nhelm uninstall <release-name> -n <namespace>\n#  release\n\nhelm rollback <release-name> <revision> -n <namespace>\n# \n```\n#####   /  / \n```bash\nhelm list -n <namespace>             #  release\nhelm status <release-name> -n <namespace>  #  release \nhelm get values <release-name> -n <namespace>       #  values\nhelm get manifest <release-name> -n <namespace>     #  Kubernetes YAML\nhelm history <release-name> -n <namespace>          # \n```\n\n## Kustomize \n  Helm  Kustomize \n\nHelm Kustomize YAML \n\n Kustomize \n\nKustomize  Kubernetes kubectl  1.14  YAML \n\n Helm  { { } }  + patch  YAML\n\n Kustomize \n```bash\nmy-app/\n base/   # \n    deployment.yaml\n    service.yaml\n    kustomization.yaml\n overlays/  #  patch \n    dev/\n       kustomization.yaml\n       patch.yaml\n    prod/\n       kustomization.yaml\n       patch.yaml\n```\n\n Kustomize \n\n|                           |                                       |\n|-------------------------------|-------------------------------------------|\n| namePrefix / nameSuffix       |  /            |\n| configMapGenerator / secretGenerator |  ConfigMap / Secret         |\n| patchesStrategicMerge         |                             |\n| images                    |                           |\n|  /                |  base  overlay           |\n\n Helm vs Kustomize\n\n|            | Helm                                           | Kustomize                                           |\n|----------------|------------------------------------------------|-----------------------------------------------------|\n|        | Go  `{{ }}`               |  YAML + Patch                         |\n|        |  Chart                       |                             |\n|    | values.yaml                                     | patch.yaml + kustomization.yaml                     |\n|        |  PrometheusHarbor        |  dev/test/prod              |\n|    | Helm  Release            |  Release  Git                         |\n|        | `helm install`                                 | `kubectl apply -k`  `kustomize build`             |\n\n\n \nHelm yum / apt  \n\t\tKustomize  docker-compose.override.yml   YAML \n\n \n```bash\n#  Helm  Grafana\nhelm install grafana grafana/grafana -f prod-values.yaml\n\n#  Kustomize  app\nkubectl apply -k overlays/prod\n```\n\n\n## K8s\n\n \n\t\tNodeSelector / Affinity / Taints & Tolerations Pod \n\t\tnodeSelector\n\t\taffinity/\n\t\ttaints & tolerations Pod\n\t\tPriority & Preemption Pod  Pod\n\n\n\n \n\t\tStatefulSet\n\t\tDaemonSet Pod\n\t\tJob / CronJob Linux  cron\n\t\tHorizontal Pod AutoscalerHPA CPU  Pod \n\t\tVertical Pod AutoscalerVPA Pod \n\t\tCluster Autoscaler\n\n\n\n \n\t\tNetworkPolicyK8s  Pod \n\t\tService Mesh IstioLinkerdA/B \n\n\n\n \n\t\tStorageClassIO PVC \n\t\tVolumeSnapshot / VolumeClone PVC \n\t\tCSIContainer Storage Interface\n\n\n\n \n\t\tRBACRole-Based Access Control\n\t\tPodSecurityPolicy/ Pod Security Admission Pod \n\t\tNetworkPolicy\n\t\tServiceAccount & Secrets\n\n\n\n \n\t\tEvents / Probes / Metrics API\n\t\tLoki / ELK / Fluentd / Promtail DaemonSet \n\t\tTracing Jaeger/Zipkin \n\t\tPrometheus + Grafana + Alertmanager\n\n\n\n \n\t\tCanary / Blue-Green / RollingUpdate / Recreate\n\t\tKustomize / Helm\n\n\n\n \n\t\tOperatorCRD + Controller\n\t\tWebhooksMutating / Validating\n\t\tAdmission Controller\n","source":"_posts/Kubernetes.md","raw":"---\ntitle: Kubernetes / K8s\ndate: 2025-04-13 15:19:50\ntags: [,k8s]\ncategories: [, k8s]\ncover: /images/k8s.png\n---\n## \nKubernetes K8s Google \n\n____\n\nK8s \n\n### \n1.  Kubernetes \n   \n|                   |   |\n|---------------------------|-------|\n| Linux             |     |\n| Dockerrunvolume |     |\n| CI/CD             |     |\n| NginxWeb        |     |\n| YAML              |     |\n\n  2 \n\n|      |                                                          |\n|--------------|------------------------------------------------------------------|\n| Pod          | 1~n                                |\n| Node         |                                       |\n| Deployment   |  Pod                      |\n| Service      | ClusterIP / NodePort                 |\n| Namespace    |  Git                                    |\n\n  K8s\n\n|                |                                                     |\n|--------------------|-------------------------------------------------------------|\n|      | minikube   +                               |\n| Docker Desktop  K8s |  Mac                                        |\n|  kubectl  |  CLI                                              |\n|  Nginx       |  Deployment + Service                                   |\n|  |  HTML  nginx              |\n\n  +  + CI/CD \n\n|                  |                                                        |\n|------------------------|------------------------------------------------------------|\n| Helm                   | K8s   WordPress / Redis / MySQL     |\n| Ingress                | HTTP  blog.karen.com               |\n| ConfigMap + Secret     |  config                                 |\n| Kustomize              |                                              |\n| GitOps                 | CI/CD  K8sArgoCDFlux                      |\n| Prometheus + Grafana   |                                              |\n\n### Cluster \n1. Cluster\n = \n____\n____\n / K8s \n____\n     \n    \n        \t + \n        \t\n    Kubernetes \n        \t\n        \t 3  3 \n    \t\t\n\n2.  \n\n\t +  +\n\t\n\t\n\t\n\t\n\t\n\t\n\n  = \n  = Kubernetes \n\n3.  \n\n|                      |                                                          |\n|--------------------------|--------------------------------------------------------------|\n|  (Cluster)           |                               |\n|  (Node)              |                       |\n|  (Master)          | API                     |\n|  (Worker)        |  nginx /                    |\n#### k8s\n\n``` bash\n             [ Master  ]\n            \n               kube-scheduler\n              API Server\n              \n            \n                      \n       \n                                   \n [Worker Node1]   [Worker Node2]  [Worker Node3]\n   Pod: Nginx     Pod: Blog     Pod: Redis\n   Pod: Mongo     Pod: Hexo     Pod: \n```\n____\n\n|              |                           |\n|-----------------|--------------------------------------|\n|          | K8s(CDN+) |\n| SaaS      | + |\n|           |    \n\n#####  + K8s \n\n### k8s\n Docker  Web \n```bash\ndocker run -d -p 80:80 my-app\n```\n\n\t1.\t 10 \n\t2.\t\n\t3.\t\n\t4.\t\n\t5.\t\n  Kubernetes ****\n### \n\n|                     |                                                                  |\n|-------------------------|------------------------------------------------------------------------------|\n| Pod                     |  K8s   Pod     |\n| Node                    |  Pod                                      |\n| Cluster                 |  Node  K8s                                                   |\n| Deployment              |  Pod                              |\n| Service                 |  Pod                                |\n| Namespace               |                    |\n| Ingress                 |                                             |\n| Volume / PVC            |                                  |\n| ConfigMap / Secret      |                                      |\n| RBAC            |                                        |\n| Kubelet / Controller / Scheduler |  K8s      |\n\n### \n|                |                                                                  |\n|--------------------|--------------------------------------------------------------------------|\n|  (Image)       |  +  App                               |\n|  (Container)   |                                         |\n| Docker             | K8s  containerd                   |\n|            |  K8s                         |\n| YAML           | K8s  YAML                            |\n\n## K8s \n Kubernetes kubeadm  kubelet \n### \n##### \n|        | /                          |                                    |\n|--------------|---------------------------------------|----------------------------------------|\n|      | Ubuntu 20.04+ / CentOS 7+             |  LTS             |\n|      |  root   sudo        |               |\n|    | `hostnamectl set-hostname node1`      |                    |\n| hosts    |             |  `/etc/hosts`          |\n|      |  `chrony`  `ntp`    |           |\n\n##### \n|                        |                                                   |                                                   |\n|----------------------------|-------------------------------------------------------|-------------------------------------------------------|\n|  swap                  | `swapoff -a`  `/etc/fstab`  swap          | Kubernetes  swap                              |\n|      | `systemctl stop firewalld/ufw`                        |               |\n|  SELinuxCentOS     | `setenforce 0`  `/etc/selinux/config`          |  kubelet                                  |\n|  iptables              | `modprobe br_netfilter` +  sysctl            |                                   |\n\n```bash\ncat <<EOF | sudo tee /etc/modules-load.d/k8s.conf\nbr_netfilter\nEOF\n\ncat <<EOF | sudo tee /etc/sysctl.d/k8s.conf\nnet.bridge.bridge-nf-call-iptables  = 1\nnet.ipv4.ip_forward                 = 1\nnet.bridge.bridge-nf-call-ip6tables = 1\nEOF\n\nsysctl --system\n```\n##### \nk8s1.24docker containerd\n|          |                                                  |\n|--------------|------------------------------------------------------|\n| containerd  |                                    |\n| Docker      |  cri-dockerd                    |\n\n containerd\n```bash\nsudo apt install -y containerd\nsudo mkdir -p /etc/containerd\ncontainerd config default | sudo tee /etc/containerd/config.toml\nsudo systemctl restart containerd\n```\n#####  kubeadm / kubelet / kubectl\n K8s  + \n``` bash\nsudo apt update && sudo apt install -y apt-transport-https curl\n\ncurl -fsSL https://packages.cloud.google.com/apt/doc/apt-key.gpg | sudo apt-key add -\n\ncat <<EOF | sudo tee /etc/apt/sources.list.d/kubernetes.list\ndeb https://apt.kubernetes.io/ kubernetes-xenial main\nEOF\n\nsudo apt update\nsudo apt install -y kubelet kubeadm kubectl\nsudo apt-mark hold kubelet kubeadm kubectl\n```\n\n###  k8s\n\n\n\n\n### crictl  nerdctl\n crictl  nginx:latest \n nerdctl images \n** containerd  namespacek8s.io** nerdctl  moby namespace\n  nerdctl  namespace\n containerd \n```bash\nctr namespaces list\n```\n namespace\n```bash\nNAME     LABELS\ndefault\nk8s.io\nmoby\n```\n  k8s.io \n```bash\nnerdctl --namespace k8s.io images\n```\n \n nginx\n```bash\nnerdctl --namespace k8s.io save nginx:latest -o /tmp/nginx.tar\n```\n moby  namespace \n```bash\nnerdctl --namespace moby load -i /tmp/nginx.tar\n```\n  namespace\n nerdctl  k8s.io \n```bash\nexport CONTAINERD_NAMESPACE=k8s.io\n```\n .bashrc  .zshrc \n\n\n namespace \nctr namespaces list\nnerdctl  k8s \nnerdctl --namespace k8s.io images\n nginx \nnerdctl --namespace k8s.io save nginx -o nginx.tar\n\nnerdctl load -i nginx.tar\n\nnerdctl --namespace k8s.io images --digests\n\nnerdctl --namespace k8s.io image prune\n\n\n## K8S \n### \n31master+2node\n| IP              |        |      |  |       |\n|-----------------|--------------|----------|------|-----------|\n| 192.168.6.235   | k8s-master    | master   | 1    | 16C 32G   |\n| 192.168.7.75    | k8s-node1     | node     | 1    | 16C 32G   |\n| 192.168.7.76    | k8s-node2     | node     | 1    | 16C 32G   |\n\n###  K8S\n1.  yum\n\n```bash\nhostnamectl set-h^Ctname k8s-master\nhostnamectl set-h^Ctname k8s-node1\nhostnamectl set-h^Ctname k8s-node2\n# \nwget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-vault-8.5.2111.repo\n\n```\n2. hosts\n```ini\n192.168.6.235 k8s-master\n192.168.7.75 k8s-node1\n192.168.7.76 k8s-node2\n```\n3. \n```bash\n# \nsudo setenforce 0\n# \nsudo sed -i 's/^SELINUX=.*/SELINUX=disabled/' /etc/selinux/config\nsudo systemctl stop firewalld\nsudo systemctl disable firewalld\n```\n4. swap\n```bash\n# swap\nsudo swapoff -a\n# \nsudo sed -i '/swap/d' /etc/fstab\n# swap\nfree\n```\n5. \n\n```bash\nyum install  -y ipvsadm ipset sysstat conntrack libseccomp\n# dummy0kube-ipvs0k8sipvsserviceIPkube-ipvs0\ncat > /etc/sysconfig/modules/ipvs.modules <<EOF\n#!/bin/bash\nipvs_modules=\"ip_vs ip_vs_lc ip_vs_wlc ip_vs_rr ip_vs_wrr ip_vs_lblc ip_vs_lblcr ip_vs_dh ip_vs_sh ip_vs_fo ip_vs_nq ip_vs_sed ip_vs_ftp nf_conntrack ip_tables ip_set xt_set ipt_set ipt_rpfilter ipt_REJECT ipip \"\nfor kernel_module in \\${ipvs_modules}; do\n  /sbin/modinfo -F filename \\${kernel_module} > /dev/null 2>&1\n  if [ $? -eq 0 ]; then\n    /sbin/modprobe \\${kernel_module}\n  fi\ndone\nEOF\n\nchmod 755 /etc/sysconfig/modules/ipvs.modules \nsh /etc/sysconfig/modules/ipvs.modules \nlsmod | grep ip_vs\n\n#  IPv4  iptables \ncat <<EOF | sudo tee /etc/modules-load.d/k8s.conf\noverlay\nbr_netfilter\nEOF\n\nsudo modprobe overlay\nsudo modprobe br_netfilter\n\n#  sysctl \ncat <<EOF | sudo tee /etc/sysctl.d/k8s.conf\nnet.bridge.bridge-nf-call-iptables  = 1\nnet.bridge.bridge-nf-call-ip6tables = 1\nnet.ipv4.ip_forward                 = 1\nEOF\n\n#  sysctl \nsudo sysctl --system\n# \nlsmod | grep br_netfilter\nlsmod | grep overlay\n\n#  net.bridge.bridge-nf-call-iptablesnet.bridge.bridge-nf-call-ip6tables  net.ipv4.ip_forward  sysctl  1\nsysctl net.bridge.bridge-nf-call-iptables net.bridge.bridge-nf-call-ip6tables net.ipv4.ip_forward\n```\n6.  containerd\n```bash\n# \nyum install -y containerd\n\n# \nhttps://github.com/containerd/containerd/blob/main/docs/getting-started.md\n```\n7. containerdcgroup\n```bash\n# containerd\ncontainerd --version\n\n 1.6.32\n\n# aliyun\nmkdir /etc/containerd\ncontainerd config default > /etc/containerd/config.toml\nsed -i \"s#registry.k8s.io/pause:3.8#registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.9#g\"  /etc/containerd/config.toml\n\n# \nvim /etc/containerd/config.toml\n  [plugins.\"io.containerd.grpc.v1.cri\".registry.mirrors]\n    [plugins.\"io.containerd.grpc.v1.cri\".registry.mirrors.\"docker.io\"]\n      endpoint = [\"https://docker-mirror.h3d.com.cn\"]\n\n# cgroup\nvim /etc/containerd/config.toml\n[plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc.options]\n  SystemdCgroup = true\n```\n8. k8s\n\n```bash\ncat <<EOF > /etc/yum.repos.d/kubernetes.repo\n[kubernetes]\nname=Kubernetes\nbaseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64/\nenabled=1\ngpgcheck=1\nrepo_gpgcheck=1\ngpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg\nEOF\n```\n9. kubeletkubeadmkubectl()\n\n```bash\n# \nyum list kubelet --showduplicates |grep 1.28\n\n# \nyum install -y kubelet-1.28.2 kubeadm-1.28.2 kubectl-1.28.2 --disableexcludes=kubernetes\nsystemctl enable --now kubelet\n```\n10. crictl()\n\n```bash\n# crictl\ncat  <<EOF | sudo tee /etc/crictl.yaml\nruntime-endpoint: unix:///var/run/containerd/containerd.sock\ntimeout: 5\nimage-endpoint: unix:///var/run/containerd/containerd.sock\n\nEOF\n```\n11. (master)\n\n```bash\nkubeadm init --kubernetes-version=1.28.15 \\\n--apiserver-advertise-address=193.168.6.235  \\\n--image-repository  registry.aliyuncs.com/google_containers \\\n--pod-network-cidr=10.1.0.0/16\n--service-cidr=10.96.0.0/12\n```\n\n```bash\nYour Kubernetes control-plane has initialized successfully!\n\nTo start using your cluster, you need to run the following as a regular user:\n\n  mkdir -p $HOME/.kube\n  sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config\n  sudo chown $(id -u):$(id -g) $HOME/.kube/config\n\nAlternatively, if you are the root user, you can run:\n\n  export KUBECONFIG=/etc/kubernetes/admin.conf\n\nYou should now deploy a pod network to the cluster.\nRun \"kubectl apply -f [podnetwork].yaml\" with one of the options listed at:\n  https://kubernetes.io/docs/concepts/cluster-administration/addons/\n\nThen you can join any number of worker nodes by running the following on each as root:\n\nkubeadm join 192.168.6.235:6443 --token r10sv8.8wdmesq0hl16ztxy \\\n    --discovery-token-ca-cert-hash sha256:fdcbd538e705dd0d68ea7d0aea289f09d1b3e461bab539c2f0b4262ae36762b9 \n```\n12. master\n\n```bash\nmkdir -p $HOME/.kube\nsudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config\nsudo chown $(id -u):$(id -g) $HOME/.kube/config\nexport KUBECONFIG=/etc/kubernetes/admin.conf\n\n# master\nkubectl taint nodes --all node-role.kubernetes.io/control-plane-\n```\n13. \n\n```bash\nkubectl get nodes\n\nkubectl get pods -A\n```\n14. \n\n```bash\nkubectl apply -f scripts/calico.yaml\n```\n\n15. worker\n\n```bash\n# worker\nkubeadm join 192.168.6.235:6443 --token r10sv8.8wdmesq0hl16ztxy \\\n    --discovery-token-ca-cert-hash sha256:fdcbd538e705dd0d68ea7d0aea289f09d1b3e461bab539c2f0b4262ae36762b9 \n\n# node\nkubectl get nodes\n```\n\n\n\n\n\n## K8s nimikube \n``` bash\ncurl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64\nsudo install minikube-linux-amd64 /usr/local/bin/minikube\n# x86 amd64  arm arm64\nminikube start --driver=docker #   \n# \nminikube start \\\n  --image-mirror-country=cn \\\n  --registry-mirror=https://registry.cn-hangzhou.aliyuncs.com \\\n  --driver=docker\n#  docker minikube --base-image=\n# --base-image=registry.cn-hangzhou.aliyuncs.com/google_containers/kicbase:v0.0.46\n```\nCPU\n``` bash\nuname -m\n# aarch64   aarch64arm\n```\nkubectl get ns local-path-storage -o json | jq 'del(.spec.finalizers)'| kubectl replace --raw \"/api/v1/namespaces/local-path-storage/finalize\" -f -\n\n## K8s\n###  \n|              |  |\n|------------------|------|\n|      | `kubectl cluster-info` |\n|    | `kubectl config current-context` |\n|    | `kubectl config get-contexts` |\n|        | `kubectl config use-context <context-name>` |\n|  | `kubectl config set-context --current --namespace=<namespace>` |\n\n###  PodDeploymentService\n\n|              |  |\n|------------------|------|\n|      | `kubectl get all` |\n|  Pod     | `kubectl get pods [-n <namespace>] [-o wide]` |\n|  Deployment  | `kubectl get deployments` |\n|  Service     | `kubectl get svc` |\n|          | `kubectl apply -f <file.yaml>` |\n|          | `kubectl delete -f <file.yaml>` |\n|  Pod         | `kubectl delete pod <pod-name>` |\n|  Deployment | `kubectl rollout restart deployment <deployment-name>` |\n|      | `kubectl edit deployment <deployment-name>` |\n\n###  \n\n|              |  |\n|------------------|------|\n|          | `kubectl logs <pod-name>` |\n|      | `kubectl logs -f <pod-name>` |\n|      | `kubectl logs <pod-name> -c <container-name>` |\n|      | `kubectl exec -it <pod-name> -- /bin/bash` |\n|  Pod     | `kubectl describe pod <pod-name>` |\n|      | `kubectl get events` |\n\n###  \n\n|              |  |\n|------------------|------|\n|      | `kubectl get namespaces` |\n|      | `kubectl create namespace <name>` |\n|      | `kubectl delete namespace <name>` |\n\n###  PVCPV\n\n|          |  |\n|--------------|------|\n|  PVC     | `kubectl get pvc` |\n|  PV      | `kubectl get pv` |\n\n###  ConfigMapSecret\n\n|              |  |\n|------------------|------|\n|  ConfigMap   | `kubectl create configmap <name> --from-literal=key=value` |\n|  ConfigMap   | `kubectl get configmap` |\n|  Secret      | `kubectl create secret generic <name> --from-literal=key=value` |\n|  Secret      | `kubectl get secrets` |\n\n###  ServiceIngress\n\n|               |  |\n|-------------------|------|\n|  Deployment   | `kubectl create deployment <name> --image=<image>` |\n|  Service      | `kubectl expose deployment <name> --port=80 --target-port=8080 --type=NodePort` |\n|  Ingress      | `kubectl get ingress` |\n\n###  \n|              |  |\n|------------------|------|\n|      | `kubectl run -it --rm debug --image=busybox -- /bin/sh` |\n|  YAML | `kubectl get deployment <name> -o yaml > deployment.yaml` |\n\n\n## Helm K8s\n###  Chart\nChart  Helm \n\nChart  Kubernetes  YAML  + \n\n Chart \n```bash\nmychart/\n Chart.yaml           # Chart \n values.yaml          #  -f \n templates/           #  YAML \n    deployment.yaml\n    service.yaml\n    _helpers.tpl     # \n```\nChart \n\n|        |                                                                  |\n|------------|----------------------------------------------------------------------|\n|         | DeploymentServiceIngress      |\n|         |               |\n|       |  `values.yaml`              |\n|     | Chart  Helm release                      |\n|     |  LokiPrometheusGitLab          |\n\n\n### helm\n#####  Chart \n```bash\nhelm repo add <name> <url>             #  Helm \nhelm repo list                         # \nhelm repo update                       # \nhelm search repo <keyword>             #  chart\n```\n#####   / \n```bash\nhelm install <release-name> <chart> -n <namespace> -f <values.yaml>\n#  chart\n# helm install loki grafana/loki-stack -n monitor -f loki-values.yaml\n\nhelm upgrade <release-name> <chart> -n <namespace> -f <values.yaml>\n#  release\n\nhelm upgrade --install <release-name> <chart> ...\n#  CI/CD\n\nhelm uninstall <release-name> -n <namespace>\n#  release\n\nhelm rollback <release-name> <revision> -n <namespace>\n# \n```\n#####   /  / \n```bash\nhelm list -n <namespace>             #  release\nhelm status <release-name> -n <namespace>  #  release \nhelm get values <release-name> -n <namespace>       #  values\nhelm get manifest <release-name> -n <namespace>     #  Kubernetes YAML\nhelm history <release-name> -n <namespace>          # \n```\n\n## Kustomize \n  Helm  Kustomize \n\nHelm Kustomize YAML \n\n Kustomize \n\nKustomize  Kubernetes kubectl  1.14  YAML \n\n Helm  { { } }  + patch  YAML\n\n Kustomize \n```bash\nmy-app/\n base/   # \n    deployment.yaml\n    service.yaml\n    kustomization.yaml\n overlays/  #  patch \n    dev/\n       kustomization.yaml\n       patch.yaml\n    prod/\n       kustomization.yaml\n       patch.yaml\n```\n\n Kustomize \n\n|                           |                                       |\n|-------------------------------|-------------------------------------------|\n| namePrefix / nameSuffix       |  /            |\n| configMapGenerator / secretGenerator |  ConfigMap / Secret         |\n| patchesStrategicMerge         |                             |\n| images                    |                           |\n|  /                |  base  overlay           |\n\n Helm vs Kustomize\n\n|            | Helm                                           | Kustomize                                           |\n|----------------|------------------------------------------------|-----------------------------------------------------|\n|        | Go  `{{ }}`               |  YAML + Patch                         |\n|        |  Chart                       |                             |\n|    | values.yaml                                     | patch.yaml + kustomization.yaml                     |\n|        |  PrometheusHarbor        |  dev/test/prod              |\n|    | Helm  Release            |  Release  Git                         |\n|        | `helm install`                                 | `kubectl apply -k`  `kustomize build`             |\n\n\n \nHelm yum / apt  \n\t\tKustomize  docker-compose.override.yml   YAML \n\n \n```bash\n#  Helm  Grafana\nhelm install grafana grafana/grafana -f prod-values.yaml\n\n#  Kustomize  app\nkubectl apply -k overlays/prod\n```\n\n\n## K8s\n\n \n\t\tNodeSelector / Affinity / Taints & Tolerations Pod \n\t\tnodeSelector\n\t\taffinity/\n\t\ttaints & tolerations Pod\n\t\tPriority & Preemption Pod  Pod\n\n\n\n \n\t\tStatefulSet\n\t\tDaemonSet Pod\n\t\tJob / CronJob Linux  cron\n\t\tHorizontal Pod AutoscalerHPA CPU  Pod \n\t\tVertical Pod AutoscalerVPA Pod \n\t\tCluster Autoscaler\n\n\n\n \n\t\tNetworkPolicyK8s  Pod \n\t\tService Mesh IstioLinkerdA/B \n\n\n\n \n\t\tStorageClassIO PVC \n\t\tVolumeSnapshot / VolumeClone PVC \n\t\tCSIContainer Storage Interface\n\n\n\n \n\t\tRBACRole-Based Access Control\n\t\tPodSecurityPolicy/ Pod Security Admission Pod \n\t\tNetworkPolicy\n\t\tServiceAccount & Secrets\n\n\n\n \n\t\tEvents / Probes / Metrics API\n\t\tLoki / ELK / Fluentd / Promtail DaemonSet \n\t\tTracing Jaeger/Zipkin \n\t\tPrometheus + Grafana + Alertmanager\n\n\n\n \n\t\tCanary / Blue-Green / RollingUpdate / Recreate\n\t\tKustomize / Helm\n\n\n\n \n\t\tOperatorCRD + Controller\n\t\tWebhooksMutating / Validating\n\t\tAdmission Controller\n","slug":"Kubernetes","published":1,"updated":"2025-06-12T10:59:17.223Z","_id":"cm9fbeeee0000xq0zfv8ofy31","comments":1,"layout":"post","photos":[],"content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Kubernetes K8s Google </p>\n<p><strong></strong></p>\n<p>K8s </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li> Kubernetes </li>\n</ol>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Linux </td>\n<td></td>\n</tr>\n<tr>\n<td>Dockerrunvolume</td>\n<td></td>\n</tr>\n<tr>\n<td>CI&#x2F;CD </td>\n<td></td>\n</tr>\n<tr>\n<td>NginxWeb </td>\n<td></td>\n</tr>\n<tr>\n<td>YAML </td>\n<td></td>\n</tr>\n</tbody></table>\n<p>  2 </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Pod</td>\n<td>1~n </td>\n</tr>\n<tr>\n<td>Node</td>\n<td></td>\n</tr>\n<tr>\n<td>Deployment</td>\n<td> Pod</td>\n</tr>\n<tr>\n<td>Service</td>\n<td>ClusterIP &#x2F; NodePort</td>\n</tr>\n<tr>\n<td>Namespace</td>\n<td> Git </td>\n</tr>\n</tbody></table>\n<p>  K8s</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>minikube   + </td>\n</tr>\n<tr>\n<td>Docker Desktop  K8s</td>\n<td> Mac </td>\n</tr>\n<tr>\n<td> kubectl </td>\n<td> CLI </td>\n</tr>\n<tr>\n<td> Nginx</td>\n<td> Deployment + Service</td>\n</tr>\n<tr>\n<td></td>\n<td> HTML  nginx </td>\n</tr>\n</tbody></table>\n<p>  +  + CI&#x2F;CD </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Helm</td>\n<td>K8s   WordPress &#x2F; Redis &#x2F; MySQL</td>\n</tr>\n<tr>\n<td>Ingress</td>\n<td>HTTP  blog.karen.com</td>\n</tr>\n<tr>\n<td>ConfigMap + Secret</td>\n<td> config</td>\n</tr>\n<tr>\n<td>Kustomize</td>\n<td></td>\n</tr>\n<tr>\n<td>GitOps</td>\n<td>CI&#x2F;CD  K8sArgoCDFlux</td>\n</tr>\n<tr>\n<td>Prometheus + Grafana</td>\n<td></td>\n</tr>\n</tbody></table>\n<h3 id=\"Cluster-\"><a href=\"#Cluster-\" class=\"headerlink\" title=\"Cluster \"></a>Cluster </h3><ol>\n<li><p>Cluster<br> &#x3D; <br><strong></strong><br><strong></strong><br> &#x2F; K8s <br><strong></strong><br>  <br> <br> \t + <br> \t<br> Kubernetes <br> \t<br> \t 3  3 <br> \t</p>\n</li>\n<li><p> </p>\n</li>\n</ol>\n<p>\t +  +<br>\t<br>\t<br>\t<br>\t<br>\t<br>\t</p>\n<p>  &#x3D; <br>  &#x3D; Kubernetes </p>\n<ol start=\"3\">\n<li> </li>\n</ol>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td> (Cluster)</td>\n<td></td>\n</tr>\n<tr>\n<td> (Node)</td>\n<td></td>\n</tr>\n<tr>\n<td> (Master)</td>\n<td>API</td>\n</tr>\n<tr>\n<td> (Worker)</td>\n<td> nginx &#x2F; </td>\n</tr>\n</tbody></table>\n<h4 id=\"k8s\"><a href=\"#k8s\" class=\"headerlink\" title=\"k8s\"></a>k8s</h4><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">            [ Master  ]</span><br><span class=\"line\">           </span><br><span class=\"line\">              kube-scheduler</span><br><span class=\"line\">             API Server</span><br><span class=\"line\">             </span><br><span class=\"line\">           </span><br><span class=\"line\">                     </span><br><span class=\"line\">      </span><br><span class=\"line\">                                  </span><br><span class=\"line\">[Worker Node1]   [Worker Node2]  [Worker Node3]</span><br><span class=\"line\">  Pod: Nginx     Pod: Blog     Pod: Redis</span><br><span class=\"line\">  Pod: Mongo     Pod: Hexo     Pod: </span><br></pre></td></tr></table></figure></div>\n<p><strong></strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>K8s(CDN+)</td>\n</tr>\n<tr>\n<td>SaaS</td>\n<td>+</td>\n</tr>\n<tr>\n<td></td>\n<td>   </td>\n</tr>\n</tbody></table>\n<h5 id=\"-K8s-\"><a href=\"#-K8s-\" class=\"headerlink\" title=\" + K8s \"></a> + K8s </h5><h3 id=\"k8s\"><a href=\"#k8s\" class=\"headerlink\" title=\"k8s\"></a>k8s</h3><p> Docker  Web </p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -d -p 80:80 my-app</span><br></pre></td></tr></table></figure></div>\n<p><br>    1.\t 10 <br>    2.\t<br>    3.\t<br>    4.\t<br>    5.\t<br>  Kubernetes <strong></strong></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Pod</td>\n<td> K8s   Pod </td>\n</tr>\n<tr>\n<td>Node</td>\n<td> Pod </td>\n</tr>\n<tr>\n<td>Cluster</td>\n<td> Node  K8s </td>\n</tr>\n<tr>\n<td>Deployment</td>\n<td> Pod </td>\n</tr>\n<tr>\n<td>Service</td>\n<td> Pod  </td>\n</tr>\n<tr>\n<td>Namespace</td>\n<td></td>\n</tr>\n<tr>\n<td>Ingress</td>\n<td></td>\n</tr>\n<tr>\n<td>Volume &#x2F; PVC</td>\n<td></td>\n</tr>\n<tr>\n<td>ConfigMap &#x2F; Secret</td>\n<td></td>\n</tr>\n<tr>\n<td>RBAC </td>\n<td></td>\n</tr>\n<tr>\n<td>Kubelet &#x2F; Controller &#x2F; Scheduler</td>\n<td> K8s </td>\n</tr>\n</tbody></table>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td> (Image)</td>\n<td> +  App </td>\n</tr>\n<tr>\n<td> (Container)</td>\n<td></td>\n</tr>\n<tr>\n<td>Docker</td>\n<td>K8s  containerd</td>\n</tr>\n<tr>\n<td></td>\n<td> K8s </td>\n</tr>\n<tr>\n<td>YAML </td>\n<td>K8s  YAML </td>\n</tr>\n</tbody></table>\n<h2 id=\"K8s-\"><a href=\"#K8s-\" class=\"headerlink\" title=\"K8s \"></a>K8s </h2><p> Kubernetes kubeadm  kubelet </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><table>\n<thead>\n<tr>\n<th></th>\n<th>&#x2F;</th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>Ubuntu 20.04+ &#x2F; CentOS 7+</td>\n<td> LTS </td>\n</tr>\n<tr>\n<td></td>\n<td> root   sudo </td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td><code>hostnamectl set-hostname node1</code></td>\n<td></td>\n</tr>\n<tr>\n<td>hosts </td>\n<td></td>\n<td> <code>/etc/hosts</code> </td>\n</tr>\n<tr>\n<td></td>\n<td> <code>chrony</code>  <code>ntp</code> </td>\n<td></td>\n</tr>\n</tbody></table>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td> swap</td>\n<td><code>swapoff -a</code>  <code>/etc/fstab</code>  swap </td>\n<td>Kubernetes  swap</td>\n</tr>\n<tr>\n<td></td>\n<td><code>systemctl stop firewalld/ufw</code></td>\n<td></td>\n</tr>\n<tr>\n<td> SELinuxCentOS</td>\n<td><code>setenforce 0</code>  <code>/etc/selinux/config</code></td>\n<td> kubelet </td>\n</tr>\n<tr>\n<td> iptables</td>\n<td><code>modprobe br_netfilter</code> +  sysctl </td>\n<td></td>\n</tr>\n</tbody></table>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cat</span> &lt;&lt;<span class=\"string\">EOF | sudo tee /etc/modules-load.d/k8s.conf</span></span><br><span class=\"line\"><span class=\"string\">br_netfilter</span></span><br><span class=\"line\"><span class=\"string\">EOF</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cat</span> &lt;&lt;<span class=\"string\">EOF | sudo tee /etc/sysctl.d/k8s.conf</span></span><br><span class=\"line\"><span class=\"string\">net.bridge.bridge-nf-call-iptables  = 1</span></span><br><span class=\"line\"><span class=\"string\">net.ipv4.ip_forward                 = 1</span></span><br><span class=\"line\"><span class=\"string\">net.bridge.bridge-nf-call-ip6tables = 1</span></span><br><span class=\"line\"><span class=\"string\">EOF</span></span><br><span class=\"line\"></span><br><span class=\"line\">sysctl --system</span><br></pre></td></tr></table></figure></div>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>k8s1.24docker containerd</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>containerd </td>\n<td></td>\n</tr>\n<tr>\n<td>Docker </td>\n<td> cri-dockerd</td>\n</tr>\n</tbody></table>\n<p> containerd</p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> apt install -y containerd</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> <span class=\"built_in\">mkdir</span> -p /etc/containerd</span><br><span class=\"line\">containerd config default | <span class=\"built_in\">sudo</span> <span class=\"built_in\">tee</span> /etc/containerd/config.toml</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl restart containerd</span><br></pre></td></tr></table></figure></div>\n<h5 id=\"-kubeadm-kubelet-kubectl\"><a href=\"#-kubeadm-kubelet-kubectl\" class=\"headerlink\" title=\" kubeadm &#x2F; kubelet &#x2F; kubectl\"></a> kubeadm &#x2F; kubelet &#x2F; kubectl</h5><p> K8s  + </p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> apt update &amp;&amp; <span class=\"built_in\">sudo</span> apt install -y apt-transport-https curl</span><br><span class=\"line\"></span><br><span class=\"line\">curl -fsSL https://packages.cloud.google.com/apt/doc/apt-key.gpg | <span class=\"built_in\">sudo</span> apt-key add -</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cat</span> &lt;&lt;<span class=\"string\">EOF | sudo tee /etc/apt/sources.list.d/kubernetes.list</span></span><br><span class=\"line\"><span class=\"string\">deb https://apt.kubernetes.io/ kubernetes-xenial main</span></span><br><span class=\"line\"><span class=\"string\">EOF</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> apt update</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> apt install -y kubelet kubeadm kubectl</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> apt-mark hold kubelet kubeadm kubectl</span><br></pre></td></tr></table></figure></div>\n\n<h3 id=\"-k8s\"><a href=\"#-k8s\" class=\"headerlink\" title=\" k8s\"></a> k8s</h3><p></p>\n<h3 id=\"crictl--nerdctl\"><a href=\"#crictl--nerdctl\" class=\"headerlink\" title=\"crictl  nerdctl\"></a>crictl  nerdctl</h3><p> crictl  nginx:latest <br> nerdctl images <br><strong> containerd  namespacek8s.io</strong> nerdctl  moby namespace<br>  nerdctl  namespace<br> containerd </p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ctr namespaces list</span><br></pre></td></tr></table></figure></div>\n<p> namespace</p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">NAME     LABELS</span><br><span class=\"line\">default</span><br><span class=\"line\">k8s.io</span><br><span class=\"line\">moby</span><br></pre></td></tr></table></figure></div>\n<p>  k8s.io </p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nerdctl --namespace k8s.io images</span><br></pre></td></tr></table></figure></div>\n<p> <br> nginx</p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nerdctl --namespace k8s.io save nginx:latest -o /tmp/nginx.tar</span><br></pre></td></tr></table></figure></div>\n<p> moby  namespace </p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nerdctl --namespace moby load -i /tmp/nginx.tar</span><br></pre></td></tr></table></figure></div>\n<p>  namespace<br> nerdctl  k8s.io </p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">export</span> CONTAINERD_NAMESPACE=k8s.io</span><br></pre></td></tr></table></figure></div>\n<p> .bashrc  .zshrc <br><br><br> namespace <br>ctr namespaces list<br>nerdctl  k8s <br>nerdctl namespace k8s.io images<br> nginx <br>nerdctl namespace k8s.io save nginx -o nginx.tar<br><br>nerdctl load -i nginx.tar</p>\n<p>nerdctl namespace k8s.io images digests</p>\n<p>nerdctl namespace k8s.io image prune</p>\n<h2 id=\"K8S-\"><a href=\"#K8S-\" class=\"headerlink\" title=\"K8S \"></a>K8S </h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>31master+2node</p>\n<table>\n<thead>\n<tr>\n<th>IP</th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>192.168.6.235</td>\n<td>k8s-master</td>\n<td>master</td>\n<td>1</td>\n<td>16C 32G</td>\n</tr>\n<tr>\n<td>192.168.7.75</td>\n<td>k8s-node1</td>\n<td>node</td>\n<td>1</td>\n<td>16C 32G</td>\n</tr>\n<tr>\n<td>192.168.7.76</td>\n<td>k8s-node2</td>\n<td>node</td>\n<td>1</td>\n<td>16C 32G</td>\n</tr>\n</tbody></table>\n<h3 id=\"-K8S\"><a href=\"#-K8S\" class=\"headerlink\" title=\" K8S\"></a> K8S</h3><ol>\n<li> yum<br><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hostnamectl set-h^Ctname k8s-master</span><br><span class=\"line\">hostnamectl set-h^Ctname k8s-node1</span><br><span class=\"line\">hostnamectl set-h^Ctname k8s-node2</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">wget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-vault-8.5.2111.repo</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></div></li>\n<li>hosts<div class=\"code-container\" data-rel=\"Ini\"><figure class=\"iseeu highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">192.168.6.235 k8s-master</span><br><span class=\"line\">192.168.7.75 k8s-node1</span><br><span class=\"line\">192.168.7.76 k8s-node2</span><br></pre></td></tr></table></figure></div></li>\n<li><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> setenforce 0</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> sed -i <span class=\"string\">&#x27;s/^SELINUX=.*/SELINUX=disabled/&#x27;</span> /etc/selinux/config</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl stop firewalld</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl <span class=\"built_in\">disable</span> firewalld</span><br></pre></td></tr></table></figure></div></li>\n<li>swap<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># swap</span></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> swapoff -a</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> sed -i <span class=\"string\">&#x27;/swap/d&#x27;</span> /etc/fstab</span><br><span class=\"line\"><span class=\"comment\"># swap</span></span><br><span class=\"line\">free</span><br></pre></td></tr></table></figure></div></li>\n<li></li>\n</ol>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install  -y ipvsadm ipset sysstat conntrack libseccomp</span><br><span class=\"line\"><span class=\"comment\"># dummy0kube-ipvs0k8sipvsserviceIPkube-ipvs0</span></span><br><span class=\"line\"><span class=\"built_in\">cat</span> &gt; /etc/sysconfig/modules/ipvs.modules &lt;&lt;<span class=\"string\">EOF</span></span><br><span class=\"line\"><span class=\"string\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"string\">ipvs_modules=&quot;ip_vs ip_vs_lc ip_vs_wlc ip_vs_rr ip_vs_wrr ip_vs_lblc ip_vs_lblcr ip_vs_dh ip_vs_sh ip_vs_fo ip_vs_nq ip_vs_sed ip_vs_ftp nf_conntrack ip_tables ip_set xt_set ipt_set ipt_rpfilter ipt_REJECT ipip &quot;</span></span><br><span class=\"line\"><span class=\"string\">for kernel_module in \\$&#123;ipvs_modules&#125;; do</span></span><br><span class=\"line\"><span class=\"string\">  /sbin/modinfo -F filename \\$&#123;kernel_module&#125; &gt; /dev/null 2&gt;&amp;1</span></span><br><span class=\"line\"><span class=\"string\">  if [ $? -eq 0 ]; then</span></span><br><span class=\"line\"><span class=\"string\">    /sbin/modprobe \\$&#123;kernel_module&#125;</span></span><br><span class=\"line\"><span class=\"string\">  fi</span></span><br><span class=\"line\"><span class=\"string\">done</span></span><br><span class=\"line\"><span class=\"string\">EOF</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">chmod</span> 755 /etc/sysconfig/modules/ipvs.modules </span><br><span class=\"line\">sh /etc/sysconfig/modules/ipvs.modules </span><br><span class=\"line\">lsmod | grep ip_vs</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#  IPv4  iptables </span></span><br><span class=\"line\"><span class=\"built_in\">cat</span> &lt;&lt;<span class=\"string\">EOF | sudo tee /etc/modules-load.d/k8s.conf</span></span><br><span class=\"line\"><span class=\"string\">overlay</span></span><br><span class=\"line\"><span class=\"string\">br_netfilter</span></span><br><span class=\"line\"><span class=\"string\">EOF</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> modprobe overlay</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> modprobe br_netfilter</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#  sysctl </span></span><br><span class=\"line\"><span class=\"built_in\">cat</span> &lt;&lt;<span class=\"string\">EOF | sudo tee /etc/sysctl.d/k8s.conf</span></span><br><span class=\"line\"><span class=\"string\">net.bridge.bridge-nf-call-iptables  = 1</span></span><br><span class=\"line\"><span class=\"string\">net.bridge.bridge-nf-call-ip6tables = 1</span></span><br><span class=\"line\"><span class=\"string\">net.ipv4.ip_forward                 = 1</span></span><br><span class=\"line\"><span class=\"string\">EOF</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#  sysctl </span></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> sysctl --system</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">lsmod | grep br_netfilter</span><br><span class=\"line\">lsmod | grep overlay</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#  net.bridge.bridge-nf-call-iptablesnet.bridge.bridge-nf-call-ip6tables  net.ipv4.ip_forward  sysctl  1</span></span><br><span class=\"line\">sysctl net.bridge.bridge-nf-call-iptables net.bridge.bridge-nf-call-ip6tables net.ipv4.ip_forward</span><br></pre></td></tr></table></figure></div>\n<ol start=\"6\">\n<li> containerd<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">yum install -y containerd</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">https://github.com/containerd/containerd/blob/main/docs/getting-started.md</span><br></pre></td></tr></table></figure></div></li>\n<li>containerdcgroup<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># containerd</span></span><br><span class=\"line\">containerd --version</span><br><span class=\"line\"></span><br><span class=\"line\"> 1.6.32</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># aliyun</span></span><br><span class=\"line\"><span class=\"built_in\">mkdir</span> /etc/containerd</span><br><span class=\"line\">containerd config default &gt; /etc/containerd/config.toml</span><br><span class=\"line\">sed -i <span class=\"string\">&quot;s#registry.k8s.io/pause:3.8#registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.9#g&quot;</span>  /etc/containerd/config.toml</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">vim /etc/containerd/config.toml</span><br><span class=\"line\">  [plugins.<span class=\"string\">&quot;io.containerd.grpc.v1.cri&quot;</span>.registry.mirrors]</span><br><span class=\"line\">    [plugins.<span class=\"string\">&quot;io.containerd.grpc.v1.cri&quot;</span>.registry.mirrors.<span class=\"string\">&quot;docker.io&quot;</span>]</span><br><span class=\"line\">      endpoint = [<span class=\"string\">&quot;https://docker-mirror.h3d.com.cn&quot;</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># cgroup</span></span><br><span class=\"line\">vim /etc/containerd/config.toml</span><br><span class=\"line\">[plugins.<span class=\"string\">&quot;io.containerd.grpc.v1.cri&quot;</span>.containerd.runtimes.runc.options]</span><br><span class=\"line\">  SystemdCgroup = <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure></div></li>\n<li>k8s</li>\n</ol>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cat</span> &lt;&lt;<span class=\"string\">EOF &gt; /etc/yum.repos.d/kubernetes.repo</span></span><br><span class=\"line\"><span class=\"string\">[kubernetes]</span></span><br><span class=\"line\"><span class=\"string\">name=Kubernetes</span></span><br><span class=\"line\"><span class=\"string\">baseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64/</span></span><br><span class=\"line\"><span class=\"string\">enabled=1</span></span><br><span class=\"line\"><span class=\"string\">gpgcheck=1</span></span><br><span class=\"line\"><span class=\"string\">repo_gpgcheck=1</span></span><br><span class=\"line\"><span class=\"string\">gpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg</span></span><br><span class=\"line\"><span class=\"string\">EOF</span></span><br></pre></td></tr></table></figure></div>\n<ol start=\"9\">\n<li>kubeletkubeadmkubectl()</li>\n</ol>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">yum list kubelet --showduplicates |grep 1.28</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">yum install -y kubelet-1.28.2 kubeadm-1.28.2 kubectl-1.28.2 --disableexcludes=kubernetes</span><br><span class=\"line\">systemctl <span class=\"built_in\">enable</span> --now kubelet</span><br></pre></td></tr></table></figure></div>\n<ol start=\"10\">\n<li>crictl()</li>\n</ol>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># crictl</span></span><br><span class=\"line\"><span class=\"built_in\">cat</span>  &lt;&lt;<span class=\"string\">EOF | sudo tee /etc/crictl.yaml</span></span><br><span class=\"line\"><span class=\"string\">runtime-endpoint: unix:///var/run/containerd/containerd.sock</span></span><br><span class=\"line\"><span class=\"string\">timeout: 5</span></span><br><span class=\"line\"><span class=\"string\">image-endpoint: unix:///var/run/containerd/containerd.sock</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">EOF</span></span><br></pre></td></tr></table></figure></div>\n<ol start=\"11\">\n<li>(master)</li>\n</ol>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">kubeadm init --kubernetes-version=1.28.15 \\</span><br><span class=\"line\">--apiserver-advertise-address=193.168.6.235  \\</span><br><span class=\"line\">--image-repository  registry.aliyuncs.com/google_containers \\</span><br><span class=\"line\">--pod-network-cidr=10.1.0.0/16</span><br><span class=\"line\">--service-cidr=10.96.0.0/12</span><br></pre></td></tr></table></figure></div>\n<p></p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Your Kubernetes control-plane has initialized successfully!</span><br><span class=\"line\"></span><br><span class=\"line\">To start using your cluster, you need to run the following as a regular user:</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"built_in\">mkdir</span> -p <span class=\"variable\">$HOME</span>/.kube</span><br><span class=\"line\">  <span class=\"built_in\">sudo</span> <span class=\"built_in\">cp</span> -i /etc/kubernetes/admin.conf <span class=\"variable\">$HOME</span>/.kube/config</span><br><span class=\"line\">  <span class=\"built_in\">sudo</span> <span class=\"built_in\">chown</span> $(<span class=\"built_in\">id</span> -u):$(<span class=\"built_in\">id</span> -g) <span class=\"variable\">$HOME</span>/.kube/config</span><br><span class=\"line\"></span><br><span class=\"line\">Alternatively, <span class=\"keyword\">if</span> you are the root user, you can run:</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"built_in\">export</span> KUBECONFIG=/etc/kubernetes/admin.conf</span><br><span class=\"line\"></span><br><span class=\"line\">You should now deploy a pod network to the cluster.</span><br><span class=\"line\">Run <span class=\"string\">&quot;kubectl apply -f [podnetwork].yaml&quot;</span> with one of the options listed at:</span><br><span class=\"line\">  https://kubernetes.io/docs/concepts/cluster-administration/addons/</span><br><span class=\"line\"></span><br><span class=\"line\">Then you can <span class=\"built_in\">join</span> any number of worker nodes by running the following on each as root:</span><br><span class=\"line\"></span><br><span class=\"line\">kubeadm <span class=\"built_in\">join</span> 192.168.6.235:6443 --token r10sv8.8wdmesq0hl16ztxy \\</span><br><span class=\"line\">    --discovery-token-ca-cert-hash sha256:fdcbd538e705dd0d68ea7d0aea289f09d1b3e461bab539c2f0b4262ae36762b9 </span><br></pre></td></tr></table></figure></div>\n<ol start=\"12\">\n<li>master</li>\n</ol>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">mkdir</span> -p <span class=\"variable\">$HOME</span>/.kube</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> <span class=\"built_in\">cp</span> -i /etc/kubernetes/admin.conf <span class=\"variable\">$HOME</span>/.kube/config</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> <span class=\"built_in\">chown</span> $(<span class=\"built_in\">id</span> -u):$(<span class=\"built_in\">id</span> -g) <span class=\"variable\">$HOME</span>/.kube/config</span><br><span class=\"line\"><span class=\"built_in\">export</span> KUBECONFIG=/etc/kubernetes/admin.conf</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># master</span></span><br><span class=\"line\">kubectl taint nodes --all node-role.kubernetes.io/control-plane-</span><br></pre></td></tr></table></figure></div>\n<ol start=\"13\">\n<li></li>\n</ol>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">kubectl get nodes</span><br><span class=\"line\"></span><br><span class=\"line\">kubectl get pods -A</span><br></pre></td></tr></table></figure></div>\n<ol start=\"14\">\n<li></li>\n</ol>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">kubectl apply -f scripts/calico.yaml</span><br></pre></td></tr></table></figure></div>\n\n<ol start=\"15\">\n<li>worker</li>\n</ol>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># worker</span></span><br><span class=\"line\">kubeadm <span class=\"built_in\">join</span> 192.168.6.235:6443 --token r10sv8.8wdmesq0hl16ztxy \\</span><br><span class=\"line\">    --discovery-token-ca-cert-hash sha256:fdcbd538e705dd0d68ea7d0aea289f09d1b3e461bab539c2f0b4262ae36762b9 </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># node</span></span><br><span class=\"line\">kubectl get nodes</span><br></pre></td></tr></table></figure></div>\n\n\n\n\n\n<h2 id=\"K8s-nimikube-\"><a href=\"#K8s-nimikube-\" class=\"headerlink\" title=\"K8s nimikube \"></a>K8s nimikube </h2><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> install minikube-linux-amd64 /usr/local/bin/minikube</span><br><span class=\"line\"><span class=\"comment\"># x86 amd64  arm arm64</span></span><br><span class=\"line\">minikube start --driver=docker <span class=\"comment\">#   </span></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">minikube start \\</span><br><span class=\"line\">  --image-mirror-country=cn \\</span><br><span class=\"line\">  --registry-mirror=https://registry.cn-hangzhou.aliyuncs.com \\</span><br><span class=\"line\">  --driver=docker</span><br><span class=\"line\"><span class=\"comment\">#  docker minikube --base-image=</span></span><br><span class=\"line\"><span class=\"comment\"># --base-image=registry.cn-hangzhou.aliyuncs.com/google_containers/kicbase:v0.0.46</span></span><br></pre></td></tr></table></figure></div>\n<p>CPU</p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">uname</span> -m</span><br><span class=\"line\"><span class=\"comment\"># aarch64   aarch64arm</span></span><br></pre></td></tr></table></figure></div>\n<p>kubectl get ns local-path-storage -o json | jq del(.spec.finalizers)| kubectl replace raw &#x2F;api&#x2F;v1&#x2F;namespaces&#x2F;local-path-storage&#x2F;finalize -f -</p>\n<h2 id=\"K8s\"><a href=\"#K8s\" class=\"headerlink\" title=\"K8s\"></a>K8s</h2><h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td><code>kubectl cluster-info</code></td>\n</tr>\n<tr>\n<td></td>\n<td><code>kubectl config current-context</code></td>\n</tr>\n<tr>\n<td></td>\n<td><code>kubectl config get-contexts</code></td>\n</tr>\n<tr>\n<td></td>\n<td><code>kubectl config use-context &lt;context-name&gt;</code></td>\n</tr>\n<tr>\n<td></td>\n<td><code>kubectl config set-context --current --namespace=&lt;namespace&gt;</code></td>\n</tr>\n</tbody></table>\n<h3 id=\"-PodDeploymentService\"><a href=\"#-PodDeploymentService\" class=\"headerlink\" title=\" PodDeploymentService\"></a> PodDeploymentService</h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td><code>kubectl get all</code></td>\n</tr>\n<tr>\n<td> Pod</td>\n<td><code>kubectl get pods [-n &lt;namespace&gt;] [-o wide]</code></td>\n</tr>\n<tr>\n<td> Deployment</td>\n<td><code>kubectl get deployments</code></td>\n</tr>\n<tr>\n<td> Service</td>\n<td><code>kubectl get svc</code></td>\n</tr>\n<tr>\n<td></td>\n<td><code>kubectl apply -f &lt;file.yaml&gt;</code></td>\n</tr>\n<tr>\n<td></td>\n<td><code>kubectl delete -f &lt;file.yaml&gt;</code></td>\n</tr>\n<tr>\n<td> Pod</td>\n<td><code>kubectl delete pod &lt;pod-name&gt;</code></td>\n</tr>\n<tr>\n<td> Deployment</td>\n<td><code>kubectl rollout restart deployment &lt;deployment-name&gt;</code></td>\n</tr>\n<tr>\n<td></td>\n<td><code>kubectl edit deployment &lt;deployment-name&gt;</code></td>\n</tr>\n</tbody></table>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td><code>kubectl logs &lt;pod-name&gt;</code></td>\n</tr>\n<tr>\n<td></td>\n<td><code>kubectl logs -f &lt;pod-name&gt;</code></td>\n</tr>\n<tr>\n<td></td>\n<td><code>kubectl logs &lt;pod-name&gt; -c &lt;container-name&gt;</code></td>\n</tr>\n<tr>\n<td></td>\n<td><code>kubectl exec -it &lt;pod-name&gt; -- /bin/bash</code></td>\n</tr>\n<tr>\n<td> Pod </td>\n<td><code>kubectl describe pod &lt;pod-name&gt;</code></td>\n</tr>\n<tr>\n<td></td>\n<td><code>kubectl get events</code></td>\n</tr>\n</tbody></table>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td><code>kubectl get namespaces</code></td>\n</tr>\n<tr>\n<td></td>\n<td><code>kubectl create namespace &lt;name&gt;</code></td>\n</tr>\n<tr>\n<td></td>\n<td><code>kubectl delete namespace &lt;name&gt;</code></td>\n</tr>\n</tbody></table>\n<h3 id=\"-PVCPV\"><a href=\"#-PVCPV\" class=\"headerlink\" title=\" PVCPV\"></a> PVCPV</h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td> PVC</td>\n<td><code>kubectl get pvc</code></td>\n</tr>\n<tr>\n<td> PV</td>\n<td><code>kubectl get pv</code></td>\n</tr>\n</tbody></table>\n<h3 id=\"-ConfigMapSecret\"><a href=\"#-ConfigMapSecret\" class=\"headerlink\" title=\" ConfigMapSecret\"></a> ConfigMapSecret</h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td> ConfigMap</td>\n<td><code>kubectl create configmap &lt;name&gt; --from-literal=key=value</code></td>\n</tr>\n<tr>\n<td> ConfigMap</td>\n<td><code>kubectl get configmap</code></td>\n</tr>\n<tr>\n<td> Secret</td>\n<td><code>kubectl create secret generic &lt;name&gt; --from-literal=key=value</code></td>\n</tr>\n<tr>\n<td> Secret</td>\n<td><code>kubectl get secrets</code></td>\n</tr>\n</tbody></table>\n<h3 id=\"-ServiceIngress\"><a href=\"#-ServiceIngress\" class=\"headerlink\" title=\" ServiceIngress\"></a> ServiceIngress</h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td> Deployment</td>\n<td><code>kubectl create deployment &lt;name&gt; --image=&lt;image&gt;</code></td>\n</tr>\n<tr>\n<td> Service</td>\n<td><code>kubectl expose deployment &lt;name&gt; --port=80 --target-port=8080 --type=NodePort</code></td>\n</tr>\n<tr>\n<td> Ingress</td>\n<td><code>kubectl get ingress</code></td>\n</tr>\n</tbody></table>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td><code>kubectl run -it --rm debug --image=busybox -- /bin/sh</code></td>\n</tr>\n<tr>\n<td> YAML</td>\n<td><code>kubectl get deployment &lt;name&gt; -o yaml &gt; deployment.yaml</code></td>\n</tr>\n</tbody></table>\n<h2 id=\"Helm-K8s\"><a href=\"#Helm-K8s\" class=\"headerlink\" title=\"Helm K8s\"></a>Helm K8s</h2><h3 id=\"-Chart\"><a href=\"#-Chart\" class=\"headerlink\" title=\" Chart\"></a> Chart</h3><p>Chart  Helm </p>\n<p>Chart  Kubernetes  YAML  + </p>\n<p> Chart </p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mychart/</span><br><span class=\"line\"> Chart.yaml           <span class=\"comment\"># Chart </span></span><br><span class=\"line\"> values.yaml          <span class=\"comment\">#  -f </span></span><br><span class=\"line\"> templates/           <span class=\"comment\">#  YAML </span></span><br><span class=\"line\">    deployment.yaml</span><br><span class=\"line\">    service.yaml</span><br><span class=\"line\">    _helpers.tpl     <span class=\"comment\"># </span></span><br></pre></td></tr></table></figure></div>\n<p>Chart </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td> </td>\n<td>DeploymentServiceIngress </td>\n</tr>\n<tr>\n<td> </td>\n<td></td>\n</tr>\n<tr>\n<td> </td>\n<td> <code>values.yaml</code> </td>\n</tr>\n<tr>\n<td> </td>\n<td>Chart  Helm release </td>\n</tr>\n<tr>\n<td> </td>\n<td> LokiPrometheusGitLab </td>\n</tr>\n</tbody></table>\n<h3 id=\"helm\"><a href=\"#helm\" class=\"headerlink\" title=\"helm\"></a>helm</h3><h5 id=\"-Chart-\"><a href=\"#-Chart-\" class=\"headerlink\" title=\" Chart \"></a> Chart </h5><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">helm repo add &lt;name&gt; &lt;url&gt;             <span class=\"comment\">#  Helm </span></span><br><span class=\"line\">helm repo list                         <span class=\"comment\"># </span></span><br><span class=\"line\">helm repo update                       <span class=\"comment\"># </span></span><br><span class=\"line\">helm search repo &lt;keyword&gt;             <span class=\"comment\">#  chart</span></span><br></pre></td></tr></table></figure></div>\n<h5 id=\"--\"><a href=\"#--\" class=\"headerlink\" title=\"  &#x2F; \"></a>  &#x2F; </h5><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">helm install &lt;release-name&gt; &lt;chart&gt; -n &lt;namespace&gt; -f &lt;values.yaml&gt;</span><br><span class=\"line\"><span class=\"comment\">#  chart</span></span><br><span class=\"line\"><span class=\"comment\"># helm install loki grafana/loki-stack -n monitor -f loki-values.yaml</span></span><br><span class=\"line\"></span><br><span class=\"line\">helm upgrade &lt;release-name&gt; &lt;chart&gt; -n &lt;namespace&gt; -f &lt;values.yaml&gt;</span><br><span class=\"line\"><span class=\"comment\">#  release</span></span><br><span class=\"line\"></span><br><span class=\"line\">helm upgrade --install &lt;release-name&gt; &lt;chart&gt; ...</span><br><span class=\"line\"><span class=\"comment\">#  CI/CD</span></span><br><span class=\"line\"></span><br><span class=\"line\">helm uninstall &lt;release-name&gt; -n &lt;namespace&gt;</span><br><span class=\"line\"><span class=\"comment\">#  release</span></span><br><span class=\"line\"></span><br><span class=\"line\">helm rollback &lt;release-name&gt; &lt;revision&gt; -n &lt;namespace&gt;</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br></pre></td></tr></table></figure></div>\n<h5 id=\"---\"><a href=\"#---\" class=\"headerlink\" title=\"  &#x2F;  &#x2F; \"></a>  &#x2F;  &#x2F; </h5><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">helm list -n &lt;namespace&gt;             <span class=\"comment\">#  release</span></span><br><span class=\"line\">helm status &lt;release-name&gt; -n &lt;namespace&gt;  <span class=\"comment\">#  release </span></span><br><span class=\"line\">helm get values &lt;release-name&gt; -n &lt;namespace&gt;       <span class=\"comment\">#  values</span></span><br><span class=\"line\">helm get manifest &lt;release-name&gt; -n &lt;namespace&gt;     <span class=\"comment\">#  Kubernetes YAML</span></span><br><span class=\"line\">helm <span class=\"built_in\">history</span> &lt;release-name&gt; -n &lt;namespace&gt;          <span class=\"comment\"># </span></span><br></pre></td></tr></table></figure></div>\n\n<h2 id=\"Kustomize-\"><a href=\"#Kustomize-\" class=\"headerlink\" title=\"Kustomize \"></a>Kustomize </h2><p>  Helm  Kustomize </p>\n<p>Helm Kustomize YAML </p>\n<p> Kustomize </p>\n<p>Kustomize  Kubernetes kubectl  1.14  YAML </p>\n<p> Helm  { { } }  + patch  YAML</p>\n<p> Kustomize </p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">my-app/</span><br><span class=\"line\"> base/   <span class=\"comment\"># </span></span><br><span class=\"line\">    deployment.yaml</span><br><span class=\"line\">    service.yaml</span><br><span class=\"line\">    kustomization.yaml</span><br><span class=\"line\"> overlays/  <span class=\"comment\">#  patch </span></span><br><span class=\"line\">    dev/</span><br><span class=\"line\">       kustomization.yaml</span><br><span class=\"line\">       patch.yaml</span><br><span class=\"line\">    prod/</span><br><span class=\"line\">       kustomization.yaml</span><br><span class=\"line\">       patch.yaml</span><br></pre></td></tr></table></figure></div>\n\n<p> Kustomize </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>namePrefix &#x2F; nameSuffix</td>\n<td> &#x2F; </td>\n</tr>\n<tr>\n<td>configMapGenerator &#x2F; secretGenerator</td>\n<td> ConfigMap &#x2F; Secret</td>\n</tr>\n<tr>\n<td>patchesStrategicMerge</td>\n<td></td>\n</tr>\n<tr>\n<td>images </td>\n<td></td>\n</tr>\n<tr>\n<td> &#x2F; </td>\n<td> base  overlay</td>\n</tr>\n</tbody></table>\n<p> Helm vs Kustomize</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>Helm</th>\n<th>Kustomize</th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>Go  <code>&#123;&#123; &#125;&#125;</code></td>\n<td> YAML + Patch</td>\n</tr>\n<tr>\n<td></td>\n<td> Chart </td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>values.yaml</td>\n<td>patch.yaml + kustomization.yaml</td>\n</tr>\n<tr>\n<td></td>\n<td> PrometheusHarbor</td>\n<td> dev&#x2F;test&#x2F;prod</td>\n</tr>\n<tr>\n<td></td>\n<td>Helm  Release </td>\n<td> Release  Git </td>\n</tr>\n<tr>\n<td></td>\n<td><code>helm install</code></td>\n<td><code>kubectl apply -k</code>  <code>kustomize build</code></td>\n</tr>\n</tbody></table>\n<p> <br>Helm yum &#x2F; apt  <br>    \tKustomize  docker-compose.override.yml   YAML </p>\n<p> </p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#  Helm  Grafana</span></span><br><span class=\"line\">helm install grafana grafana/grafana -f prod-values.yaml</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#  Kustomize  app</span></span><br><span class=\"line\">kubectl apply -k overlays/prod</span><br></pre></td></tr></table></figure></div>\n\n\n<h2 id=\"K8s\"><a href=\"#K8s\" class=\"headerlink\" title=\"K8s\"></a>K8s</h2><p> <br>    \tNodeSelector &#x2F; Affinity &#x2F; Taints &amp; Tolerations Pod <br>    \tnodeSelector<br>    \taffinity&#x2F;<br>    \ttaints &amp; tolerations Pod<br>    \tPriority &amp; Preemption Pod  Pod</p>\n<p></p>\n<p> <br>    \tStatefulSet<br>    \tDaemonSet Pod<br>    \tJob &#x2F; CronJob Linux  cron<br>    \tHorizontal Pod AutoscalerHPA CPU  Pod <br>    \tVertical Pod AutoscalerVPA Pod <br>    \tCluster Autoscaler</p>\n<p></p>\n<p> <br>    \tNetworkPolicyK8s  Pod <br>    \tService Mesh IstioLinkerdA&#x2F;B </p>\n<p></p>\n<p> <br>    \tStorageClassIO PVC <br>    \tVolumeSnapshot &#x2F; VolumeClone PVC <br>    \tCSIContainer Storage Interface</p>\n<p></p>\n<p> <br>    \tRBACRole-Based Access Control<br>    \tPodSecurityPolicy&#x2F; Pod Security Admission Pod <br>    \tNetworkPolicy<br>    \tServiceAccount &amp; Secrets</p>\n<p></p>\n<p> <br>    \tEvents &#x2F; Probes &#x2F; Metrics API<br>    \tLoki &#x2F; ELK &#x2F; Fluentd &#x2F; Promtail DaemonSet <br>    \tTracing Jaeger&#x2F;Zipkin <br>    \tPrometheus + Grafana + Alertmanager</p>\n<p></p>\n<p> <br>    \tCanary &#x2F; Blue-Green &#x2F; RollingUpdate &#x2F; Recreate<br>    \tKustomize &#x2F; Helm</p>\n<p></p>\n<p> <br>    \tOperatorCRD + Controller<br>    \tWebhooksMutating &#x2F; Validating<br>    \tAdmission Controller</p>\n","excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>Kubernetes K8s Google </p>\n<p><strong></strong></p>\n<p>K8s </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ol>\n<li> Kubernetes </li>\n</ol>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Linux </td>\n<td></td>\n</tr>\n<tr>\n<td>Dockerrunvolume</td>\n<td></td>\n</tr>\n<tr>\n<td>CI&#x2F;CD </td>\n<td></td>\n</tr>\n<tr>\n<td>NginxWeb </td>\n<td></td>\n</tr>\n<tr>\n<td>YAML </td>\n<td></td>\n</tr>\n</tbody></table>\n<p>  2 </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Pod</td>\n<td>1~n </td>\n</tr>\n<tr>\n<td>Node</td>\n<td></td>\n</tr>\n<tr>\n<td>Deployment</td>\n<td> Pod</td>\n</tr>\n<tr>\n<td>Service</td>\n<td>ClusterIP &#x2F; NodePort</td>\n</tr>\n<tr>\n<td>Namespace</td>\n<td> Git </td>\n</tr>\n</tbody></table>\n<p>  K8s</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>minikube   + </td>\n</tr>\n<tr>\n<td>Docker Desktop  K8s</td>\n<td> Mac </td>\n</tr>\n<tr>\n<td> kubectl </td>\n<td> CLI </td>\n</tr>\n<tr>\n<td> Nginx</td>\n<td> Deployment + Service</td>\n</tr>\n<tr>\n<td></td>\n<td> HTML  nginx </td>\n</tr>\n</tbody></table>\n<p>  +  + CI&#x2F;CD </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Helm</td>\n<td>K8s   WordPress &#x2F; Redis &#x2F; MySQL</td>\n</tr>\n<tr>\n<td>Ingress</td>\n<td>HTTP  blog.karen.com</td>\n</tr>\n<tr>\n<td>ConfigMap + Secret</td>\n<td> config</td>\n</tr>\n<tr>\n<td>Kustomize</td>\n<td></td>\n</tr>\n<tr>\n<td>GitOps</td>\n<td>CI&#x2F;CD  K8sArgoCDFlux</td>\n</tr>\n<tr>\n<td>Prometheus + Grafana</td>\n<td></td>\n</tr>\n</tbody></table>\n<h3 id=\"Cluster-\"><a href=\"#Cluster-\" class=\"headerlink\" title=\"Cluster \"></a>Cluster </h3><ol>\n<li><p>Cluster<br> &#x3D; <br><strong></strong><br><strong></strong><br> &#x2F; K8s <br><strong></strong><br>  <br> <br> \t + <br> \t<br> Kubernetes <br> \t<br> \t 3  3 <br> \t</p>\n</li>\n<li><p> </p>\n</li>\n</ol>\n<p>\t +  +<br>\t<br>\t<br>\t<br>\t<br>\t<br>\t</p>\n<p>  &#x3D; <br>  &#x3D; Kubernetes </p>\n<ol start=\"3\">\n<li> </li>\n</ol>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td> (Cluster)</td>\n<td></td>\n</tr>\n<tr>\n<td> (Node)</td>\n<td></td>\n</tr>\n<tr>\n<td> (Master)</td>\n<td>API</td>\n</tr>\n<tr>\n<td> (Worker)</td>\n<td> nginx &#x2F; </td>\n</tr>\n</tbody></table>\n<h4 id=\"k8s\"><a href=\"#k8s\" class=\"headerlink\" title=\"k8s\"></a>k8s</h4><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">            [ Master  ]</span><br><span class=\"line\">           </span><br><span class=\"line\">              kube-scheduler</span><br><span class=\"line\">             API Server</span><br><span class=\"line\">             </span><br><span class=\"line\">           </span><br><span class=\"line\">                     </span><br><span class=\"line\">      </span><br><span class=\"line\">                                  </span><br><span class=\"line\">[Worker Node1]   [Worker Node2]  [Worker Node3]</span><br><span class=\"line\">  Pod: Nginx     Pod: Blog     Pod: Redis</span><br><span class=\"line\">  Pod: Mongo     Pod: Hexo     Pod: </span><br></pre></td></tr></table></figure>\n<p><strong></strong></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>K8s(CDN+)</td>\n</tr>\n<tr>\n<td>SaaS</td>\n<td>+</td>\n</tr>\n<tr>\n<td></td>\n<td>   </td>\n</tr>\n</tbody></table>\n<h5 id=\"-K8s-\"><a href=\"#-K8s-\" class=\"headerlink\" title=\" + K8s \"></a> + K8s </h5><h3 id=\"k8s\"><a href=\"#k8s\" class=\"headerlink\" title=\"k8s\"></a>k8s</h3><p> Docker  Web </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">docker run -d -p 80:80 my-app</span><br></pre></td></tr></table></figure>\n<p><br>    1.\t 10 <br>    2.\t<br>    3.\t<br>    4.\t<br>    5.\t<br>  Kubernetes <strong></strong></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>Pod</td>\n<td> K8s   Pod </td>\n</tr>\n<tr>\n<td>Node</td>\n<td> Pod </td>\n</tr>\n<tr>\n<td>Cluster</td>\n<td> Node  K8s </td>\n</tr>\n<tr>\n<td>Deployment</td>\n<td> Pod </td>\n</tr>\n<tr>\n<td>Service</td>\n<td> Pod  </td>\n</tr>\n<tr>\n<td>Namespace</td>\n<td></td>\n</tr>\n<tr>\n<td>Ingress</td>\n<td></td>\n</tr>\n<tr>\n<td>Volume &#x2F; PVC</td>\n<td></td>\n</tr>\n<tr>\n<td>ConfigMap &#x2F; Secret</td>\n<td></td>\n</tr>\n<tr>\n<td>RBAC </td>\n<td></td>\n</tr>\n<tr>\n<td>Kubelet &#x2F; Controller &#x2F; Scheduler</td>\n<td> K8s </td>\n</tr>\n</tbody></table>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td> (Image)</td>\n<td> +  App </td>\n</tr>\n<tr>\n<td> (Container)</td>\n<td></td>\n</tr>\n<tr>\n<td>Docker</td>\n<td>K8s  containerd</td>\n</tr>\n<tr>\n<td></td>\n<td> K8s </td>\n</tr>\n<tr>\n<td>YAML </td>\n<td>K8s  YAML </td>\n</tr>\n</tbody></table>\n<h2 id=\"K8s-\"><a href=\"#K8s-\" class=\"headerlink\" title=\"K8s \"></a>K8s </h2><p> Kubernetes kubeadm  kubelet </p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><table>\n<thead>\n<tr>\n<th></th>\n<th>&#x2F;</th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>Ubuntu 20.04+ &#x2F; CentOS 7+</td>\n<td> LTS </td>\n</tr>\n<tr>\n<td></td>\n<td> root   sudo </td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td><code>hostnamectl set-hostname node1</code></td>\n<td></td>\n</tr>\n<tr>\n<td>hosts </td>\n<td></td>\n<td> <code>/etc/hosts</code> </td>\n</tr>\n<tr>\n<td></td>\n<td> <code>chrony</code>  <code>ntp</code> </td>\n<td></td>\n</tr>\n</tbody></table>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td> swap</td>\n<td><code>swapoff -a</code>  <code>/etc/fstab</code>  swap </td>\n<td>Kubernetes  swap</td>\n</tr>\n<tr>\n<td></td>\n<td><code>systemctl stop firewalld/ufw</code></td>\n<td></td>\n</tr>\n<tr>\n<td> SELinuxCentOS</td>\n<td><code>setenforce 0</code>  <code>/etc/selinux/config</code></td>\n<td> kubelet </td>\n</tr>\n<tr>\n<td> iptables</td>\n<td><code>modprobe br_netfilter</code> +  sysctl </td>\n<td></td>\n</tr>\n</tbody></table>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cat</span> &lt;&lt;<span class=\"string\">EOF | sudo tee /etc/modules-load.d/k8s.conf</span></span><br><span class=\"line\"><span class=\"string\">br_netfilter</span></span><br><span class=\"line\"><span class=\"string\">EOF</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cat</span> &lt;&lt;<span class=\"string\">EOF | sudo tee /etc/sysctl.d/k8s.conf</span></span><br><span class=\"line\"><span class=\"string\">net.bridge.bridge-nf-call-iptables  = 1</span></span><br><span class=\"line\"><span class=\"string\">net.ipv4.ip_forward                 = 1</span></span><br><span class=\"line\"><span class=\"string\">net.bridge.bridge-nf-call-ip6tables = 1</span></span><br><span class=\"line\"><span class=\"string\">EOF</span></span><br><span class=\"line\"></span><br><span class=\"line\">sysctl --system</span><br></pre></td></tr></table></figure>\n<h5 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h5><p>k8s1.24docker containerd</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>containerd </td>\n<td></td>\n</tr>\n<tr>\n<td>Docker </td>\n<td> cri-dockerd</td>\n</tr>\n</tbody></table>\n<p> containerd</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> apt install -y containerd</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> <span class=\"built_in\">mkdir</span> -p /etc/containerd</span><br><span class=\"line\">containerd config default | <span class=\"built_in\">sudo</span> <span class=\"built_in\">tee</span> /etc/containerd/config.toml</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl restart containerd</span><br></pre></td></tr></table></figure>\n<h5 id=\"-kubeadm-kubelet-kubectl\"><a href=\"#-kubeadm-kubelet-kubectl\" class=\"headerlink\" title=\" kubeadm &#x2F; kubelet &#x2F; kubectl\"></a> kubeadm &#x2F; kubelet &#x2F; kubectl</h5><p> K8s  + </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> apt update &amp;&amp; <span class=\"built_in\">sudo</span> apt install -y apt-transport-https curl</span><br><span class=\"line\"></span><br><span class=\"line\">curl -fsSL https://packages.cloud.google.com/apt/doc/apt-key.gpg | <span class=\"built_in\">sudo</span> apt-key add -</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">cat</span> &lt;&lt;<span class=\"string\">EOF | sudo tee /etc/apt/sources.list.d/kubernetes.list</span></span><br><span class=\"line\"><span class=\"string\">deb https://apt.kubernetes.io/ kubernetes-xenial main</span></span><br><span class=\"line\"><span class=\"string\">EOF</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> apt update</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> apt install -y kubelet kubeadm kubectl</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> apt-mark hold kubelet kubeadm kubectl</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"-k8s\"><a href=\"#-k8s\" class=\"headerlink\" title=\" k8s\"></a> k8s</h3><p></p>\n<h3 id=\"crictl--nerdctl\"><a href=\"#crictl--nerdctl\" class=\"headerlink\" title=\"crictl  nerdctl\"></a>crictl  nerdctl</h3><p> crictl  nginx:latest <br> nerdctl images <br><strong> containerd  namespacek8s.io</strong> nerdctl  moby namespace<br>  nerdctl  namespace<br> containerd </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ctr namespaces list</span><br></pre></td></tr></table></figure>\n<p> namespace</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">NAME     LABELS</span><br><span class=\"line\">default</span><br><span class=\"line\">k8s.io</span><br><span class=\"line\">moby</span><br></pre></td></tr></table></figure>\n<p>  k8s.io </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nerdctl --namespace k8s.io images</span><br></pre></td></tr></table></figure>\n<p> <br> nginx</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nerdctl --namespace k8s.io save nginx:latest -o /tmp/nginx.tar</span><br></pre></td></tr></table></figure>\n<p> moby  namespace </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nerdctl --namespace moby load -i /tmp/nginx.tar</span><br></pre></td></tr></table></figure>\n<p>  namespace<br> nerdctl  k8s.io </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">export</span> CONTAINERD_NAMESPACE=k8s.io</span><br></pre></td></tr></table></figure>\n<p> .bashrc  .zshrc <br><br><br> namespace <br>ctr namespaces list<br>nerdctl  k8s <br>nerdctl namespace k8s.io images<br> nginx <br>nerdctl namespace k8s.io save nginx -o nginx.tar<br><br>nerdctl load -i nginx.tar</p>\n<p>nerdctl namespace k8s.io images digests</p>\n<p>nerdctl namespace k8s.io image prune</p>\n<h2 id=\"K8S-\"><a href=\"#K8S-\" class=\"headerlink\" title=\"K8S \"></a>K8S </h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p>31master+2node</p>\n<table>\n<thead>\n<tr>\n<th>IP</th>\n<th></th>\n<th></th>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>192.168.6.235</td>\n<td>k8s-master</td>\n<td>master</td>\n<td>1</td>\n<td>16C 32G</td>\n</tr>\n<tr>\n<td>192.168.7.75</td>\n<td>k8s-node1</td>\n<td>node</td>\n<td>1</td>\n<td>16C 32G</td>\n</tr>\n<tr>\n<td>192.168.7.76</td>\n<td>k8s-node2</td>\n<td>node</td>\n<td>1</td>\n<td>16C 32G</td>\n</tr>\n</tbody></table>\n<h3 id=\"-K8S\"><a href=\"#-K8S\" class=\"headerlink\" title=\" K8S\"></a> K8S</h3><ol>\n<li> yum<br><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">hostnamectl set-h^Ctname k8s-master</span><br><span class=\"line\">hostnamectl set-h^Ctname k8s-node1</span><br><span class=\"line\">hostnamectl set-h^Ctname k8s-node2</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">wget -O /etc/yum.repos.d/CentOS-Base.repo https://mirrors.aliyun.com/repo/Centos-vault-8.5.2111.repo</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure></li>\n<li>hosts<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">192.168.6.235 k8s-master</span><br><span class=\"line\">192.168.7.75 k8s-node1</span><br><span class=\"line\">192.168.7.76 k8s-node2</span><br></pre></td></tr></table></figure></li>\n<li><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> setenforce 0</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> sed -i <span class=\"string\">&#x27;s/^SELINUX=.*/SELINUX=disabled/&#x27;</span> /etc/selinux/config</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl stop firewalld</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl <span class=\"built_in\">disable</span> firewalld</span><br></pre></td></tr></table></figure></li>\n<li>swap<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># swap</span></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> swapoff -a</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> sed -i <span class=\"string\">&#x27;/swap/d&#x27;</span> /etc/fstab</span><br><span class=\"line\"><span class=\"comment\"># swap</span></span><br><span class=\"line\">free</span><br></pre></td></tr></table></figure></li>\n<li></li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">yum install  -y ipvsadm ipset sysstat conntrack libseccomp</span><br><span class=\"line\"><span class=\"comment\"># dummy0kube-ipvs0k8sipvsserviceIPkube-ipvs0</span></span><br><span class=\"line\"><span class=\"built_in\">cat</span> &gt; /etc/sysconfig/modules/ipvs.modules &lt;&lt;<span class=\"string\">EOF</span></span><br><span class=\"line\"><span class=\"string\">#!/bin/bash</span></span><br><span class=\"line\"><span class=\"string\">ipvs_modules=&quot;ip_vs ip_vs_lc ip_vs_wlc ip_vs_rr ip_vs_wrr ip_vs_lblc ip_vs_lblcr ip_vs_dh ip_vs_sh ip_vs_fo ip_vs_nq ip_vs_sed ip_vs_ftp nf_conntrack ip_tables ip_set xt_set ipt_set ipt_rpfilter ipt_REJECT ipip &quot;</span></span><br><span class=\"line\"><span class=\"string\">for kernel_module in \\$&#123;ipvs_modules&#125;; do</span></span><br><span class=\"line\"><span class=\"string\">  /sbin/modinfo -F filename \\$&#123;kernel_module&#125; &gt; /dev/null 2&gt;&amp;1</span></span><br><span class=\"line\"><span class=\"string\">  if [ $? -eq 0 ]; then</span></span><br><span class=\"line\"><span class=\"string\">    /sbin/modprobe \\$&#123;kernel_module&#125;</span></span><br><span class=\"line\"><span class=\"string\">  fi</span></span><br><span class=\"line\"><span class=\"string\">done</span></span><br><span class=\"line\"><span class=\"string\">EOF</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">chmod</span> 755 /etc/sysconfig/modules/ipvs.modules </span><br><span class=\"line\">sh /etc/sysconfig/modules/ipvs.modules </span><br><span class=\"line\">lsmod | grep ip_vs</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#  IPv4  iptables </span></span><br><span class=\"line\"><span class=\"built_in\">cat</span> &lt;&lt;<span class=\"string\">EOF | sudo tee /etc/modules-load.d/k8s.conf</span></span><br><span class=\"line\"><span class=\"string\">overlay</span></span><br><span class=\"line\"><span class=\"string\">br_netfilter</span></span><br><span class=\"line\"><span class=\"string\">EOF</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> modprobe overlay</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> modprobe br_netfilter</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#  sysctl </span></span><br><span class=\"line\"><span class=\"built_in\">cat</span> &lt;&lt;<span class=\"string\">EOF | sudo tee /etc/sysctl.d/k8s.conf</span></span><br><span class=\"line\"><span class=\"string\">net.bridge.bridge-nf-call-iptables  = 1</span></span><br><span class=\"line\"><span class=\"string\">net.bridge.bridge-nf-call-ip6tables = 1</span></span><br><span class=\"line\"><span class=\"string\">net.ipv4.ip_forward                 = 1</span></span><br><span class=\"line\"><span class=\"string\">EOF</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#  sysctl </span></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> sysctl --system</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">lsmod | grep br_netfilter</span><br><span class=\"line\">lsmod | grep overlay</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#  net.bridge.bridge-nf-call-iptablesnet.bridge.bridge-nf-call-ip6tables  net.ipv4.ip_forward  sysctl  1</span></span><br><span class=\"line\">sysctl net.bridge.bridge-nf-call-iptables net.bridge.bridge-nf-call-ip6tables net.ipv4.ip_forward</span><br></pre></td></tr></table></figure>\n<ol start=\"6\">\n<li> containerd<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">yum install -y containerd</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">https://github.com/containerd/containerd/blob/main/docs/getting-started.md</span><br></pre></td></tr></table></figure></li>\n<li>containerdcgroup<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># containerd</span></span><br><span class=\"line\">containerd --version</span><br><span class=\"line\"></span><br><span class=\"line\"> 1.6.32</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># aliyun</span></span><br><span class=\"line\"><span class=\"built_in\">mkdir</span> /etc/containerd</span><br><span class=\"line\">containerd config default &gt; /etc/containerd/config.toml</span><br><span class=\"line\">sed -i <span class=\"string\">&quot;s#registry.k8s.io/pause:3.8#registry.cn-hangzhou.aliyuncs.com/google_containers/pause:3.9#g&quot;</span>  /etc/containerd/config.toml</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">vim /etc/containerd/config.toml</span><br><span class=\"line\">  [plugins.<span class=\"string\">&quot;io.containerd.grpc.v1.cri&quot;</span>.registry.mirrors]</span><br><span class=\"line\">    [plugins.<span class=\"string\">&quot;io.containerd.grpc.v1.cri&quot;</span>.registry.mirrors.<span class=\"string\">&quot;docker.io&quot;</span>]</span><br><span class=\"line\">      endpoint = [<span class=\"string\">&quot;https://docker-mirror.h3d.com.cn&quot;</span>]</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># cgroup</span></span><br><span class=\"line\">vim /etc/containerd/config.toml</span><br><span class=\"line\">[plugins.<span class=\"string\">&quot;io.containerd.grpc.v1.cri&quot;</span>.containerd.runtimes.runc.options]</span><br><span class=\"line\">  SystemdCgroup = <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure></li>\n<li>k8s</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cat</span> &lt;&lt;<span class=\"string\">EOF &gt; /etc/yum.repos.d/kubernetes.repo</span></span><br><span class=\"line\"><span class=\"string\">[kubernetes]</span></span><br><span class=\"line\"><span class=\"string\">name=Kubernetes</span></span><br><span class=\"line\"><span class=\"string\">baseurl=https://mirrors.aliyun.com/kubernetes/yum/repos/kubernetes-el7-x86_64/</span></span><br><span class=\"line\"><span class=\"string\">enabled=1</span></span><br><span class=\"line\"><span class=\"string\">gpgcheck=1</span></span><br><span class=\"line\"><span class=\"string\">repo_gpgcheck=1</span></span><br><span class=\"line\"><span class=\"string\">gpgkey=https://mirrors.aliyun.com/kubernetes/yum/doc/yum-key.gpg https://mirrors.aliyun.com/kubernetes/yum/doc/rpm-package-key.gpg</span></span><br><span class=\"line\"><span class=\"string\">EOF</span></span><br></pre></td></tr></table></figure>\n<ol start=\"9\">\n<li>kubeletkubeadmkubectl()</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">yum list kubelet --showduplicates |grep 1.28</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">yum install -y kubelet-1.28.2 kubeadm-1.28.2 kubectl-1.28.2 --disableexcludes=kubernetes</span><br><span class=\"line\">systemctl <span class=\"built_in\">enable</span> --now kubelet</span><br></pre></td></tr></table></figure>\n<ol start=\"10\">\n<li>crictl()</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># crictl</span></span><br><span class=\"line\"><span class=\"built_in\">cat</span>  &lt;&lt;<span class=\"string\">EOF | sudo tee /etc/crictl.yaml</span></span><br><span class=\"line\"><span class=\"string\">runtime-endpoint: unix:///var/run/containerd/containerd.sock</span></span><br><span class=\"line\"><span class=\"string\">timeout: 5</span></span><br><span class=\"line\"><span class=\"string\">image-endpoint: unix:///var/run/containerd/containerd.sock</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\"><span class=\"string\">EOF</span></span><br></pre></td></tr></table></figure>\n<ol start=\"11\">\n<li>(master)</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">kubeadm init --kubernetes-version=1.28.15 \\</span><br><span class=\"line\">--apiserver-advertise-address=193.168.6.235  \\</span><br><span class=\"line\">--image-repository  registry.aliyuncs.com/google_containers \\</span><br><span class=\"line\">--pod-network-cidr=10.1.0.0/16</span><br><span class=\"line\">--service-cidr=10.96.0.0/12</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Your Kubernetes control-plane has initialized successfully!</span><br><span class=\"line\"></span><br><span class=\"line\">To start using your cluster, you need to run the following as a regular user:</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"built_in\">mkdir</span> -p <span class=\"variable\">$HOME</span>/.kube</span><br><span class=\"line\">  <span class=\"built_in\">sudo</span> <span class=\"built_in\">cp</span> -i /etc/kubernetes/admin.conf <span class=\"variable\">$HOME</span>/.kube/config</span><br><span class=\"line\">  <span class=\"built_in\">sudo</span> <span class=\"built_in\">chown</span> $(<span class=\"built_in\">id</span> -u):$(<span class=\"built_in\">id</span> -g) <span class=\"variable\">$HOME</span>/.kube/config</span><br><span class=\"line\"></span><br><span class=\"line\">Alternatively, <span class=\"keyword\">if</span> you are the root user, you can run:</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"built_in\">export</span> KUBECONFIG=/etc/kubernetes/admin.conf</span><br><span class=\"line\"></span><br><span class=\"line\">You should now deploy a pod network to the cluster.</span><br><span class=\"line\">Run <span class=\"string\">&quot;kubectl apply -f [podnetwork].yaml&quot;</span> with one of the options listed at:</span><br><span class=\"line\">  https://kubernetes.io/docs/concepts/cluster-administration/addons/</span><br><span class=\"line\"></span><br><span class=\"line\">Then you can <span class=\"built_in\">join</span> any number of worker nodes by running the following on each as root:</span><br><span class=\"line\"></span><br><span class=\"line\">kubeadm <span class=\"built_in\">join</span> 192.168.6.235:6443 --token r10sv8.8wdmesq0hl16ztxy \\</span><br><span class=\"line\">    --discovery-token-ca-cert-hash sha256:fdcbd538e705dd0d68ea7d0aea289f09d1b3e461bab539c2f0b4262ae36762b9 </span><br></pre></td></tr></table></figure>\n<ol start=\"12\">\n<li>master</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">mkdir</span> -p <span class=\"variable\">$HOME</span>/.kube</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> <span class=\"built_in\">cp</span> -i /etc/kubernetes/admin.conf <span class=\"variable\">$HOME</span>/.kube/config</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> <span class=\"built_in\">chown</span> $(<span class=\"built_in\">id</span> -u):$(<span class=\"built_in\">id</span> -g) <span class=\"variable\">$HOME</span>/.kube/config</span><br><span class=\"line\"><span class=\"built_in\">export</span> KUBECONFIG=/etc/kubernetes/admin.conf</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># master</span></span><br><span class=\"line\">kubectl taint nodes --all node-role.kubernetes.io/control-plane-</span><br></pre></td></tr></table></figure>\n<ol start=\"13\">\n<li></li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">kubectl get nodes</span><br><span class=\"line\"></span><br><span class=\"line\">kubectl get pods -A</span><br></pre></td></tr></table></figure>\n<ol start=\"14\">\n<li></li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">kubectl apply -f scripts/calico.yaml</span><br></pre></td></tr></table></figure>\n\n<ol start=\"15\">\n<li>worker</li>\n</ol>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># worker</span></span><br><span class=\"line\">kubeadm <span class=\"built_in\">join</span> 192.168.6.235:6443 --token r10sv8.8wdmesq0hl16ztxy \\</span><br><span class=\"line\">    --discovery-token-ca-cert-hash sha256:fdcbd538e705dd0d68ea7d0aea289f09d1b3e461bab539c2f0b4262ae36762b9 </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># node</span></span><br><span class=\"line\">kubectl get nodes</span><br></pre></td></tr></table></figure>\n\n\n\n\n\n<h2 id=\"K8s-nimikube-\"><a href=\"#K8s-nimikube-\" class=\"headerlink\" title=\"K8s nimikube \"></a>K8s nimikube </h2><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> install minikube-linux-amd64 /usr/local/bin/minikube</span><br><span class=\"line\"><span class=\"comment\"># x86 amd64  arm arm64</span></span><br><span class=\"line\">minikube start --driver=docker <span class=\"comment\">#   </span></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">minikube start \\</span><br><span class=\"line\">  --image-mirror-country=cn \\</span><br><span class=\"line\">  --registry-mirror=https://registry.cn-hangzhou.aliyuncs.com \\</span><br><span class=\"line\">  --driver=docker</span><br><span class=\"line\"><span class=\"comment\">#  docker minikube --base-image=</span></span><br><span class=\"line\"><span class=\"comment\"># --base-image=registry.cn-hangzhou.aliyuncs.com/google_containers/kicbase:v0.0.46</span></span><br></pre></td></tr></table></figure>\n<p>CPU</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">uname</span> -m</span><br><span class=\"line\"><span class=\"comment\"># aarch64   aarch64arm</span></span><br></pre></td></tr></table></figure>\n<p>kubectl get ns local-path-storage -o json | jq del(.spec.finalizers)| kubectl replace raw &#x2F;api&#x2F;v1&#x2F;namespaces&#x2F;local-path-storage&#x2F;finalize -f -</p>\n<h2 id=\"K8s\"><a href=\"#K8s\" class=\"headerlink\" title=\"K8s\"></a>K8s</h2><h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td><code>kubectl cluster-info</code></td>\n</tr>\n<tr>\n<td></td>\n<td><code>kubectl config current-context</code></td>\n</tr>\n<tr>\n<td></td>\n<td><code>kubectl config get-contexts</code></td>\n</tr>\n<tr>\n<td></td>\n<td><code>kubectl config use-context &lt;context-name&gt;</code></td>\n</tr>\n<tr>\n<td></td>\n<td><code>kubectl config set-context --current --namespace=&lt;namespace&gt;</code></td>\n</tr>\n</tbody></table>\n<h3 id=\"-PodDeploymentService\"><a href=\"#-PodDeploymentService\" class=\"headerlink\" title=\" PodDeploymentService\"></a> PodDeploymentService</h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td><code>kubectl get all</code></td>\n</tr>\n<tr>\n<td> Pod</td>\n<td><code>kubectl get pods [-n &lt;namespace&gt;] [-o wide]</code></td>\n</tr>\n<tr>\n<td> Deployment</td>\n<td><code>kubectl get deployments</code></td>\n</tr>\n<tr>\n<td> Service</td>\n<td><code>kubectl get svc</code></td>\n</tr>\n<tr>\n<td></td>\n<td><code>kubectl apply -f &lt;file.yaml&gt;</code></td>\n</tr>\n<tr>\n<td></td>\n<td><code>kubectl delete -f &lt;file.yaml&gt;</code></td>\n</tr>\n<tr>\n<td> Pod</td>\n<td><code>kubectl delete pod &lt;pod-name&gt;</code></td>\n</tr>\n<tr>\n<td> Deployment</td>\n<td><code>kubectl rollout restart deployment &lt;deployment-name&gt;</code></td>\n</tr>\n<tr>\n<td></td>\n<td><code>kubectl edit deployment &lt;deployment-name&gt;</code></td>\n</tr>\n</tbody></table>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td><code>kubectl logs &lt;pod-name&gt;</code></td>\n</tr>\n<tr>\n<td></td>\n<td><code>kubectl logs -f &lt;pod-name&gt;</code></td>\n</tr>\n<tr>\n<td></td>\n<td><code>kubectl logs &lt;pod-name&gt; -c &lt;container-name&gt;</code></td>\n</tr>\n<tr>\n<td></td>\n<td><code>kubectl exec -it &lt;pod-name&gt; -- /bin/bash</code></td>\n</tr>\n<tr>\n<td> Pod </td>\n<td><code>kubectl describe pod &lt;pod-name&gt;</code></td>\n</tr>\n<tr>\n<td></td>\n<td><code>kubectl get events</code></td>\n</tr>\n</tbody></table>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td><code>kubectl get namespaces</code></td>\n</tr>\n<tr>\n<td></td>\n<td><code>kubectl create namespace &lt;name&gt;</code></td>\n</tr>\n<tr>\n<td></td>\n<td><code>kubectl delete namespace &lt;name&gt;</code></td>\n</tr>\n</tbody></table>\n<h3 id=\"-PVCPV\"><a href=\"#-PVCPV\" class=\"headerlink\" title=\" PVCPV\"></a> PVCPV</h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td> PVC</td>\n<td><code>kubectl get pvc</code></td>\n</tr>\n<tr>\n<td> PV</td>\n<td><code>kubectl get pv</code></td>\n</tr>\n</tbody></table>\n<h3 id=\"-ConfigMapSecret\"><a href=\"#-ConfigMapSecret\" class=\"headerlink\" title=\" ConfigMapSecret\"></a> ConfigMapSecret</h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td> ConfigMap</td>\n<td><code>kubectl create configmap &lt;name&gt; --from-literal=key=value</code></td>\n</tr>\n<tr>\n<td> ConfigMap</td>\n<td><code>kubectl get configmap</code></td>\n</tr>\n<tr>\n<td> Secret</td>\n<td><code>kubectl create secret generic &lt;name&gt; --from-literal=key=value</code></td>\n</tr>\n<tr>\n<td> Secret</td>\n<td><code>kubectl get secrets</code></td>\n</tr>\n</tbody></table>\n<h3 id=\"-ServiceIngress\"><a href=\"#-ServiceIngress\" class=\"headerlink\" title=\" ServiceIngress\"></a> ServiceIngress</h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td> Deployment</td>\n<td><code>kubectl create deployment &lt;name&gt; --image=&lt;image&gt;</code></td>\n</tr>\n<tr>\n<td> Service</td>\n<td><code>kubectl expose deployment &lt;name&gt; --port=80 --target-port=8080 --type=NodePort</code></td>\n</tr>\n<tr>\n<td> Ingress</td>\n<td><code>kubectl get ingress</code></td>\n</tr>\n</tbody></table>\n<h3 id=\"-\"><a href=\"#-\" class=\"headerlink\" title=\" \"></a> </h3><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td><code>kubectl run -it --rm debug --image=busybox -- /bin/sh</code></td>\n</tr>\n<tr>\n<td> YAML</td>\n<td><code>kubectl get deployment &lt;name&gt; -o yaml &gt; deployment.yaml</code></td>\n</tr>\n</tbody></table>\n<h2 id=\"Helm-K8s\"><a href=\"#Helm-K8s\" class=\"headerlink\" title=\"Helm K8s\"></a>Helm K8s</h2><h3 id=\"-Chart\"><a href=\"#-Chart\" class=\"headerlink\" title=\" Chart\"></a> Chart</h3><p>Chart  Helm </p>\n<p>Chart  Kubernetes  YAML  + </p>\n<p> Chart </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mychart/</span><br><span class=\"line\"> Chart.yaml           <span class=\"comment\"># Chart </span></span><br><span class=\"line\"> values.yaml          <span class=\"comment\">#  -f </span></span><br><span class=\"line\"> templates/           <span class=\"comment\">#  YAML </span></span><br><span class=\"line\">    deployment.yaml</span><br><span class=\"line\">    service.yaml</span><br><span class=\"line\">    _helpers.tpl     <span class=\"comment\"># </span></span><br></pre></td></tr></table></figure>\n<p>Chart </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td> </td>\n<td>DeploymentServiceIngress </td>\n</tr>\n<tr>\n<td> </td>\n<td></td>\n</tr>\n<tr>\n<td> </td>\n<td> <code>values.yaml</code> </td>\n</tr>\n<tr>\n<td> </td>\n<td>Chart  Helm release </td>\n</tr>\n<tr>\n<td> </td>\n<td> LokiPrometheusGitLab </td>\n</tr>\n</tbody></table>\n<h3 id=\"helm\"><a href=\"#helm\" class=\"headerlink\" title=\"helm\"></a>helm</h3><h5 id=\"-Chart-\"><a href=\"#-Chart-\" class=\"headerlink\" title=\" Chart \"></a> Chart </h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">helm repo add &lt;name&gt; &lt;url&gt;             <span class=\"comment\">#  Helm </span></span><br><span class=\"line\">helm repo list                         <span class=\"comment\"># </span></span><br><span class=\"line\">helm repo update                       <span class=\"comment\"># </span></span><br><span class=\"line\">helm search repo &lt;keyword&gt;             <span class=\"comment\">#  chart</span></span><br></pre></td></tr></table></figure>\n<h5 id=\"--\"><a href=\"#--\" class=\"headerlink\" title=\"  &#x2F; \"></a>  &#x2F; </h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">helm install &lt;release-name&gt; &lt;chart&gt; -n &lt;namespace&gt; -f &lt;values.yaml&gt;</span><br><span class=\"line\"><span class=\"comment\">#  chart</span></span><br><span class=\"line\"><span class=\"comment\"># helm install loki grafana/loki-stack -n monitor -f loki-values.yaml</span></span><br><span class=\"line\"></span><br><span class=\"line\">helm upgrade &lt;release-name&gt; &lt;chart&gt; -n &lt;namespace&gt; -f &lt;values.yaml&gt;</span><br><span class=\"line\"><span class=\"comment\">#  release</span></span><br><span class=\"line\"></span><br><span class=\"line\">helm upgrade --install &lt;release-name&gt; &lt;chart&gt; ...</span><br><span class=\"line\"><span class=\"comment\">#  CI/CD</span></span><br><span class=\"line\"></span><br><span class=\"line\">helm uninstall &lt;release-name&gt; -n &lt;namespace&gt;</span><br><span class=\"line\"><span class=\"comment\">#  release</span></span><br><span class=\"line\"></span><br><span class=\"line\">helm rollback &lt;release-name&gt; &lt;revision&gt; -n &lt;namespace&gt;</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br></pre></td></tr></table></figure>\n<h5 id=\"---\"><a href=\"#---\" class=\"headerlink\" title=\"  &#x2F;  &#x2F; \"></a>  &#x2F;  &#x2F; </h5><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">helm list -n &lt;namespace&gt;             <span class=\"comment\">#  release</span></span><br><span class=\"line\">helm status &lt;release-name&gt; -n &lt;namespace&gt;  <span class=\"comment\">#  release </span></span><br><span class=\"line\">helm get values &lt;release-name&gt; -n &lt;namespace&gt;       <span class=\"comment\">#  values</span></span><br><span class=\"line\">helm get manifest &lt;release-name&gt; -n &lt;namespace&gt;     <span class=\"comment\">#  Kubernetes YAML</span></span><br><span class=\"line\">helm <span class=\"built_in\">history</span> &lt;release-name&gt; -n &lt;namespace&gt;          <span class=\"comment\"># </span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"Kustomize-\"><a href=\"#Kustomize-\" class=\"headerlink\" title=\"Kustomize \"></a>Kustomize </h2><p>  Helm  Kustomize </p>\n<p>Helm Kustomize YAML </p>\n<p> Kustomize </p>\n<p>Kustomize  Kubernetes kubectl  1.14  YAML </p>\n<p> Helm  { { } }  + patch  YAML</p>\n<p> Kustomize </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">my-app/</span><br><span class=\"line\"> base/   <span class=\"comment\"># </span></span><br><span class=\"line\">    deployment.yaml</span><br><span class=\"line\">    service.yaml</span><br><span class=\"line\">    kustomization.yaml</span><br><span class=\"line\"> overlays/  <span class=\"comment\">#  patch </span></span><br><span class=\"line\">    dev/</span><br><span class=\"line\">       kustomization.yaml</span><br><span class=\"line\">       patch.yaml</span><br><span class=\"line\">    prod/</span><br><span class=\"line\">       kustomization.yaml</span><br><span class=\"line\">       patch.yaml</span><br></pre></td></tr></table></figure>\n\n<p> Kustomize </p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>namePrefix &#x2F; nameSuffix</td>\n<td> &#x2F; </td>\n</tr>\n<tr>\n<td>configMapGenerator &#x2F; secretGenerator</td>\n<td> ConfigMap &#x2F; Secret</td>\n</tr>\n<tr>\n<td>patchesStrategicMerge</td>\n<td></td>\n</tr>\n<tr>\n<td>images </td>\n<td></td>\n</tr>\n<tr>\n<td> &#x2F; </td>\n<td> base  overlay</td>\n</tr>\n</tbody></table>\n<p> Helm vs Kustomize</p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>Helm</th>\n<th>Kustomize</th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>Go  <code>&#123;&#123; &#125;&#125;</code></td>\n<td> YAML + Patch</td>\n</tr>\n<tr>\n<td></td>\n<td> Chart </td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td>values.yaml</td>\n<td>patch.yaml + kustomization.yaml</td>\n</tr>\n<tr>\n<td></td>\n<td> PrometheusHarbor</td>\n<td> dev&#x2F;test&#x2F;prod</td>\n</tr>\n<tr>\n<td></td>\n<td>Helm  Release </td>\n<td> Release  Git </td>\n</tr>\n<tr>\n<td></td>\n<td><code>helm install</code></td>\n<td><code>kubectl apply -k</code>  <code>kustomize build</code></td>\n</tr>\n</tbody></table>\n<p> <br>Helm yum &#x2F; apt  <br>    \tKustomize  docker-compose.override.yml   YAML </p>\n<p> </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#  Helm  Grafana</span></span><br><span class=\"line\">helm install grafana grafana/grafana -f prod-values.yaml</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#  Kustomize  app</span></span><br><span class=\"line\">kubectl apply -k overlays/prod</span><br></pre></td></tr></table></figure>\n\n\n<h2 id=\"K8s\"><a href=\"#K8s\" class=\"headerlink\" title=\"K8s\"></a>K8s</h2><p> <br>    \tNodeSelector &#x2F; Affinity &#x2F; Taints &amp; Tolerations Pod <br>    \tnodeSelector<br>    \taffinity&#x2F;<br>    \ttaints &amp; tolerations Pod<br>    \tPriority &amp; Preemption Pod  Pod</p>\n<p></p>\n<p> <br>    \tStatefulSet<br>    \tDaemonSet Pod<br>    \tJob &#x2F; CronJob Linux  cron<br>    \tHorizontal Pod AutoscalerHPA CPU  Pod <br>    \tVertical Pod AutoscalerVPA Pod <br>    \tCluster Autoscaler</p>\n<p></p>\n<p> <br>    \tNetworkPolicyK8s  Pod <br>    \tService Mesh IstioLinkerdA&#x2F;B </p>\n<p></p>\n<p> <br>    \tStorageClassIO PVC <br>    \tVolumeSnapshot &#x2F; VolumeClone PVC <br>    \tCSIContainer Storage Interface</p>\n<p></p>\n<p> <br>    \tRBACRole-Based Access Control<br>    \tPodSecurityPolicy&#x2F; Pod Security Admission Pod <br>    \tNetworkPolicy<br>    \tServiceAccount &amp; Secrets</p>\n<p></p>\n<p> <br>    \tEvents &#x2F; Probes &#x2F; Metrics API<br>    \tLoki &#x2F; ELK &#x2F; Fluentd &#x2F; Promtail DaemonSet <br>    \tTracing Jaeger&#x2F;Zipkin <br>    \tPrometheus + Grafana + Alertmanager</p>\n<p></p>\n<p> <br>    \tCanary &#x2F; Blue-Green &#x2F; RollingUpdate &#x2F; Recreate<br>    \tKustomize &#x2F; Helm</p>\n<p></p>\n<p> <br>    \tOperatorCRD + Controller<br>    \tWebhooksMutating &#x2F; Validating<br>    \tAdmission Controller</p>\n","_processedHighlight":true},{"title":"Ansible","date":"2025-04-23T12:08:44.000Z","cover":"/images/ansible.png","_content":"Ansible \n\nAnsible \n## \n Ansible Playbook  Ansible  SSH   \n Ansible \n1. Inventory\n Ansible \n```ini\n[webservers]\n192.168.1.10\n192.168.1.11\n\n[db]\n127.0.0.1 ansible_connection=local\n```\n2. Modules\n Ansible \n\n|                             |                        |\n|--------------------------|-----------|\n| apt/yum             |              |\n| copy/template        |             |\n| service               |        |\n| user                 |    |\n| command/shell       |         |\n\n3. Playbook\n .yaml \n```yaml\n- hosts: all\n  become: yes\n  tasks:\n    - name: nginx\n      apt:\n        name: nginx\n        state: present\n```\n4. Tasks()\nPlaybook  nginxtask\n5. Variables\n\n``` yaml\nvars:\n  nginx_port:8080\n```\n6. Roles\n nginx  nginx \n\n###  Ansible  Shell \n\n|        | Shell                 | Ansible                                        |\n|------------|---------------------------|------------------------------------------------|\n|        | Bash                | YAML                               |\n|      |                       |                                      |\n|      |                         |                              |\n|    |                  |                                |\n|    |  +           | Inventory              |\n\n## Ansible\n1.   Ansible Inventory\nhosts.ini\n```ini\n[all]\n192.168.1.101\n192.168.1.102\n192.168.1.103\n192.168.1.104\n```\n  webservers 3 Nginx  IP\n2.   Nginx  Playbook\n install_nginx.yml  YAML \n```yaml\n- name: install nginx  # \n  hosts: all        # allhosts[all]\n  become: yes       #  sudo \n  tasks:      # \n    - name: install nginx    #   nginx\n      apt:      #  apt \n        name: nginx     # : nginx\n        state: present    # \n        update_cache: yes     #  apt \n    - name: start nginx      #   nginx\n      service:   #  service\n        name: nginx     # : nginx\n        state: started    #  \n        enabled: yes      #\n```\n3.   Playbook \n```bash\nansible-playbook -i ../hosts install_nginx.yml \n```\n## \n###  Kubernetes\n1.  inventory\n```bash\nmkdir -p ~/k8s\ncd k8s\nnano hosts.ini\n```\nhosts\n```ini\n[all]\n172.17.50.246 ansible_user=h3d ansible_become=true ansible_become_method=sudo\n172.17.50.247 ansible_user=h3d ansible_become=true ansible_become_method=sudo\n172.17.50.248 ansible_user=h3d ansible_become=true ansible_become_method=sudo\n172.17.50.249 ansible_user=h3d ansible_become=true ansible_become_method=sudo\n[master]\n172.17.50.246\n[worker]\n172.17.50.247\n172.17.50.248\n172.17.50.249\n```\n#### \nansiblemasterworker\n1. playbook\n```bash\nnano setup.yml\n```\n```yml\n- name: base environment (shuting swap)\n  hosts: all\n  become: yes\n  tasks:\n    - name: shuting swap\n      shell: swapoff -a\n      ignore_errors: true\n    - name: permenant shuting swap\n      replace:\n        path: /etc/fstab\n        regexp: '^\\s*(.+?\\s+)+swap\\s+'\n        replace: '# \\1'\n      ignore_errors: true\n\n    - name: enable kernel module\n      shell: |\n        modprobe overlay\n        modprobe br_netfilter\n      ignore_errors: true\n\n    - name: deploy kernel arguments\n      copy:\n        dest: /etc/sysctl.d/k8s.conf\n        content: |\n          net.bridge.bridge-nf-call-ip6tables = 1\n          net.bridge.bridge-nf-call-iptables = 1\n\n    - name: apply sysctl configration\n      shell: sysctl --system\n```\n#### \nk8s1.24dockercontainerdk8s __K8s__ \n1. playbook\n```bash\nnano install-containerd.yml\n```\n\n```yml\n- name: install containerd\n  hosts: all\n  become: yes\n  tasks:\n    - name: install containerd\n      apt:\n        name: containerd\n        state: present\n        update_cache: yes\n    - name: make containerd configuration file\n      file:\n        path: /etc/containerd\n        state: directory\n    - name: create default configuration file\n      shell: containerd config default > /etc/containerd/config.toml\n      args:\n        creates: /etc/contaierd/config.toml\n    - name: enable SystemdCgroup (compatable kubernetes)\n      replace:\n        path: /etc/containerd/config.toml\n        regexp: 'SystemdCgroup = false'\n        replace: 'SystemdCgroup = true'\n    - name: restart && enable containerd service\n      systemd:\n        name: containerd\n        enabled: yes\n        state: restarted\n```\n\n```bash\ncontainerd config default > /etc/containerd/config.toml\n```\n\n```bash\n[plugins.\"io.containerd.grpc.v1.cri\"]\n  sandbox_image = \"registry.aliyuncs.com/google_containers/pause:3.8\"\n```\n runc  SystemdCgroup = true\n```bash\n[plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc.options]\n  SystemdCgroup = true\n```\n#### k8s\n1. playbook\n```bash\nnano install-k8s.yml\n```\n\n```yml\n- name: install kubernetes module\n  hosts: all\n  become: yes\n  tasks:\n    - name: add Kubernetes source\n      copy:\n        dest: /etc/apt/sources.list.d/kubernetes.list\n        content: |\n          deb [trusted=yes] https://mirrors.aliyun.com/kubernetes/apt/ kubernetes-xenial main\n    - name: update apt source\n      apt:\n        update_cache: yes\n\n    - name: install kueblet kubeadm kubectl\n      apt:\n        name:\n          - kubelet\n          - kubeadm\n          - kubectl\n        state: present\n        update_cache: yes\n\n    - name: lock version\n      shell: apt-mark hold kubelet kubeadm kubectl\n```\n2. \n```bash\nansible-playbook -i ../hosts install-k8s.yml --ask-pass --ask-become-pass\n```\n","source":"_posts/Ansible.md","raw":"---\n# layout: port\ntitle: Ansible\ndate: 2025-04-23 20:08:44\ntags: [,Ansible]\ncategories: [, Ansible]\ncover: /images/ansible.png\n---\nAnsible \n\nAnsible \n## \n Ansible Playbook  Ansible  SSH   \n Ansible \n1. Inventory\n Ansible \n```ini\n[webservers]\n192.168.1.10\n192.168.1.11\n\n[db]\n127.0.0.1 ansible_connection=local\n```\n2. Modules\n Ansible \n\n|                             |                        |\n|--------------------------|-----------|\n| apt/yum             |              |\n| copy/template        |             |\n| service               |        |\n| user                 |    |\n| command/shell       |         |\n\n3. Playbook\n .yaml \n```yaml\n- hosts: all\n  become: yes\n  tasks:\n    - name: nginx\n      apt:\n        name: nginx\n        state: present\n```\n4. Tasks()\nPlaybook  nginxtask\n5. Variables\n\n``` yaml\nvars:\n  nginx_port:8080\n```\n6. Roles\n nginx  nginx \n\n###  Ansible  Shell \n\n|        | Shell                 | Ansible                                        |\n|------------|---------------------------|------------------------------------------------|\n|        | Bash                | YAML                               |\n|      |                       |                                      |\n|      |                         |                              |\n|    |                  |                                |\n|    |  +           | Inventory              |\n\n## Ansible\n1.   Ansible Inventory\nhosts.ini\n```ini\n[all]\n192.168.1.101\n192.168.1.102\n192.168.1.103\n192.168.1.104\n```\n  webservers 3 Nginx  IP\n2.   Nginx  Playbook\n install_nginx.yml  YAML \n```yaml\n- name: install nginx  # \n  hosts: all        # allhosts[all]\n  become: yes       #  sudo \n  tasks:      # \n    - name: install nginx    #   nginx\n      apt:      #  apt \n        name: nginx     # : nginx\n        state: present    # \n        update_cache: yes     #  apt \n    - name: start nginx      #   nginx\n      service:   #  service\n        name: nginx     # : nginx\n        state: started    #  \n        enabled: yes      #\n```\n3.   Playbook \n```bash\nansible-playbook -i ../hosts install_nginx.yml \n```\n## \n###  Kubernetes\n1.  inventory\n```bash\nmkdir -p ~/k8s\ncd k8s\nnano hosts.ini\n```\nhosts\n```ini\n[all]\n172.17.50.246 ansible_user=h3d ansible_become=true ansible_become_method=sudo\n172.17.50.247 ansible_user=h3d ansible_become=true ansible_become_method=sudo\n172.17.50.248 ansible_user=h3d ansible_become=true ansible_become_method=sudo\n172.17.50.249 ansible_user=h3d ansible_become=true ansible_become_method=sudo\n[master]\n172.17.50.246\n[worker]\n172.17.50.247\n172.17.50.248\n172.17.50.249\n```\n#### \nansiblemasterworker\n1. playbook\n```bash\nnano setup.yml\n```\n```yml\n- name: base environment (shuting swap)\n  hosts: all\n  become: yes\n  tasks:\n    - name: shuting swap\n      shell: swapoff -a\n      ignore_errors: true\n    - name: permenant shuting swap\n      replace:\n        path: /etc/fstab\n        regexp: '^\\s*(.+?\\s+)+swap\\s+'\n        replace: '# \\1'\n      ignore_errors: true\n\n    - name: enable kernel module\n      shell: |\n        modprobe overlay\n        modprobe br_netfilter\n      ignore_errors: true\n\n    - name: deploy kernel arguments\n      copy:\n        dest: /etc/sysctl.d/k8s.conf\n        content: |\n          net.bridge.bridge-nf-call-ip6tables = 1\n          net.bridge.bridge-nf-call-iptables = 1\n\n    - name: apply sysctl configration\n      shell: sysctl --system\n```\n#### \nk8s1.24dockercontainerdk8s __K8s__ \n1. playbook\n```bash\nnano install-containerd.yml\n```\n\n```yml\n- name: install containerd\n  hosts: all\n  become: yes\n  tasks:\n    - name: install containerd\n      apt:\n        name: containerd\n        state: present\n        update_cache: yes\n    - name: make containerd configuration file\n      file:\n        path: /etc/containerd\n        state: directory\n    - name: create default configuration file\n      shell: containerd config default > /etc/containerd/config.toml\n      args:\n        creates: /etc/contaierd/config.toml\n    - name: enable SystemdCgroup (compatable kubernetes)\n      replace:\n        path: /etc/containerd/config.toml\n        regexp: 'SystemdCgroup = false'\n        replace: 'SystemdCgroup = true'\n    - name: restart && enable containerd service\n      systemd:\n        name: containerd\n        enabled: yes\n        state: restarted\n```\n\n```bash\ncontainerd config default > /etc/containerd/config.toml\n```\n\n```bash\n[plugins.\"io.containerd.grpc.v1.cri\"]\n  sandbox_image = \"registry.aliyuncs.com/google_containers/pause:3.8\"\n```\n runc  SystemdCgroup = true\n```bash\n[plugins.\"io.containerd.grpc.v1.cri\".containerd.runtimes.runc.options]\n  SystemdCgroup = true\n```\n#### k8s\n1. playbook\n```bash\nnano install-k8s.yml\n```\n\n```yml\n- name: install kubernetes module\n  hosts: all\n  become: yes\n  tasks:\n    - name: add Kubernetes source\n      copy:\n        dest: /etc/apt/sources.list.d/kubernetes.list\n        content: |\n          deb [trusted=yes] https://mirrors.aliyun.com/kubernetes/apt/ kubernetes-xenial main\n    - name: update apt source\n      apt:\n        update_cache: yes\n\n    - name: install kueblet kubeadm kubectl\n      apt:\n        name:\n          - kubelet\n          - kubeadm\n          - kubectl\n        state: present\n        update_cache: yes\n\n    - name: lock version\n      shell: apt-mark hold kubelet kubeadm kubectl\n```\n2. \n```bash\nansible-playbook -i ../hosts install-k8s.yml --ask-pass --ask-become-pass\n```\n","slug":"Ansible","published":1,"updated":"2025-05-01T10:12:50.219Z","_id":"cm9vb1fdk0000zrs6f7vgezxy","comments":1,"layout":"post","photos":[],"content":"<p>Ansible <br><br>Ansible </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Ansible Playbook  Ansible  SSH   <br> Ansible </p>\n<ol>\n<li>Inventory<br> Ansible <div class=\"code-container\" data-rel=\"Ini\"><figure class=\"iseeu highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">[webservers]</span></span><br><span class=\"line\">192.168.1.10</span><br><span class=\"line\">192.168.1.11</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">[db]</span></span><br><span class=\"line\">127.0.0.1 <span class=\"attr\">ansible_connection</span>=local</span><br></pre></td></tr></table></figure></div></li>\n<li>Modules<br> Ansible </li>\n</ol>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>apt&#x2F;yum</td>\n<td></td>\n</tr>\n<tr>\n<td>copy&#x2F;template</td>\n<td></td>\n</tr>\n<tr>\n<td>service</td>\n<td></td>\n</tr>\n<tr>\n<td>user</td>\n<td></td>\n</tr>\n<tr>\n<td>command&#x2F;shell</td>\n<td></td>\n</tr>\n</tbody></table>\n<ol start=\"3\">\n<li>Playbook<br> .yaml <div class=\"code-container\" data-rel=\"Yaml\"><figure class=\"iseeu highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">hosts:</span> <span class=\"string\">all</span></span><br><span class=\"line\">  <span class=\"attr\">become:</span> <span class=\"literal\">yes</span></span><br><span class=\"line\">  <span class=\"attr\">tasks:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">nginx</span></span><br><span class=\"line\">      <span class=\"attr\">apt:</span></span><br><span class=\"line\">        <span class=\"attr\">name:</span> <span class=\"string\">nginx</span></span><br><span class=\"line\">        <span class=\"attr\">state:</span> <span class=\"string\">present</span></span><br></pre></td></tr></table></figure></div></li>\n<li>Tasks()<br>Playbook  nginxtask</li>\n<li>Variables<br><div class=\"code-container\" data-rel=\"Yaml\"><figure class=\"iseeu highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">vars:</span></span><br><span class=\"line\">  <span class=\"string\">nginx_port:8080</span></span><br></pre></td></tr></table></figure></div></li>\n<li>Roles<br> nginx  nginx </li>\n</ol>\n<h3 id=\"-Ansible--Shell-\"><a href=\"#-Ansible--Shell-\" class=\"headerlink\" title=\" Ansible  Shell \"></a> Ansible  Shell </h3><table>\n<thead>\n<tr>\n<th></th>\n<th>Shell </th>\n<th>Ansible</th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>Bash </td>\n<td>YAML </td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td> + </td>\n<td>Inventory </td>\n</tr>\n</tbody></table>\n<h2 id=\"Ansible\"><a href=\"#Ansible\" class=\"headerlink\" title=\"Ansible\"></a>Ansible</h2><ol>\n<li>  Ansible Inventory<br>hosts.ini<div class=\"code-container\" data-rel=\"Ini\"><figure class=\"iseeu highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">[all]</span></span><br><span class=\"line\">192.168.1.101</span><br><span class=\"line\">192.168.1.102</span><br><span class=\"line\">192.168.1.103</span><br><span class=\"line\">192.168.1.104</span><br></pre></td></tr></table></figure></div>\n  webservers 3 Nginx  IP</li>\n<li>  Nginx  Playbook<br> install_nginx.yml  YAML <div class=\"code-container\" data-rel=\"Yaml\"><figure class=\"iseeu highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">install</span> <span class=\"string\">nginx</span>  <span class=\"comment\"># </span></span><br><span class=\"line\">  <span class=\"attr\">hosts:</span> <span class=\"string\">all</span>        <span class=\"comment\"># allhosts[all]</span></span><br><span class=\"line\">  <span class=\"attr\">become:</span> <span class=\"literal\">yes</span>       <span class=\"comment\">#  sudo </span></span><br><span class=\"line\">  <span class=\"attr\">tasks:</span>      <span class=\"comment\"># </span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">install</span> <span class=\"string\">nginx</span>    <span class=\"comment\">#   nginx</span></span><br><span class=\"line\">      <span class=\"attr\">apt:</span>      <span class=\"comment\">#  apt </span></span><br><span class=\"line\">        <span class=\"attr\">name:</span> <span class=\"string\">nginx</span>     <span class=\"comment\"># : nginx</span></span><br><span class=\"line\">        <span class=\"attr\">state:</span> <span class=\"string\">present</span>    <span class=\"comment\"># </span></span><br><span class=\"line\">        <span class=\"attr\">update_cache:</span> <span class=\"literal\">yes</span>     <span class=\"comment\">#  apt </span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">start</span> <span class=\"string\">nginx</span>      <span class=\"comment\">#   nginx</span></span><br><span class=\"line\">      <span class=\"attr\">service:</span>   <span class=\"comment\">#  service</span></span><br><span class=\"line\">        <span class=\"attr\">name:</span> <span class=\"string\">nginx</span>     <span class=\"comment\"># : nginx</span></span><br><span class=\"line\">        <span class=\"attr\">state:</span> <span class=\"string\">started</span>    <span class=\"comment\">#  </span></span><br><span class=\"line\">        <span class=\"attr\">enabled:</span> <span class=\"literal\">yes</span>      <span class=\"comment\">#</span></span><br></pre></td></tr></table></figure></div></li>\n<li>  Playbook <div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ansible-playbook -i ../hosts install_nginx.yml </span><br></pre></td></tr></table></figure></div></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"-Kubernetes\"><a href=\"#-Kubernetes\" class=\"headerlink\" title=\" Kubernetes\"></a> Kubernetes</h3><ol>\n<li> inventory<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">mkdir</span> -p ~/k8s</span><br><span class=\"line\"><span class=\"built_in\">cd</span> k8s</span><br><span class=\"line\">nano hosts.ini</span><br></pre></td></tr></table></figure></div>\nhosts<div class=\"code-container\" data-rel=\"Ini\"><figure class=\"iseeu highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">[all]</span></span><br><span class=\"line\">172.17.50.246 <span class=\"attr\">ansible_user</span>=h3d ansible_become=<span class=\"literal\">true</span> ansible_become_method=sudo</span><br><span class=\"line\">172.17.50.247 <span class=\"attr\">ansible_user</span>=h3d ansible_become=<span class=\"literal\">true</span> ansible_become_method=sudo</span><br><span class=\"line\">172.17.50.248 <span class=\"attr\">ansible_user</span>=h3d ansible_become=<span class=\"literal\">true</span> ansible_become_method=sudo</span><br><span class=\"line\">172.17.50.249 <span class=\"attr\">ansible_user</span>=h3d ansible_become=<span class=\"literal\">true</span> ansible_become_method=sudo</span><br><span class=\"line\"><span class=\"section\">[master]</span></span><br><span class=\"line\">172.17.50.246</span><br><span class=\"line\"><span class=\"section\">[worker]</span></span><br><span class=\"line\">172.17.50.247</span><br><span class=\"line\">172.17.50.248</span><br><span class=\"line\">172.17.50.249</span><br></pre></td></tr></table></figure></div></li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>ansiblemasterworker</p>\n<ol>\n<li>playbook<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nano setup.yml</span><br></pre></td></tr></table></figure></div>\n<div class=\"code-container\" data-rel=\"Yml\"><figure class=\"iseeu highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">base</span> <span class=\"string\">environment</span> <span class=\"string\">(shuting</span> <span class=\"string\">swap)</span></span><br><span class=\"line\">  <span class=\"attr\">hosts:</span> <span class=\"string\">all</span></span><br><span class=\"line\">  <span class=\"attr\">become:</span> <span class=\"literal\">yes</span></span><br><span class=\"line\">  <span class=\"attr\">tasks:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">shuting</span> <span class=\"string\">swap</span></span><br><span class=\"line\">      <span class=\"attr\">shell:</span> <span class=\"string\">swapoff</span> <span class=\"string\">-a</span></span><br><span class=\"line\">      <span class=\"attr\">ignore_errors:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">permenant</span> <span class=\"string\">shuting</span> <span class=\"string\">swap</span></span><br><span class=\"line\">      <span class=\"attr\">replace:</span></span><br><span class=\"line\">        <span class=\"attr\">path:</span> <span class=\"string\">/etc/fstab</span></span><br><span class=\"line\">        <span class=\"attr\">regexp:</span> <span class=\"string\">&#x27;^\\s*(.+?\\s+)+swap\\s+&#x27;</span></span><br><span class=\"line\">        <span class=\"attr\">replace:</span> <span class=\"string\">&#x27;# \\1&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">ignore_errors:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">enable</span> <span class=\"string\">kernel</span> <span class=\"string\">module</span></span><br><span class=\"line\">      <span class=\"attr\">shell:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">        modprobe overlay</span></span><br><span class=\"line\"><span class=\"string\">        modprobe br_netfilter</span></span><br><span class=\"line\"><span class=\"string\"></span>      <span class=\"attr\">ignore_errors:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">deploy</span> <span class=\"string\">kernel</span> <span class=\"string\">arguments</span></span><br><span class=\"line\">      <span class=\"attr\">copy:</span></span><br><span class=\"line\">        <span class=\"attr\">dest:</span> <span class=\"string\">/etc/sysctl.d/k8s.conf</span></span><br><span class=\"line\">        <span class=\"attr\">content:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">          net.bridge.bridge-nf-call-ip6tables = 1</span></span><br><span class=\"line\"><span class=\"string\">          net.bridge.bridge-nf-call-iptables = 1</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">apply</span> <span class=\"string\">sysctl</span> <span class=\"string\">configration</span></span><br><span class=\"line\">      <span class=\"attr\">shell:</span> <span class=\"string\">sysctl</span> <span class=\"string\">--system</span></span><br></pre></td></tr></table></figure></div></li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>k8s1.24dockercontainerdk8s <strong>K8s</strong> </p>\n<ol>\n<li>playbook<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nano install-containerd.yml</span><br></pre></td></tr></table></figure></div></li>\n</ol>\n<div class=\"code-container\" data-rel=\"Yml\"><figure class=\"iseeu highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">install</span> <span class=\"string\">containerd</span></span><br><span class=\"line\">  <span class=\"attr\">hosts:</span> <span class=\"string\">all</span></span><br><span class=\"line\">  <span class=\"attr\">become:</span> <span class=\"literal\">yes</span></span><br><span class=\"line\">  <span class=\"attr\">tasks:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">install</span> <span class=\"string\">containerd</span></span><br><span class=\"line\">      <span class=\"attr\">apt:</span></span><br><span class=\"line\">        <span class=\"attr\">name:</span> <span class=\"string\">containerd</span></span><br><span class=\"line\">        <span class=\"attr\">state:</span> <span class=\"string\">present</span></span><br><span class=\"line\">        <span class=\"attr\">update_cache:</span> <span class=\"literal\">yes</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">make</span> <span class=\"string\">containerd</span> <span class=\"string\">configuration</span> <span class=\"string\">file</span></span><br><span class=\"line\">      <span class=\"attr\">file:</span></span><br><span class=\"line\">        <span class=\"attr\">path:</span> <span class=\"string\">/etc/containerd</span></span><br><span class=\"line\">        <span class=\"attr\">state:</span> <span class=\"string\">directory</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">create</span> <span class=\"string\">default</span> <span class=\"string\">configuration</span> <span class=\"string\">file</span></span><br><span class=\"line\">      <span class=\"attr\">shell:</span> <span class=\"string\">containerd</span> <span class=\"string\">config</span> <span class=\"string\">default</span> <span class=\"string\">&gt;</span> <span class=\"string\">/etc/containerd/config.toml</span></span><br><span class=\"line\">      <span class=\"attr\">args:</span></span><br><span class=\"line\">        <span class=\"attr\">creates:</span> <span class=\"string\">/etc/contaierd/config.toml</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">enable</span> <span class=\"string\">SystemdCgroup</span> <span class=\"string\">(compatable</span> <span class=\"string\">kubernetes)</span></span><br><span class=\"line\">      <span class=\"attr\">replace:</span></span><br><span class=\"line\">        <span class=\"attr\">path:</span> <span class=\"string\">/etc/containerd/config.toml</span></span><br><span class=\"line\">        <span class=\"attr\">regexp:</span> <span class=\"string\">&#x27;SystemdCgroup = false&#x27;</span></span><br><span class=\"line\">        <span class=\"attr\">replace:</span> <span class=\"string\">&#x27;SystemdCgroup = true&#x27;</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">restart</span> <span class=\"string\">&amp;&amp;</span> <span class=\"string\">enable</span> <span class=\"string\">containerd</span> <span class=\"string\">service</span></span><br><span class=\"line\">      <span class=\"attr\">systemd:</span></span><br><span class=\"line\">        <span class=\"attr\">name:</span> <span class=\"string\">containerd</span></span><br><span class=\"line\">        <span class=\"attr\">enabled:</span> <span class=\"literal\">yes</span></span><br><span class=\"line\">        <span class=\"attr\">state:</span> <span class=\"string\">restarted</span></span><br></pre></td></tr></table></figure></div>\n<p></p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">containerd config default &gt; /etc/containerd/config.toml</span><br></pre></td></tr></table></figure></div>\n<p></p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[plugins.<span class=\"string\">&quot;io.containerd.grpc.v1.cri&quot;</span>]</span><br><span class=\"line\">  sandbox_image = <span class=\"string\">&quot;registry.aliyuncs.com/google_containers/pause:3.8&quot;</span></span><br></pre></td></tr></table></figure></div>\n<p> runc  SystemdCgroup &#x3D; true</p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[plugins.<span class=\"string\">&quot;io.containerd.grpc.v1.cri&quot;</span>.containerd.runtimes.runc.options]</span><br><span class=\"line\">  SystemdCgroup = <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure></div>\n<h4 id=\"k8s\"><a href=\"#k8s\" class=\"headerlink\" title=\"k8s\"></a>k8s</h4><ol>\n<li>playbook<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nano install-k8s.yml</span><br></pre></td></tr></table></figure></div>\n<div class=\"code-container\" data-rel=\"Yml\"><figure class=\"iseeu highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">install</span> <span class=\"string\">kubernetes</span> <span class=\"string\">module</span></span><br><span class=\"line\">  <span class=\"attr\">hosts:</span> <span class=\"string\">all</span></span><br><span class=\"line\">  <span class=\"attr\">become:</span> <span class=\"literal\">yes</span></span><br><span class=\"line\">  <span class=\"attr\">tasks:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">add</span> <span class=\"string\">Kubernetes</span> <span class=\"string\">source</span></span><br><span class=\"line\">      <span class=\"attr\">copy:</span></span><br><span class=\"line\">        <span class=\"attr\">dest:</span> <span class=\"string\">/etc/apt/sources.list.d/kubernetes.list</span></span><br><span class=\"line\">        <span class=\"attr\">content:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">          deb [trusted=yes] https://mirrors.aliyun.com/kubernetes/apt/ kubernetes-xenial main</span></span><br><span class=\"line\"><span class=\"string\"></span>    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">update</span> <span class=\"string\">apt</span> <span class=\"string\">source</span></span><br><span class=\"line\">      <span class=\"attr\">apt:</span></span><br><span class=\"line\">        <span class=\"attr\">update_cache:</span> <span class=\"literal\">yes</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">install</span> <span class=\"string\">kueblet</span> <span class=\"string\">kubeadm</span> <span class=\"string\">kubectl</span></span><br><span class=\"line\">      <span class=\"attr\">apt:</span></span><br><span class=\"line\">        <span class=\"attr\">name:</span></span><br><span class=\"line\">          <span class=\"bullet\">-</span> <span class=\"string\">kubelet</span></span><br><span class=\"line\">          <span class=\"bullet\">-</span> <span class=\"string\">kubeadm</span></span><br><span class=\"line\">          <span class=\"bullet\">-</span> <span class=\"string\">kubectl</span></span><br><span class=\"line\">        <span class=\"attr\">state:</span> <span class=\"string\">present</span></span><br><span class=\"line\">        <span class=\"attr\">update_cache:</span> <span class=\"literal\">yes</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">lock</span> <span class=\"string\">version</span></span><br><span class=\"line\">      <span class=\"attr\">shell:</span> <span class=\"string\">apt-mark</span> <span class=\"string\">hold</span> <span class=\"string\">kubelet</span> <span class=\"string\">kubeadm</span> <span class=\"string\">kubectl</span></span><br></pre></td></tr></table></figure></div></li>\n<li><div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ansible-playbook -i ../hosts install-k8s.yml --ask-pass --ask-become-pass</span><br></pre></td></tr></table></figure></div></li>\n</ol>\n","excerpt":"","more":"<p>Ansible <br><br>Ansible </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Ansible Playbook  Ansible  SSH   <br> Ansible </p>\n<ol>\n<li>Inventory<br> Ansible <figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">[webservers]</span></span><br><span class=\"line\">192.168.1.10</span><br><span class=\"line\">192.168.1.11</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">[db]</span></span><br><span class=\"line\">127.0.0.1 <span class=\"attr\">ansible_connection</span>=local</span><br></pre></td></tr></table></figure></li>\n<li>Modules<br> Ansible </li>\n</ol>\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>apt&#x2F;yum</td>\n<td></td>\n</tr>\n<tr>\n<td>copy&#x2F;template</td>\n<td></td>\n</tr>\n<tr>\n<td>service</td>\n<td></td>\n</tr>\n<tr>\n<td>user</td>\n<td></td>\n</tr>\n<tr>\n<td>command&#x2F;shell</td>\n<td></td>\n</tr>\n</tbody></table>\n<ol start=\"3\">\n<li>Playbook<br> .yaml <figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">hosts:</span> <span class=\"string\">all</span></span><br><span class=\"line\">  <span class=\"attr\">become:</span> <span class=\"literal\">yes</span></span><br><span class=\"line\">  <span class=\"attr\">tasks:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">nginx</span></span><br><span class=\"line\">      <span class=\"attr\">apt:</span></span><br><span class=\"line\">        <span class=\"attr\">name:</span> <span class=\"string\">nginx</span></span><br><span class=\"line\">        <span class=\"attr\">state:</span> <span class=\"string\">present</span></span><br></pre></td></tr></table></figure></li>\n<li>Tasks()<br>Playbook  nginxtask</li>\n<li>Variables<br><figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">vars:</span></span><br><span class=\"line\">  <span class=\"string\">nginx_port:8080</span></span><br></pre></td></tr></table></figure></li>\n<li>Roles<br> nginx  nginx </li>\n</ol>\n<h3 id=\"-Ansible--Shell-\"><a href=\"#-Ansible--Shell-\" class=\"headerlink\" title=\" Ansible  Shell \"></a> Ansible  Shell </h3><table>\n<thead>\n<tr>\n<th></th>\n<th>Shell </th>\n<th>Ansible</th>\n</tr>\n</thead>\n<tbody><tr>\n<td></td>\n<td>Bash </td>\n<td>YAML </td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td></td>\n<td></td>\n</tr>\n<tr>\n<td></td>\n<td> + </td>\n<td>Inventory </td>\n</tr>\n</tbody></table>\n<h2 id=\"Ansible\"><a href=\"#Ansible\" class=\"headerlink\" title=\"Ansible\"></a>Ansible</h2><ol>\n<li>  Ansible Inventory<br>hosts.ini<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">[all]</span></span><br><span class=\"line\">192.168.1.101</span><br><span class=\"line\">192.168.1.102</span><br><span class=\"line\">192.168.1.103</span><br><span class=\"line\">192.168.1.104</span><br></pre></td></tr></table></figure>\n  webservers 3 Nginx  IP</li>\n<li>  Nginx  Playbook<br> install_nginx.yml  YAML <figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">install</span> <span class=\"string\">nginx</span>  <span class=\"comment\"># </span></span><br><span class=\"line\">  <span class=\"attr\">hosts:</span> <span class=\"string\">all</span>        <span class=\"comment\"># allhosts[all]</span></span><br><span class=\"line\">  <span class=\"attr\">become:</span> <span class=\"literal\">yes</span>       <span class=\"comment\">#  sudo </span></span><br><span class=\"line\">  <span class=\"attr\">tasks:</span>      <span class=\"comment\"># </span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">install</span> <span class=\"string\">nginx</span>    <span class=\"comment\">#   nginx</span></span><br><span class=\"line\">      <span class=\"attr\">apt:</span>      <span class=\"comment\">#  apt </span></span><br><span class=\"line\">        <span class=\"attr\">name:</span> <span class=\"string\">nginx</span>     <span class=\"comment\"># : nginx</span></span><br><span class=\"line\">        <span class=\"attr\">state:</span> <span class=\"string\">present</span>    <span class=\"comment\"># </span></span><br><span class=\"line\">        <span class=\"attr\">update_cache:</span> <span class=\"literal\">yes</span>     <span class=\"comment\">#  apt </span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">start</span> <span class=\"string\">nginx</span>      <span class=\"comment\">#   nginx</span></span><br><span class=\"line\">      <span class=\"attr\">service:</span>   <span class=\"comment\">#  service</span></span><br><span class=\"line\">        <span class=\"attr\">name:</span> <span class=\"string\">nginx</span>     <span class=\"comment\"># : nginx</span></span><br><span class=\"line\">        <span class=\"attr\">state:</span> <span class=\"string\">started</span>    <span class=\"comment\">#  </span></span><br><span class=\"line\">        <span class=\"attr\">enabled:</span> <span class=\"literal\">yes</span>      <span class=\"comment\">#</span></span><br></pre></td></tr></table></figure></li>\n<li>  Playbook <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ansible-playbook -i ../hosts install_nginx.yml </span><br></pre></td></tr></table></figure></li>\n</ol>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"-Kubernetes\"><a href=\"#-Kubernetes\" class=\"headerlink\" title=\" Kubernetes\"></a> Kubernetes</h3><ol>\n<li> inventory<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">mkdir</span> -p ~/k8s</span><br><span class=\"line\"><span class=\"built_in\">cd</span> k8s</span><br><span class=\"line\">nano hosts.ini</span><br></pre></td></tr></table></figure>\nhosts<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">[all]</span></span><br><span class=\"line\">172.17.50.246 <span class=\"attr\">ansible_user</span>=h3d ansible_become=<span class=\"literal\">true</span> ansible_become_method=sudo</span><br><span class=\"line\">172.17.50.247 <span class=\"attr\">ansible_user</span>=h3d ansible_become=<span class=\"literal\">true</span> ansible_become_method=sudo</span><br><span class=\"line\">172.17.50.248 <span class=\"attr\">ansible_user</span>=h3d ansible_become=<span class=\"literal\">true</span> ansible_become_method=sudo</span><br><span class=\"line\">172.17.50.249 <span class=\"attr\">ansible_user</span>=h3d ansible_become=<span class=\"literal\">true</span> ansible_become_method=sudo</span><br><span class=\"line\"><span class=\"section\">[master]</span></span><br><span class=\"line\">172.17.50.246</span><br><span class=\"line\"><span class=\"section\">[worker]</span></span><br><span class=\"line\">172.17.50.247</span><br><span class=\"line\">172.17.50.248</span><br><span class=\"line\">172.17.50.249</span><br></pre></td></tr></table></figure></li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>ansiblemasterworker</p>\n<ol>\n<li>playbook<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nano setup.yml</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">base</span> <span class=\"string\">environment</span> <span class=\"string\">(shuting</span> <span class=\"string\">swap)</span></span><br><span class=\"line\">  <span class=\"attr\">hosts:</span> <span class=\"string\">all</span></span><br><span class=\"line\">  <span class=\"attr\">become:</span> <span class=\"literal\">yes</span></span><br><span class=\"line\">  <span class=\"attr\">tasks:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">shuting</span> <span class=\"string\">swap</span></span><br><span class=\"line\">      <span class=\"attr\">shell:</span> <span class=\"string\">swapoff</span> <span class=\"string\">-a</span></span><br><span class=\"line\">      <span class=\"attr\">ignore_errors:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">permenant</span> <span class=\"string\">shuting</span> <span class=\"string\">swap</span></span><br><span class=\"line\">      <span class=\"attr\">replace:</span></span><br><span class=\"line\">        <span class=\"attr\">path:</span> <span class=\"string\">/etc/fstab</span></span><br><span class=\"line\">        <span class=\"attr\">regexp:</span> <span class=\"string\">&#x27;^\\s*(.+?\\s+)+swap\\s+&#x27;</span></span><br><span class=\"line\">        <span class=\"attr\">replace:</span> <span class=\"string\">&#x27;# \\1&#x27;</span></span><br><span class=\"line\">      <span class=\"attr\">ignore_errors:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">enable</span> <span class=\"string\">kernel</span> <span class=\"string\">module</span></span><br><span class=\"line\">      <span class=\"attr\">shell:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">        modprobe overlay</span></span><br><span class=\"line\"><span class=\"string\">        modprobe br_netfilter</span></span><br><span class=\"line\"><span class=\"string\"></span>      <span class=\"attr\">ignore_errors:</span> <span class=\"literal\">true</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">deploy</span> <span class=\"string\">kernel</span> <span class=\"string\">arguments</span></span><br><span class=\"line\">      <span class=\"attr\">copy:</span></span><br><span class=\"line\">        <span class=\"attr\">dest:</span> <span class=\"string\">/etc/sysctl.d/k8s.conf</span></span><br><span class=\"line\">        <span class=\"attr\">content:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">          net.bridge.bridge-nf-call-ip6tables = 1</span></span><br><span class=\"line\"><span class=\"string\">          net.bridge.bridge-nf-call-iptables = 1</span></span><br><span class=\"line\"><span class=\"string\"></span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">apply</span> <span class=\"string\">sysctl</span> <span class=\"string\">configration</span></span><br><span class=\"line\">      <span class=\"attr\">shell:</span> <span class=\"string\">sysctl</span> <span class=\"string\">--system</span></span><br></pre></td></tr></table></figure></li>\n</ol>\n<h4 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h4><p>k8s1.24dockercontainerdk8s <strong>K8s</strong> </p>\n<ol>\n<li>playbook<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nano install-containerd.yml</span><br></pre></td></tr></table></figure></li>\n</ol>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">install</span> <span class=\"string\">containerd</span></span><br><span class=\"line\">  <span class=\"attr\">hosts:</span> <span class=\"string\">all</span></span><br><span class=\"line\">  <span class=\"attr\">become:</span> <span class=\"literal\">yes</span></span><br><span class=\"line\">  <span class=\"attr\">tasks:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">install</span> <span class=\"string\">containerd</span></span><br><span class=\"line\">      <span class=\"attr\">apt:</span></span><br><span class=\"line\">        <span class=\"attr\">name:</span> <span class=\"string\">containerd</span></span><br><span class=\"line\">        <span class=\"attr\">state:</span> <span class=\"string\">present</span></span><br><span class=\"line\">        <span class=\"attr\">update_cache:</span> <span class=\"literal\">yes</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">make</span> <span class=\"string\">containerd</span> <span class=\"string\">configuration</span> <span class=\"string\">file</span></span><br><span class=\"line\">      <span class=\"attr\">file:</span></span><br><span class=\"line\">        <span class=\"attr\">path:</span> <span class=\"string\">/etc/containerd</span></span><br><span class=\"line\">        <span class=\"attr\">state:</span> <span class=\"string\">directory</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">create</span> <span class=\"string\">default</span> <span class=\"string\">configuration</span> <span class=\"string\">file</span></span><br><span class=\"line\">      <span class=\"attr\">shell:</span> <span class=\"string\">containerd</span> <span class=\"string\">config</span> <span class=\"string\">default</span> <span class=\"string\">&gt;</span> <span class=\"string\">/etc/containerd/config.toml</span></span><br><span class=\"line\">      <span class=\"attr\">args:</span></span><br><span class=\"line\">        <span class=\"attr\">creates:</span> <span class=\"string\">/etc/contaierd/config.toml</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">enable</span> <span class=\"string\">SystemdCgroup</span> <span class=\"string\">(compatable</span> <span class=\"string\">kubernetes)</span></span><br><span class=\"line\">      <span class=\"attr\">replace:</span></span><br><span class=\"line\">        <span class=\"attr\">path:</span> <span class=\"string\">/etc/containerd/config.toml</span></span><br><span class=\"line\">        <span class=\"attr\">regexp:</span> <span class=\"string\">&#x27;SystemdCgroup = false&#x27;</span></span><br><span class=\"line\">        <span class=\"attr\">replace:</span> <span class=\"string\">&#x27;SystemdCgroup = true&#x27;</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">restart</span> <span class=\"string\">&amp;&amp;</span> <span class=\"string\">enable</span> <span class=\"string\">containerd</span> <span class=\"string\">service</span></span><br><span class=\"line\">      <span class=\"attr\">systemd:</span></span><br><span class=\"line\">        <span class=\"attr\">name:</span> <span class=\"string\">containerd</span></span><br><span class=\"line\">        <span class=\"attr\">enabled:</span> <span class=\"literal\">yes</span></span><br><span class=\"line\">        <span class=\"attr\">state:</span> <span class=\"string\">restarted</span></span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">containerd config default &gt; /etc/containerd/config.toml</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[plugins.<span class=\"string\">&quot;io.containerd.grpc.v1.cri&quot;</span>]</span><br><span class=\"line\">  sandbox_image = <span class=\"string\">&quot;registry.aliyuncs.com/google_containers/pause:3.8&quot;</span></span><br></pre></td></tr></table></figure>\n<p> runc  SystemdCgroup &#x3D; true</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">[plugins.<span class=\"string\">&quot;io.containerd.grpc.v1.cri&quot;</span>.containerd.runtimes.runc.options]</span><br><span class=\"line\">  SystemdCgroup = <span class=\"literal\">true</span></span><br></pre></td></tr></table></figure>\n<h4 id=\"k8s\"><a href=\"#k8s\" class=\"headerlink\" title=\"k8s\"></a>k8s</h4><ol>\n<li>playbook<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nano install-k8s.yml</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight yml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">install</span> <span class=\"string\">kubernetes</span> <span class=\"string\">module</span></span><br><span class=\"line\">  <span class=\"attr\">hosts:</span> <span class=\"string\">all</span></span><br><span class=\"line\">  <span class=\"attr\">become:</span> <span class=\"literal\">yes</span></span><br><span class=\"line\">  <span class=\"attr\">tasks:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">add</span> <span class=\"string\">Kubernetes</span> <span class=\"string\">source</span></span><br><span class=\"line\">      <span class=\"attr\">copy:</span></span><br><span class=\"line\">        <span class=\"attr\">dest:</span> <span class=\"string\">/etc/apt/sources.list.d/kubernetes.list</span></span><br><span class=\"line\">        <span class=\"attr\">content:</span> <span class=\"string\">|</span></span><br><span class=\"line\"><span class=\"string\">          deb [trusted=yes] https://mirrors.aliyun.com/kubernetes/apt/ kubernetes-xenial main</span></span><br><span class=\"line\"><span class=\"string\"></span>    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">update</span> <span class=\"string\">apt</span> <span class=\"string\">source</span></span><br><span class=\"line\">      <span class=\"attr\">apt:</span></span><br><span class=\"line\">        <span class=\"attr\">update_cache:</span> <span class=\"literal\">yes</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">install</span> <span class=\"string\">kueblet</span> <span class=\"string\">kubeadm</span> <span class=\"string\">kubectl</span></span><br><span class=\"line\">      <span class=\"attr\">apt:</span></span><br><span class=\"line\">        <span class=\"attr\">name:</span></span><br><span class=\"line\">          <span class=\"bullet\">-</span> <span class=\"string\">kubelet</span></span><br><span class=\"line\">          <span class=\"bullet\">-</span> <span class=\"string\">kubeadm</span></span><br><span class=\"line\">          <span class=\"bullet\">-</span> <span class=\"string\">kubectl</span></span><br><span class=\"line\">        <span class=\"attr\">state:</span> <span class=\"string\">present</span></span><br><span class=\"line\">        <span class=\"attr\">update_cache:</span> <span class=\"literal\">yes</span></span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"attr\">name:</span> <span class=\"string\">lock</span> <span class=\"string\">version</span></span><br><span class=\"line\">      <span class=\"attr\">shell:</span> <span class=\"string\">apt-mark</span> <span class=\"string\">hold</span> <span class=\"string\">kubelet</span> <span class=\"string\">kubeadm</span> <span class=\"string\">kubectl</span></span><br></pre></td></tr></table></figure></li>\n<li><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ansible-playbook -i ../hosts install-k8s.yml --ask-pass --ask-become-pass</span><br></pre></td></tr></table></figure></li>\n</ol>\n","_processedHighlight":true},{"title":"Docker/Kubernetes","date":"2025-05-24T07:17:08.000Z","_content":"docker1.24k8scontainerd\n\n### Docker\n20246dockerDocker [docker](https://www.luelulu.com/2025/03/25/docker/#%E8%A7%A3%E5%86%B3%E5%9B%BD%E5%86%85Docker%E9%95%9C%E5%83%8F%E9%97%AE%E9%A2%98)\n### K8s Containerd\nk8s1.24docker containerdpodcontainerddockerhubcontainerdconfig.toml\n\nk8s Kubernetes   containerdDocker   shell  ALL_PROXY\nshadowsocks vpn\n  k8s\n\n shadowsocks-libev\n```bash\nsudo apt update\nsudo apt install shadowsocks-libev -y\n# centos  yum\n```\n Shadowsocks \n```bash\nsudo nano /etc/shadowsocks-libev/config.json\n```\n()\n```json\n{\n    \"server\":\"123.123.123.123\",        // ECSIP\n    \"server_port\":8388,                // SS\n    \"local_port\":1080,                 // 1080\n    \"password\":\"your_password\",        // SS\n    \"timeout\":300,\n    \"method\":\"aes-256-gcm\",            // SS\n    \"fast_open\": false\n}\n```\n Shadowsocks \n```bash\nsudo systemctl restart shadowsocks-libev-local\nsudo systemctl enable shadowsocks-libev-local\n```\nnotfound  \n1.  ss-local  127.0.0.1:1080\n```bash\nwhich ss-local \n/usr/bin/ss-local   # \n# \nsudo apt install shadowsocks-libev\n```\n2.  systemd \n```bash\nsudo nano /etc/systemd/system/ss-local.service\n```\n\n```ini\n[Unit]\nDescription=Shadowsocks Local Client Service\nAfter=network.target\n\n[Service]\nExecStart=/usr/bin/ss-local -c /etc/shadowsocks-libev/config.json\nRestart=on-failure\n\n[Install]\nWantedBy=multi-user.target\n```\n ss-local  /usr/bin/ss-local which ss-local \n3.  systemd \n```bash\nsudo systemctl daemon-reexec\nsudo systemctl daemon-reload\n\nsudo systemctl start ss-local.service\nsudo systemctl enable ss-local.service\n# \nsudo systemctl status ss-local.service\n```\n  127.0.0.1:1080  socks5 \n```bash\ncurl --socks5-hostname 127.0.0.1:1080 https://google.com\n```\n  IP \n```bash\ncurl --socks5-hostname 127.0.0.1:1080 cip.cc\n```\n Privoxy  SOCKS5  HTTP\ncontainerdPrivoxySOCKS5HTTP\n\nprivoxy\n```bash\nsudo apt install privoxy -y\n#  Privoxy  HTTP  ss-local  SOCKS5 \nsudo nano /etc/privoxy/config\n```\n\n```conf\nforward-socks5t / 127.0.0.1:1080 . \n```\n\n```bash\nsudo systemctl restart privoxy\nsudo systemctl enable privoxy\n# \nss -tuln | grep 8118\n# \n127.0.0.1:8118\n```\n\n1. containerd  systemd \n```bash\nsudo mkdir -p /etc/systemd/system/containerd.service.d\nsudo nano /etc/systemd/system/containerd.service.d/http-proxy.conf\n```\n2. \n```ini\n[Service]\nEnvironment=\"HTTP_PROXY=http://127.0.0.1:8118\"\nEnvironment=\"HTTPS_PROXY=http://127.0.0.1:8118\"\nEnvironment=\"NO_PROXY=127.0.0.1,localhost,10.0.0.0/8,192.168.0.0/16\"\n```\n \n\tcontainerd  SOCKS5 HTTP  SOCKS5 ss-local  http-local \n\n\ncontainerd","source":"_posts/issuer.md","raw":"---\ntitle: Docker/Kubernetes\ndate: 2025-05-24 15:17:08\ntags:\n---\ndocker1.24k8scontainerd\n\n### Docker\n20246dockerDocker [docker](https://www.luelulu.com/2025/03/25/docker/#%E8%A7%A3%E5%86%B3%E5%9B%BD%E5%86%85Docker%E9%95%9C%E5%83%8F%E9%97%AE%E9%A2%98)\n### K8s Containerd\nk8s1.24docker containerdpodcontainerddockerhubcontainerdconfig.toml\n\nk8s Kubernetes   containerdDocker   shell  ALL_PROXY\nshadowsocks vpn\n  k8s\n\n shadowsocks-libev\n```bash\nsudo apt update\nsudo apt install shadowsocks-libev -y\n# centos  yum\n```\n Shadowsocks \n```bash\nsudo nano /etc/shadowsocks-libev/config.json\n```\n()\n```json\n{\n    \"server\":\"123.123.123.123\",        // ECSIP\n    \"server_port\":8388,                // SS\n    \"local_port\":1080,                 // 1080\n    \"password\":\"your_password\",        // SS\n    \"timeout\":300,\n    \"method\":\"aes-256-gcm\",            // SS\n    \"fast_open\": false\n}\n```\n Shadowsocks \n```bash\nsudo systemctl restart shadowsocks-libev-local\nsudo systemctl enable shadowsocks-libev-local\n```\nnotfound  \n1.  ss-local  127.0.0.1:1080\n```bash\nwhich ss-local \n/usr/bin/ss-local   # \n# \nsudo apt install shadowsocks-libev\n```\n2.  systemd \n```bash\nsudo nano /etc/systemd/system/ss-local.service\n```\n\n```ini\n[Unit]\nDescription=Shadowsocks Local Client Service\nAfter=network.target\n\n[Service]\nExecStart=/usr/bin/ss-local -c /etc/shadowsocks-libev/config.json\nRestart=on-failure\n\n[Install]\nWantedBy=multi-user.target\n```\n ss-local  /usr/bin/ss-local which ss-local \n3.  systemd \n```bash\nsudo systemctl daemon-reexec\nsudo systemctl daemon-reload\n\nsudo systemctl start ss-local.service\nsudo systemctl enable ss-local.service\n# \nsudo systemctl status ss-local.service\n```\n  127.0.0.1:1080  socks5 \n```bash\ncurl --socks5-hostname 127.0.0.1:1080 https://google.com\n```\n  IP \n```bash\ncurl --socks5-hostname 127.0.0.1:1080 cip.cc\n```\n Privoxy  SOCKS5  HTTP\ncontainerdPrivoxySOCKS5HTTP\n\nprivoxy\n```bash\nsudo apt install privoxy -y\n#  Privoxy  HTTP  ss-local  SOCKS5 \nsudo nano /etc/privoxy/config\n```\n\n```conf\nforward-socks5t / 127.0.0.1:1080 . \n```\n\n```bash\nsudo systemctl restart privoxy\nsudo systemctl enable privoxy\n# \nss -tuln | grep 8118\n# \n127.0.0.1:8118\n```\n\n1. containerd  systemd \n```bash\nsudo mkdir -p /etc/systemd/system/containerd.service.d\nsudo nano /etc/systemd/system/containerd.service.d/http-proxy.conf\n```\n2. \n```ini\n[Service]\nEnvironment=\"HTTP_PROXY=http://127.0.0.1:8118\"\nEnvironment=\"HTTPS_PROXY=http://127.0.0.1:8118\"\nEnvironment=\"NO_PROXY=127.0.0.1,localhost,10.0.0.0/8,192.168.0.0/16\"\n```\n \n\tcontainerd  SOCKS5 HTTP  SOCKS5 ss-local  http-local \n\n\ncontainerd","slug":"issuer","published":1,"updated":"2025-05-24T09:10:46.171Z","_id":"cmb1wcuaq00004us6enipgcwm","comments":1,"layout":"post","photos":[],"content":"<p>docker1.24k8scontainerd</p>\n<h3 id=\"Docker\"><a href=\"#Docker\" class=\"headerlink\" title=\"Docker\"></a>Docker</h3><p>20246dockerDocker <a href=\"https://www.luelulu.com/2025/03/25/docker/#%E8%A7%A3%E5%86%B3%E5%9B%BD%E5%86%85Docker%E9%95%9C%E5%83%8F%E9%97%AE%E9%A2%98\">docker</a></p>\n<h3 id=\"K8s-Containerd\"><a href=\"#K8s-Containerd\" class=\"headerlink\" title=\"K8s Containerd\"></a>K8s Containerd</h3><p>k8s1.24docker containerdpodcontainerddockerhubcontainerdconfig.toml</p>\n<p>k8s Kubernetes   containerdDocker   shell  ALL_PROXY<br>shadowsocks vpn<br>  k8s</p>\n<p> shadowsocks-libev</p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> apt update</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> apt install shadowsocks-libev -y</span><br><span class=\"line\"><span class=\"comment\"># centos  yum</span></span><br></pre></td></tr></table></figure></div>\n<p> Shadowsocks </p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> nano /etc/shadowsocks-libev/config.json</span><br></pre></td></tr></table></figure></div>\n<p>()</p>\n<div class=\"code-container\" data-rel=\"Json\"><figure class=\"iseeu highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;server&quot;</span><span class=\"punctuation\">:</span><span class=\"string\">&quot;123.123.123.123&quot;</span><span class=\"punctuation\">,</span>        <span class=\"comment\">// ECSIP</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;server_port&quot;</span><span class=\"punctuation\">:</span><span class=\"number\">8388</span><span class=\"punctuation\">,</span>                <span class=\"comment\">// SS</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;local_port&quot;</span><span class=\"punctuation\">:</span><span class=\"number\">1080</span><span class=\"punctuation\">,</span>                 <span class=\"comment\">// 1080</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;password&quot;</span><span class=\"punctuation\">:</span><span class=\"string\">&quot;your_password&quot;</span><span class=\"punctuation\">,</span>        <span class=\"comment\">// SS</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;timeout&quot;</span><span class=\"punctuation\">:</span><span class=\"number\">300</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;method&quot;</span><span class=\"punctuation\">:</span><span class=\"string\">&quot;aes-256-gcm&quot;</span><span class=\"punctuation\">,</span>            <span class=\"comment\">// SS</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;fast_open&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">false</span></span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure></div>\n<p> Shadowsocks </p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl restart shadowsocks-libev-local</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl <span class=\"built_in\">enable</span> shadowsocks-libev-local</span><br></pre></td></tr></table></figure></div>\n<p>notfound  </p>\n<ol>\n<li> ss-local  127.0.0.1:1080<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">which</span> ss-local </span><br><span class=\"line\">/usr/bin/ss-local   <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> apt install shadowsocks-libev</span><br></pre></td></tr></table></figure></div></li>\n<li> systemd <div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> nano /etc/systemd/system/ss-local.service</span><br></pre></td></tr></table></figure></div>\n<div class=\"code-container\" data-rel=\"Ini\"><figure class=\"iseeu highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">[Unit]</span></span><br><span class=\"line\"><span class=\"attr\">Description</span>=Shadowsocks Local Client Service</span><br><span class=\"line\"><span class=\"attr\">After</span>=network.target</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">[Service]</span></span><br><span class=\"line\"><span class=\"attr\">ExecStart</span>=/usr/bin/ss-local -c /etc/shadowsocks-libev/config.json</span><br><span class=\"line\"><span class=\"attr\">Restart</span>=<span class=\"literal\">on</span>-failure</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">[Install]</span></span><br><span class=\"line\"><span class=\"attr\">WantedBy</span>=multi-user.target</span><br></pre></td></tr></table></figure></div>\n ss-local  &#x2F;usr&#x2F;bin&#x2F;ss-local which ss-local </li>\n<li> systemd <div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl daemon-reexec</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl daemon-reload</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl start ss-local.service</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl <span class=\"built_in\">enable</span> ss-local.service</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl status ss-local.service</span><br></pre></td></tr></table></figure></div>\n  127.0.0.1:1080  socks5 <div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl --socks5-hostname 127.0.0.1:1080 https://google.com</span><br></pre></td></tr></table></figure></div>\n  IP <div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl --socks5-hostname 127.0.0.1:1080 cip.cc</span><br></pre></td></tr></table></figure></div>\n Privoxy  SOCKS5  HTTP<br>containerdPrivoxySOCKS5HTTP</li>\n</ol>\n<p>privoxy</p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> apt install privoxy -y</span><br><span class=\"line\"><span class=\"comment\">#  Privoxy  HTTP  ss-local  SOCKS5 </span></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> nano /etc/privoxy/config</span><br></pre></td></tr></table></figure></div>\n<p></p>\n<div class=\"code-container\" data-rel=\"Plaintext\"><figure class=\"iseeu highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">forward-socks5t / 127.0.0.1:1080 . </span><br></pre></td></tr></table></figure></div>\n<p></p>\n<div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl restart privoxy</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl <span class=\"built_in\">enable</span> privoxy</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">ss -tuln | grep 8118</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">127.0.0.1:8118</span><br></pre></td></tr></table></figure></div>\n<p></p>\n<ol>\n<li>containerd  systemd <div class=\"code-container\" data-rel=\"Bash\"><figure class=\"iseeu highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> <span class=\"built_in\">mkdir</span> -p /etc/systemd/system/containerd.service.d</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> nano /etc/systemd/system/containerd.service.d/http-proxy.conf</span><br></pre></td></tr></table></figure></div></li>\n<li><div class=\"code-container\" data-rel=\"Ini\"><figure class=\"iseeu highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">[Service]</span></span><br><span class=\"line\"><span class=\"attr\">Environment</span>=<span class=\"string\">&quot;HTTP_PROXY=http://127.0.0.1:8118&quot;</span></span><br><span class=\"line\"><span class=\"attr\">Environment</span>=<span class=\"string\">&quot;HTTPS_PROXY=http://127.0.0.1:8118&quot;</span></span><br><span class=\"line\"><span class=\"attr\">Environment</span>=<span class=\"string\">&quot;NO_PROXY=127.0.0.1,localhost,10.0.0.0/8,192.168.0.0/16&quot;</span></span><br></pre></td></tr></table></figure></div>\n <br>\tcontainerd  SOCKS5 HTTP  SOCKS5 ss-local  http-local </li>\n</ol>\n<p>containerd</p>\n","excerpt":"","more":"<p>docker1.24k8scontainerd</p>\n<h3 id=\"Docker\"><a href=\"#Docker\" class=\"headerlink\" title=\"Docker\"></a>Docker</h3><p>20246dockerDocker <a href=\"https://www.luelulu.com/2025/03/25/docker/#%E8%A7%A3%E5%86%B3%E5%9B%BD%E5%86%85Docker%E9%95%9C%E5%83%8F%E9%97%AE%E9%A2%98\">docker</a></p>\n<h3 id=\"K8s-Containerd\"><a href=\"#K8s-Containerd\" class=\"headerlink\" title=\"K8s Containerd\"></a>K8s Containerd</h3><p>k8s1.24docker containerdpodcontainerddockerhubcontainerdconfig.toml</p>\n<p>k8s Kubernetes   containerdDocker   shell  ALL_PROXY<br>shadowsocks vpn<br>  k8s</p>\n<p> shadowsocks-libev</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> apt update</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> apt install shadowsocks-libev -y</span><br><span class=\"line\"><span class=\"comment\"># centos  yum</span></span><br></pre></td></tr></table></figure>\n<p> Shadowsocks </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> nano /etc/shadowsocks-libev/config.json</span><br></pre></td></tr></table></figure>\n<p>()</p>\n<figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;server&quot;</span><span class=\"punctuation\">:</span><span class=\"string\">&quot;123.123.123.123&quot;</span><span class=\"punctuation\">,</span>        <span class=\"comment\">// ECSIP</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;server_port&quot;</span><span class=\"punctuation\">:</span><span class=\"number\">8388</span><span class=\"punctuation\">,</span>                <span class=\"comment\">// SS</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;local_port&quot;</span><span class=\"punctuation\">:</span><span class=\"number\">1080</span><span class=\"punctuation\">,</span>                 <span class=\"comment\">// 1080</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;password&quot;</span><span class=\"punctuation\">:</span><span class=\"string\">&quot;your_password&quot;</span><span class=\"punctuation\">,</span>        <span class=\"comment\">// SS</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;timeout&quot;</span><span class=\"punctuation\">:</span><span class=\"number\">300</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;method&quot;</span><span class=\"punctuation\">:</span><span class=\"string\">&quot;aes-256-gcm&quot;</span><span class=\"punctuation\">,</span>            <span class=\"comment\">// SS</span></span><br><span class=\"line\">    <span class=\"attr\">&quot;fast_open&quot;</span><span class=\"punctuation\">:</span> <span class=\"literal\"><span class=\"keyword\">false</span></span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n<p> Shadowsocks </p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl restart shadowsocks-libev-local</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl <span class=\"built_in\">enable</span> shadowsocks-libev-local</span><br></pre></td></tr></table></figure>\n<p>notfound  </p>\n<ol>\n<li> ss-local  127.0.0.1:1080<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">which</span> ss-local </span><br><span class=\"line\">/usr/bin/ss-local   <span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> apt install shadowsocks-libev</span><br></pre></td></tr></table></figure></li>\n<li> systemd <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> nano /etc/systemd/system/ss-local.service</span><br></pre></td></tr></table></figure>\n<figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">[Unit]</span></span><br><span class=\"line\"><span class=\"attr\">Description</span>=Shadowsocks Local Client Service</span><br><span class=\"line\"><span class=\"attr\">After</span>=network.target</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">[Service]</span></span><br><span class=\"line\"><span class=\"attr\">ExecStart</span>=/usr/bin/ss-local -c /etc/shadowsocks-libev/config.json</span><br><span class=\"line\"><span class=\"attr\">Restart</span>=<span class=\"literal\">on</span>-failure</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"section\">[Install]</span></span><br><span class=\"line\"><span class=\"attr\">WantedBy</span>=multi-user.target</span><br></pre></td></tr></table></figure>\n ss-local  &#x2F;usr&#x2F;bin&#x2F;ss-local which ss-local </li>\n<li> systemd <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl daemon-reexec</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl daemon-reload</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl start ss-local.service</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl <span class=\"built_in\">enable</span> ss-local.service</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl status ss-local.service</span><br></pre></td></tr></table></figure>\n  127.0.0.1:1080  socks5 <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl --socks5-hostname 127.0.0.1:1080 https://google.com</span><br></pre></td></tr></table></figure>\n  IP <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">curl --socks5-hostname 127.0.0.1:1080 cip.cc</span><br></pre></td></tr></table></figure>\n Privoxy  SOCKS5  HTTP<br>containerdPrivoxySOCKS5HTTP</li>\n</ol>\n<p>privoxy</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> apt install privoxy -y</span><br><span class=\"line\"><span class=\"comment\">#  Privoxy  HTTP  ss-local  SOCKS5 </span></span><br><span class=\"line\"><span class=\"built_in\">sudo</span> nano /etc/privoxy/config</span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">forward-socks5t / 127.0.0.1:1080 . </span><br></pre></td></tr></table></figure>\n<p></p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl restart privoxy</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> systemctl <span class=\"built_in\">enable</span> privoxy</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">ss -tuln | grep 8118</span><br><span class=\"line\"><span class=\"comment\"># </span></span><br><span class=\"line\">127.0.0.1:8118</span><br></pre></td></tr></table></figure>\n<p></p>\n<ol>\n<li>containerd  systemd <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">sudo</span> <span class=\"built_in\">mkdir</span> -p /etc/systemd/system/containerd.service.d</span><br><span class=\"line\"><span class=\"built_in\">sudo</span> nano /etc/systemd/system/containerd.service.d/http-proxy.conf</span><br></pre></td></tr></table></figure></li>\n<li><figure class=\"highlight ini\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"section\">[Service]</span></span><br><span class=\"line\"><span class=\"attr\">Environment</span>=<span class=\"string\">&quot;HTTP_PROXY=http://127.0.0.1:8118&quot;</span></span><br><span class=\"line\"><span class=\"attr\">Environment</span>=<span class=\"string\">&quot;HTTPS_PROXY=http://127.0.0.1:8118&quot;</span></span><br><span class=\"line\"><span class=\"attr\">Environment</span>=<span class=\"string\">&quot;NO_PROXY=127.0.0.1,localhost,10.0.0.0/8,192.168.0.0/16&quot;</span></span><br></pre></td></tr></table></figure>\n <br>\tcontainerd  SOCKS5 HTTP  SOCKS5 ss-local  http-local </li>\n</ol>\n<p>containerd</p>\n","_processedHighlight":true},{"title":"MCP ","date":"2025-06-12T10:11:27.000Z","_content":"\n## \n\n\nMCPModel Context Protocol\n\n\n###  MCP\n\n- ****\n- ****\n- ****\n\n## \n\n### \n\n- **Conversation** ID\n- **ContextNode**\n- **Metadata**\n\n### \n\n```json\n{\n  \"conversation_id\": \"123456\",\n  \"nodes\": [\n    {\n      \"id\": \"node1\",\n      \"role\": \"user\",\n      \"content\": \"MCP \",\n      \"timestamp\": 1718200000\n    },\n    {\n      \"id\": \"node2\",\n      \"role\": \"assistant\",\n      \"content\": \"MCP \",\n      \"parent\": \"node1\",\n      \"timestamp\": 1718200001\n    }\n  ]\n}\n```\n `parent` \n `reference`\n\n### \n\n\n\n\n## \n\n Node.js  `mcp-js` \n\n\n## \n\n API  MCP \n ID \n\n## \n\nMCP \n`Metadata` \n\n","source":"_posts/MCP.md","raw":"---\ntitle: MCP \ndate: 2025-06-12 18:11:27\ntags: [, ]\ncategories: [AI, MCP]\n---\n\n## \n\n\nMCPModel Context Protocol\n\n\n###  MCP\n\n- ****\n- ****\n- ****\n\n## \n\n### \n\n- **Conversation** ID\n- **ContextNode**\n- **Metadata**\n\n### \n\n```json\n{\n  \"conversation_id\": \"123456\",\n  \"nodes\": [\n    {\n      \"id\": \"node1\",\n      \"role\": \"user\",\n      \"content\": \"MCP \",\n      \"timestamp\": 1718200000\n    },\n    {\n      \"id\": \"node2\",\n      \"role\": \"assistant\",\n      \"content\": \"MCP \",\n      \"parent\": \"node1\",\n      \"timestamp\": 1718200001\n    }\n  ]\n}\n```\n `parent` \n `reference`\n\n### \n\n\n\n\n## \n\n Node.js  `mcp-js` \n\n\n## \n\n API  MCP \n ID \n\n## \n\nMCP \n`Metadata` \n\n","slug":"MCP","published":1,"updated":"2025-06-13T06:58:52.146Z","_id":"cmbt7yskk0000ge0zegqwg5q1","comments":1,"layout":"post","photos":[],"content":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><br>MCPModel Context Protocol<br></p>\n<h3 id=\"-MCP\"><a href=\"#-MCP\" class=\"headerlink\" title=\" MCP\"></a> MCP</h3><ul>\n<li><strong></strong></li>\n<li><strong></strong></li>\n<li><strong></strong></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><strong>Conversation</strong> ID</li>\n<li><strong>ContextNode</strong></li>\n<li><strong>Metadata</strong></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><div class=\"code-container\" data-rel=\"Json\"><figure class=\"iseeu highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;conversation_id&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;123456&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;nodes&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;id&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;node1&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;role&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;user&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;content&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;MCP &quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;timestamp&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">1718200000</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;id&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;node2&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;role&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;assistant&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;content&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;MCP &quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;parent&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;node1&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;timestamp&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">1718200001</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">]</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure></div>\n<p> <code>parent</code> <br> <code>reference</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Node.js  <code>mcp-js</code> <br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> API  MCP <br> ID </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>MCP <br><code>Metadata</code> </p>\n","excerpt":"","more":"<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p><br><br>MCPModel Context Protocol<br></p>\n<h3 id=\"-MCP\"><a href=\"#-MCP\" class=\"headerlink\" title=\" MCP\"></a> MCP</h3><ul>\n<li><strong></strong></li>\n<li><strong></strong></li>\n<li><strong></strong></li>\n</ul>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><ul>\n<li><strong>Conversation</strong> ID</li>\n<li><strong>ContextNode</strong></li>\n<li><strong>Metadata</strong></li>\n</ul>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><figure class=\"highlight json\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;conversation_id&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;123456&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"attr\">&quot;nodes&quot;</span><span class=\"punctuation\">:</span> <span class=\"punctuation\">[</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;id&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;node1&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;role&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;user&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;content&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;MCP &quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;timestamp&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">1718200000</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;id&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;node2&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;role&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;assistant&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;content&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;MCP &quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;parent&quot;</span><span class=\"punctuation\">:</span> <span class=\"string\">&quot;node1&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"attr\">&quot;timestamp&quot;</span><span class=\"punctuation\">:</span> <span class=\"number\">1718200001</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">]</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n<p> <code>parent</code> <br> <code>reference</code></p>\n<h3 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h3><p><br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> Node.js  <code>mcp-js</code> <br></p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p> API  MCP <br> ID </p>\n<h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><p>MCP <br><code>Metadata</code> </p>\n","_processedHighlight":true}],"PostAsset":[],"PostCategory":[{"post_id":"cm8pijwzn00004sr25r4sffyf","category_id":"cm8nyva6v0007xor237sk83s3","_id":"cm8pikbfe00024sr2cxcv41nn"},{"post_id":"cm8pijwzn00004sr25r4sffyf","category_id":"cm8pikep200054sr29fvs0b0c","_id":"cm8pikep300064sr28jbedh99"},{"post_id":"cm92e3g9g0000el0zhb711vxw","category_id":"cm8nyva6v0007xor237sk83s3","_id":"cm92e3g9k0004el0z6nuz61q7"},{"post_id":"cm92e3g9g0000el0zhb711vxw","category_id":"cm8nyva6v0008xor2dfjn47hf","_id":"cm92e3g9k0006el0z7krm5zhp"},{"post_id":"cm92e3g9j0002el0z85yu8s1z","category_id":"cm8vd0kfo0001we0zau3wc88h","_id":"cm92e3g9k0008el0zbv38248d"},{"post_id":"cm92e3g9j0002el0z85yu8s1z","category_id":"cm8vd0kfp0004we0z1droe9kb","_id":"cm92e3g9k0009el0zd9khelt8"},{"post_id":"cm92e3g9j0002el0z85yu8s1z","category_id":"cm8vefyu1000ewe0z5yt89372","_id":"cm92e3g9k000ael0zgzoa2avs"},{"post_id":"cm9fbeeee0000xq0zfv8ofy31","category_id":"cm8vd0kfo0001we0zau3wc88h","_id":"cm9m8tcdt0004ho0z7ive5llj"},{"post_id":"cm9fbeeee0000xq0zfv8ofy31","category_id":"cm9m8tcds0001ho0z76tc2sfd","_id":"cm9m8tcdt0005ho0zc30ndw2f"},{"post_id":"cm9vb1fdk0000zrs6f7vgezxy","category_id":"cm8vd0kfo0001we0zau3wc88h","_id":"cm9vbm93m0003zrs699mu9oct"},{"post_id":"cm9vb1fdk0000zrs6f7vgezxy","category_id":"cm9vbmlxa0007zrs61cjt06nk","_id":"cm9vbmlxb0008zrs65rkgfmak"},{"post_id":"cmbt7yskk0000ge0zegqwg5q1","category_id":"cmbt8lei10000ft0z3zieebjd","_id":"cmbt8lei40006ft0z085wehxz"},{"post_id":"cmbt7yskk0000ge0zegqwg5q1","category_id":"cmbt8lei30003ft0zg5xebkki","_id":"cmbt8lei40007ft0zcl790a2k"},{"post_id":"cm8phujp7000070r22z040kuz","category_id":"cm8vd0kfo0001we0zau3wc88h","_id":"cmbuzhqhu00030kgne1r0ezxf"},{"post_id":"cm8phujp7000070r22z040kuz","category_id":"cmbuzhqht00010kgn8unw7r0d","_id":"cmbuzhqhu00050kgn4dix3i83"}],"PostTag":[{"post_id":"cm8pijwzn00004sr25r4sffyf","tag_id":"cm8veglmr000nwe0z3o0jg5tx","_id":"cm8vegpwq000uwe0zhvy40lwx"},{"post_id":"cm8pijwzn00004sr25r4sffyf","tag_id":"cm8vegpwq000twe0z71ev3qlc","_id":"cm8vegpwq000vwe0zeyuycsx9"},{"post_id":"cm92e3g9g0000el0zhb711vxw","tag_id":"cm8veglmr000nwe0z3o0jg5tx","_id":"cm92e3g9i0001el0z6jqxe6xq"},{"post_id":"cm92e3g9g0000el0zhb711vxw","tag_id":"cm8veglmr000pwe0zcar84nii","_id":"cm92e3g9j0003el0z34bp0nha"},{"post_id":"cm92e3g9j0002el0z85yu8s1z","tag_id":"cm8vefyu1000dwe0zhd4a7e8l","_id":"cm92e3g9k0005el0zfdmygxre"},{"post_id":"cm92e3g9j0002el0z85yu8s1z","tag_id":"cm8vefyu1000fwe0z0h6h8qjp","_id":"cm92e3g9k0007el0zfs5627jg"},{"post_id":"cm9fbeeee0000xq0zfv8ofy31","tag_id":"cm8vefyu1000dwe0zhd4a7e8l","_id":"cm9m8tcdt0002ho0z7nmw8dsg"},{"post_id":"cm9fbeeee0000xq0zfv8ofy31","tag_id":"cm9m8tcdr0000ho0z9kos6scy","_id":"cm9m8tcdt0003ho0z45ew9cnd"},{"post_id":"cm9vb1fdk0000zrs6f7vgezxy","tag_id":"cm8vefyu1000dwe0zhd4a7e8l","_id":"cm9vbm93l0001zrs6g40b0pcn"},{"post_id":"cm9vb1fdk0000zrs6f7vgezxy","tag_id":"cm9vbmd6f0005zrs63x41f3rb","_id":"cm9vbmd6g0006zrs6883w7evw"},{"post_id":"cmbt7yskk0000ge0zegqwg5q1","tag_id":"cmbt8lei20001ft0zeyhdcw65","_id":"cmbt8lei40004ft0z9xyd3rly"},{"post_id":"cmbt7yskk0000ge0zegqwg5q1","tag_id":"cmbt8lei30002ft0zd547durs","_id":"cmbt8lei40005ft0z5poqb02d"},{"post_id":"cm8phujp7000070r22z040kuz","tag_id":"cm8vefyu1000dwe0zhd4a7e8l","_id":"cmbuzhqhu00040kgn5whu67yc"},{"post_id":"cm8phujp7000070r22z040kuz","tag_id":"cmbuzhqhs00000kgn4gih288i","_id":"cmbuzhqhu00060kgnfwskdpsr"},{"post_id":"cm8phujp7000070r22z040kuz","tag_id":"cmbuzhqhu00020kgn5vazf5bw","_id":"cmbuzhqhu00070kgne3j8e4np"}],"Tag":[{"name":"docker","_id":"cm8nyux3t0002xor2fz54bole"},{"name":"Python","_id":"cm8phvfvf00000gr2bpjrb8ss"},{"name":"Shell","_id":"cm8pikbfd00014sr21phkhcq8"},{"name":"","_id":"cm8vd0kfo0002we0z8oticpcn"},{"name":"Prometheus+Grafana","_id":"cm8veek7g0008we0z8elpdf0o"},{"name":"","_id":"cm8vefyu1000dwe0zhd4a7e8l"},{"name":"","_id":"cm8vefyu1000fwe0z0h6h8qjp"},{"name":"Prometheus+Grafana","_id":"cm8vefyu1000gwe0zfpym2c5f"},{"name":"","_id":"cm8veglmr000nwe0z3o0jg5tx"},{"name":"docker","_id":"cm8veglmr000pwe0zcar84nii"},{"name":"Shell","_id":"cm8vegpwq000twe0z71ev3qlc"},{"name":"k8s","_id":"cm9m8tcdr0000ho0z9kos6scy"},{"name":"Ansible","_id":"cm9vbmd6f0005zrs63x41f3rb"},{"name":"","_id":"cmbt8lei20001ft0zeyhdcw65"},{"name":"","_id":"cmbt8lei30002ft0zd547durs"},{"name":"Python","_id":"cmbuzhqhs00000kgn4gih288i"},{"name":"","_id":"cmbuzhqhu00020kgn5vazf5bw"}]}}